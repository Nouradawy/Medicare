var z6=Object.defineProperty;var cT=r=>{throw TypeError(r)};var q6=(r,e,t)=>e in r?z6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var pe=(r,e,t)=>q6(r,typeof e!="symbol"?e+"":e,t),D1=(r,e,t)=>e.has(r)||cT("Cannot "+t);var m=(r,e,t)=>(D1(r,e,"read from private field"),t?t.call(r):e.get(r)),I=(r,e,t)=>e.has(r)?cT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),O=(r,e,t,n)=>(D1(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),k=(r,e,t)=>(D1(r,e,"access private method"),t);var Gn=(r,e,t,n)=>({set _(s){O(r,e,s,t)},get _(){return m(r,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function nh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var L1={exports:{}},rd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function G6(){if(uT)return rd;uT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:r,type:n,key:u,ref:s!==void 0?s:null,props:o}}return rd.Fragment=e,rd.jsx=t,rd.jsxs=t,rd}var hT;function V6(){return hT||(hT=1,L1.exports=G6()),L1.exports}var y=V6(),O1={},ad={},dT;function $6(){if(dT)return ad;dT=1,ad.byteLength=c,ad.toByteArray=d,ad.fromByteArray=b;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=n.length;s<o;++s)r[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function u(w){var S=w.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=w.indexOf("=");E===-1&&(E=S);var D=E===S?0:4-E%4;return[E,D]}function c(w){var S=u(w),E=S[0],D=S[1];return(E+D)*3/4-D}function h(w,S,E){return(S+E)*3/4-E}function d(w){var S,E=u(w),D=E[0],A=E[1],C=new t(h(w,D,A)),R=0,N=A>0?D-4:D,L;for(L=0;L<N;L+=4)S=e[w.charCodeAt(L)]<<18|e[w.charCodeAt(L+1)]<<12|e[w.charCodeAt(L+2)]<<6|e[w.charCodeAt(L+3)],C[R++]=S>>16&255,C[R++]=S>>8&255,C[R++]=S&255;return A===2&&(S=e[w.charCodeAt(L)]<<2|e[w.charCodeAt(L+1)]>>4,C[R++]=S&255),A===1&&(S=e[w.charCodeAt(L)]<<10|e[w.charCodeAt(L+1)]<<4|e[w.charCodeAt(L+2)]>>2,C[R++]=S>>8&255,C[R++]=S&255),C}function p(w){return r[w>>18&63]+r[w>>12&63]+r[w>>6&63]+r[w&63]}function g(w,S,E){for(var D,A=[],C=S;C<E;C+=3)D=(w[C]<<16&16711680)+(w[C+1]<<8&65280)+(w[C+2]&255),A.push(p(D));return A.join("")}function b(w){for(var S,E=w.length,D=E%3,A=[],C=16383,R=0,N=E-D;R<N;R+=C)A.push(g(w,R,R+C>N?N:R+C));return D===1?(S=w[E-1],A.push(r[S>>2]+r[S<<4&63]+"==")):D===2&&(S=(w[E-2]<<8)+w[E-1],A.push(r[S>>10]+r[S>>4&63]+r[S<<2&63]+"=")),A.join("")}return ad}var Cm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var fT;function Y6(){return fT||(fT=1,Cm.read=function(r,e,t,n,s){var o,u,c=s*8-n-1,h=(1<<c)-1,d=h>>1,p=-7,g=t?s-1:0,b=t?-1:1,w=r[e+g];for(g+=b,o=w&(1<<-p)-1,w>>=-p,p+=c;p>0;o=o*256+r[e+g],g+=b,p-=8);for(u=o&(1<<-p)-1,o>>=-p,p+=n;p>0;u=u*256+r[e+g],g+=b,p-=8);if(o===0)o=1-d;else{if(o===h)return u?NaN:(w?-1:1)*(1/0);u=u+Math.pow(2,n),o=o-d}return(w?-1:1)*u*Math.pow(2,o-n)},Cm.write=function(r,e,t,n,s,o){var u,c,h,d=o*8-s-1,p=(1<<d)-1,g=p>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:o-1,S=n?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,u=p):(u=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+g>=1?e+=b/h:e+=b*Math.pow(2,1-g),e*h>=2&&(u++,h/=2),u+g>=p?(c=0,u=p):u+g>=1?(c=(e*h-1)*Math.pow(2,s),u=u+g):(c=e*Math.pow(2,g-1)*Math.pow(2,s),u=0));s>=8;r[t+w]=c&255,w+=S,c/=256,s-=8);for(u=u<<s|c,d+=s;d>0;r[t+w]=u&255,w+=S,u/=256,d-=8);r[t+w-S]|=E*128}),Cm}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var pT;function X6(){return pT||(pT=1,function(r){const e=$6(),t=Y6(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=C,r.INSPECT_MAX_BYTES=50;const s=2147483647;r.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=o(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const j=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(j,T),j.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function u(j){if(j>s)throw new RangeError('The value "'+j+'" is invalid for option "size"');const T=new Uint8Array(j);return Object.setPrototypeOf(T,c.prototype),T}function c(j,T,_){if(typeof j=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(j)}return h(j,T,_)}c.poolSize=8192;function h(j,T,_){if(typeof j=="string")return b(j,T);if(ArrayBuffer.isView(j))return S(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(ei(j,ArrayBuffer)||j&&ei(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ei(j,SharedArrayBuffer)||j&&ei(j.buffer,SharedArrayBuffer)))return E(j,T,_);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=j.valueOf&&j.valueOf();if(z!=null&&z!==j)return c.from(z,T,_);const Q=D(j);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return c.from(j[Symbol.toPrimitive]("string"),T,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}c.from=function(j,T,_){return h(j,T,_)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function d(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function p(j,T,_){return d(j),j<=0?u(j):T!==void 0?typeof _=="string"?u(j).fill(T,_):u(j).fill(T):u(j)}c.alloc=function(j,T,_){return p(j,T,_)};function g(j){return d(j),u(j<0?0:A(j)|0)}c.allocUnsafe=function(j){return g(j)},c.allocUnsafeSlow=function(j){return g(j)};function b(j,T){if((typeof T!="string"||T==="")&&(T="utf8"),!c.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const _=R(j,T)|0;let z=u(_);const Q=z.write(j,T);return Q!==_&&(z=z.slice(0,Q)),z}function w(j){const T=j.length<0?0:A(j.length)|0,_=u(T);for(let z=0;z<T;z+=1)_[z]=j[z]&255;return _}function S(j){if(ei(j,Uint8Array)){const T=new Uint8Array(j);return E(T.buffer,T.byteOffset,T.byteLength)}return w(j)}function E(j,T,_){if(T<0||j.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<T+(_||0))throw new RangeError('"length" is outside of buffer bounds');let z;return T===void 0&&_===void 0?z=new Uint8Array(j):_===void 0?z=new Uint8Array(j,T):z=new Uint8Array(j,T,_),Object.setPrototypeOf(z,c.prototype),z}function D(j){if(c.isBuffer(j)){const T=A(j.length)|0,_=u(T);return _.length===0||j.copy(_,0,0,T),_}if(j.length!==void 0)return typeof j.length!="number"||sa(j.length)?u(0):w(j);if(j.type==="Buffer"&&Array.isArray(j.data))return w(j.data)}function A(j){if(j>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return j|0}function C(j){return+j!=j&&(j=0),c.alloc(+j)}c.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==c.prototype},c.compare=function(T,_){if(ei(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),ei(_,Uint8Array)&&(_=c.from(_,_.offset,_.byteLength)),!c.isBuffer(T)||!c.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===_)return 0;let z=T.length,Q=_.length;for(let ae=0,ue=Math.min(z,Q);ae<ue;++ae)if(T[ae]!==_[ae]){z=T[ae],Q=_[ae];break}return z<Q?-1:Q<z?1:0},c.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(T,_){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return c.alloc(0);let z;if(_===void 0)for(_=0,z=0;z<T.length;++z)_+=T[z].length;const Q=c.allocUnsafe(_);let ae=0;for(z=0;z<T.length;++z){let ue=T[z];if(ei(ue,Uint8Array))ae+ue.length>Q.length?(c.isBuffer(ue)||(ue=c.from(ue)),ue.copy(Q,ae)):Uint8Array.prototype.set.call(Q,ue,ae);else if(c.isBuffer(ue))ue.copy(Q,ae);else throw new TypeError('"list" argument must be an Array of Buffers');ae+=ue.length}return Q};function R(j,T){if(c.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||ei(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);const _=j.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&_===0)return 0;let Q=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return qt(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return vo(j).length;default:if(Q)return z?-1:qt(j).length;T=(""+T).toLowerCase(),Q=!0}}c.byteLength=R;function N(j,T,_){let z=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,T>>>=0,_<=T))return"";for(j||(j="utf8");;)switch(j){case"hex":return be(this,T,_);case"utf8":case"utf-8":return oe(this,T,_);case"ascii":return ie(this,T,_);case"latin1":case"binary":return ce(this,T,_);case"base64":return Y(this,T,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,T,_);default:if(z)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),z=!0}}c.prototype._isBuffer=!0;function L(j,T,_){const z=j[T];j[T]=j[_],j[_]=z}c.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<T;_+=2)L(this,_,_+1);return this},c.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<T;_+=4)L(this,_,_+3),L(this,_+1,_+2);return this},c.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<T;_+=8)L(this,_,_+7),L(this,_+1,_+6),L(this,_+2,_+5),L(this,_+3,_+4);return this},c.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?oe(this,0,T):N.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(T){if(!c.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:c.compare(this,T)===0},c.prototype.inspect=function(){let T="";const _=r.INSPECT_MAX_BYTES;return T=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(T+=" ... "),"<Buffer "+T+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(T,_,z,Q,ae){if(ei(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),!c.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(_===void 0&&(_=0),z===void 0&&(z=T?T.length:0),Q===void 0&&(Q=0),ae===void 0&&(ae=this.length),_<0||z>T.length||Q<0||ae>this.length)throw new RangeError("out of range index");if(Q>=ae&&_>=z)return 0;if(Q>=ae)return-1;if(_>=z)return 1;if(_>>>=0,z>>>=0,Q>>>=0,ae>>>=0,this===T)return 0;let ue=ae-Q,je=z-_;const it=Math.min(ue,je),rt=this.slice(Q,ae),pt=T.slice(_,z);for(let at=0;at<it;++at)if(rt[at]!==pt[at]){ue=rt[at],je=pt[at];break}return ue<je?-1:je<ue?1:0};function H(j,T,_,z,Q){if(j.length===0)return-1;if(typeof _=="string"?(z=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,sa(_)&&(_=Q?0:j.length-1),_<0&&(_=j.length+_),_>=j.length){if(Q)return-1;_=j.length-1}else if(_<0)if(Q)_=0;else return-1;if(typeof T=="string"&&(T=c.from(T,z)),c.isBuffer(T))return T.length===0?-1:F(j,T,_,z,Q);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(j,T,_):Uint8Array.prototype.lastIndexOf.call(j,T,_):F(j,[T],_,z,Q);throw new TypeError("val must be string, number or Buffer")}function F(j,T,_,z,Q){let ae=1,ue=j.length,je=T.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(j.length<2||T.length<2)return-1;ae=2,ue/=2,je/=2,_/=2}function it(pt,at){return ae===1?pt[at]:pt.readUInt16BE(at*ae)}let rt;if(Q){let pt=-1;for(rt=_;rt<ue;rt++)if(it(j,rt)===it(T,pt===-1?0:rt-pt)){if(pt===-1&&(pt=rt),rt-pt+1===je)return pt*ae}else pt!==-1&&(rt-=rt-pt),pt=-1}else for(_+je>ue&&(_=ue-je),rt=_;rt>=0;rt--){let pt=!0;for(let at=0;at<je;at++)if(it(j,rt+at)!==it(T,at)){pt=!1;break}if(pt)return rt}return-1}c.prototype.includes=function(T,_,z){return this.indexOf(T,_,z)!==-1},c.prototype.indexOf=function(T,_,z){return H(this,T,_,z,!0)},c.prototype.lastIndexOf=function(T,_,z){return H(this,T,_,z,!1)};function U(j,T,_,z){_=Number(_)||0;const Q=j.length-_;z?(z=Number(z),z>Q&&(z=Q)):z=Q;const ae=T.length;z>ae/2&&(z=ae/2);let ue;for(ue=0;ue<z;++ue){const je=parseInt(T.substr(ue*2,2),16);if(sa(je))return ue;j[_+ue]=je}return ue}function q(j,T,_,z){return Jn(qt(T,j.length-_),j,_,z)}function te(j,T,_,z){return Jn(er(T),j,_,z)}function V(j,T,_,z){return Jn(vo(T),j,_,z)}function ee(j,T,_,z){return Jn(ec(T,j.length-_),j,_,z)}c.prototype.write=function(T,_,z,Q){if(_===void 0)Q="utf8",z=this.length,_=0;else if(z===void 0&&typeof _=="string")Q=_,z=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(z)?(z=z>>>0,Q===void 0&&(Q="utf8")):(Q=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ae=this.length-_;if((z===void 0||z>ae)&&(z=ae),T.length>0&&(z<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");let ue=!1;for(;;)switch(Q){case"hex":return U(this,T,_,z);case"utf8":case"utf-8":return q(this,T,_,z);case"ascii":case"latin1":case"binary":return te(this,T,_,z);case"base64":return V(this,T,_,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,T,_,z);default:if(ue)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),ue=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(j,T,_){return T===0&&_===j.length?e.fromByteArray(j):e.fromByteArray(j.slice(T,_))}function oe(j,T,_){_=Math.min(j.length,_);const z=[];let Q=T;for(;Q<_;){const ae=j[Q];let ue=null,je=ae>239?4:ae>223?3:ae>191?2:1;if(Q+je<=_){let it,rt,pt,at;switch(je){case 1:ae<128&&(ue=ae);break;case 2:it=j[Q+1],(it&192)===128&&(at=(ae&31)<<6|it&63,at>127&&(ue=at));break;case 3:it=j[Q+1],rt=j[Q+2],(it&192)===128&&(rt&192)===128&&(at=(ae&15)<<12|(it&63)<<6|rt&63,at>2047&&(at<55296||at>57343)&&(ue=at));break;case 4:it=j[Q+1],rt=j[Q+2],pt=j[Q+3],(it&192)===128&&(rt&192)===128&&(pt&192)===128&&(at=(ae&15)<<18|(it&63)<<12|(rt&63)<<6|pt&63,at>65535&&at<1114112&&(ue=at))}}ue===null?(ue=65533,je=1):ue>65535&&(ue-=65536,z.push(ue>>>10&1023|55296),ue=56320|ue&1023),z.push(ue),Q+=je}return W(z)}const de=4096;function W(j){const T=j.length;if(T<=de)return String.fromCharCode.apply(String,j);let _="",z=0;for(;z<T;)_+=String.fromCharCode.apply(String,j.slice(z,z+=de));return _}function ie(j,T,_){let z="";_=Math.min(j.length,_);for(let Q=T;Q<_;++Q)z+=String.fromCharCode(j[Q]&127);return z}function ce(j,T,_){let z="";_=Math.min(j.length,_);for(let Q=T;Q<_;++Q)z+=String.fromCharCode(j[Q]);return z}function be(j,T,_){const z=j.length;(!T||T<0)&&(T=0),(!_||_<0||_>z)&&(_=z);let Q="";for(let ae=T;ae<_;++ae)Q+=ch[j[ae]];return Q}function G(j,T,_){const z=j.slice(T,_);let Q="";for(let ae=0;ae<z.length-1;ae+=2)Q+=String.fromCharCode(z[ae]+z[ae+1]*256);return Q}c.prototype.slice=function(T,_){const z=this.length;T=~~T,_=_===void 0?z:~~_,T<0?(T+=z,T<0&&(T=0)):T>z&&(T=z),_<0?(_+=z,_<0&&(_=0)):_>z&&(_=z),_<T&&(_=T);const Q=this.subarray(T,_);return Object.setPrototypeOf(Q,c.prototype),Q};function se(j,T,_){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+T>_)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(T,_,z){T=T>>>0,_=_>>>0,z||se(T,_,this.length);let Q=this[T],ae=1,ue=0;for(;++ue<_&&(ae*=256);)Q+=this[T+ue]*ae;return Q},c.prototype.readUintBE=c.prototype.readUIntBE=function(T,_,z){T=T>>>0,_=_>>>0,z||se(T,_,this.length);let Q=this[T+--_],ae=1;for(;_>0&&(ae*=256);)Q+=this[T+--_]*ae;return Q},c.prototype.readUint8=c.prototype.readUInt8=function(T,_){return T=T>>>0,_||se(T,1,this.length),this[T]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(T,_){return T=T>>>0,_||se(T,2,this.length),this[T]|this[T+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(T,_){return T=T>>>0,_||se(T,2,this.length),this[T]<<8|this[T+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(T,_){return T=T>>>0,_||se(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(T,_){return T=T>>>0,_||se(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},c.prototype.readBigUInt64LE=Pi(function(T){T=T>>>0,Ge(T,"offset");const _=this[T],z=this[T+7];(_===void 0||z===void 0)&&nt(T,this.length-8);const Q=_+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,ae=this[++T]+this[++T]*2**8+this[++T]*2**16+z*2**24;return BigInt(Q)+(BigInt(ae)<<BigInt(32))}),c.prototype.readBigUInt64BE=Pi(function(T){T=T>>>0,Ge(T,"offset");const _=this[T],z=this[T+7];(_===void 0||z===void 0)&&nt(T,this.length-8);const Q=_*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],ae=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+z;return(BigInt(Q)<<BigInt(32))+BigInt(ae)}),c.prototype.readIntLE=function(T,_,z){T=T>>>0,_=_>>>0,z||se(T,_,this.length);let Q=this[T],ae=1,ue=0;for(;++ue<_&&(ae*=256);)Q+=this[T+ue]*ae;return ae*=128,Q>=ae&&(Q-=Math.pow(2,8*_)),Q},c.prototype.readIntBE=function(T,_,z){T=T>>>0,_=_>>>0,z||se(T,_,this.length);let Q=_,ae=1,ue=this[T+--Q];for(;Q>0&&(ae*=256);)ue+=this[T+--Q]*ae;return ae*=128,ue>=ae&&(ue-=Math.pow(2,8*_)),ue},c.prototype.readInt8=function(T,_){return T=T>>>0,_||se(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},c.prototype.readInt16LE=function(T,_){T=T>>>0,_||se(T,2,this.length);const z=this[T]|this[T+1]<<8;return z&32768?z|4294901760:z},c.prototype.readInt16BE=function(T,_){T=T>>>0,_||se(T,2,this.length);const z=this[T+1]|this[T]<<8;return z&32768?z|4294901760:z},c.prototype.readInt32LE=function(T,_){return T=T>>>0,_||se(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},c.prototype.readInt32BE=function(T,_){return T=T>>>0,_||se(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},c.prototype.readBigInt64LE=Pi(function(T){T=T>>>0,Ge(T,"offset");const _=this[T],z=this[T+7];(_===void 0||z===void 0)&&nt(T,this.length-8);const Q=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(z<<24);return(BigInt(Q)<<BigInt(32))+BigInt(_+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),c.prototype.readBigInt64BE=Pi(function(T){T=T>>>0,Ge(T,"offset");const _=this[T],z=this[T+7];(_===void 0||z===void 0)&&nt(T,this.length-8);const Q=(_<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(Q)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+z)}),c.prototype.readFloatLE=function(T,_){return T=T>>>0,_||se(T,4,this.length),t.read(this,T,!0,23,4)},c.prototype.readFloatBE=function(T,_){return T=T>>>0,_||se(T,4,this.length),t.read(this,T,!1,23,4)},c.prototype.readDoubleLE=function(T,_){return T=T>>>0,_||se(T,8,this.length),t.read(this,T,!0,52,8)},c.prototype.readDoubleBE=function(T,_){return T=T>>>0,_||se(T,8,this.length),t.read(this,T,!1,52,8)};function me(j,T,_,z,Q,ae){if(!c.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>Q||T<ae)throw new RangeError('"value" argument is out of bounds');if(_+z>j.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(T,_,z,Q){if(T=+T,_=_>>>0,z=z>>>0,!Q){const je=Math.pow(2,8*z)-1;me(this,T,_,z,je,0)}let ae=1,ue=0;for(this[_]=T&255;++ue<z&&(ae*=256);)this[_+ue]=T/ae&255;return _+z},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(T,_,z,Q){if(T=+T,_=_>>>0,z=z>>>0,!Q){const je=Math.pow(2,8*z)-1;me(this,T,_,z,je,0)}let ae=z-1,ue=1;for(this[_+ae]=T&255;--ae>=0&&(ue*=256);)this[_+ae]=T/ue&255;return _+z},c.prototype.writeUint8=c.prototype.writeUInt8=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,1,255,0),this[_]=T&255,_+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,2,65535,0),this[_]=T&255,this[_+1]=T>>>8,_+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,2,65535,0),this[_]=T>>>8,this[_+1]=T&255,_+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,4,4294967295,0),this[_+3]=T>>>24,this[_+2]=T>>>16,this[_+1]=T>>>8,this[_]=T&255,_+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,4,4294967295,0),this[_]=T>>>24,this[_+1]=T>>>16,this[_+2]=T>>>8,this[_+3]=T&255,_+4};function ge(j,T,_,z,Q){ji(T,z,Q,j,_,7);let ae=Number(T&BigInt(4294967295));j[_++]=ae,ae=ae>>8,j[_++]=ae,ae=ae>>8,j[_++]=ae,ae=ae>>8,j[_++]=ae;let ue=Number(T>>BigInt(32)&BigInt(4294967295));return j[_++]=ue,ue=ue>>8,j[_++]=ue,ue=ue>>8,j[_++]=ue,ue=ue>>8,j[_++]=ue,_}function xe(j,T,_,z,Q){ji(T,z,Q,j,_,7);let ae=Number(T&BigInt(4294967295));j[_+7]=ae,ae=ae>>8,j[_+6]=ae,ae=ae>>8,j[_+5]=ae,ae=ae>>8,j[_+4]=ae;let ue=Number(T>>BigInt(32)&BigInt(4294967295));return j[_+3]=ue,ue=ue>>8,j[_+2]=ue,ue=ue>>8,j[_+1]=ue,ue=ue>>8,j[_]=ue,_+8}c.prototype.writeBigUInt64LE=Pi(function(T,_=0){return ge(this,T,_,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Pi(function(T,_=0){return xe(this,T,_,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(T,_,z,Q){if(T=+T,_=_>>>0,!Q){const it=Math.pow(2,8*z-1);me(this,T,_,z,it-1,-it)}let ae=0,ue=1,je=0;for(this[_]=T&255;++ae<z&&(ue*=256);)T<0&&je===0&&this[_+ae-1]!==0&&(je=1),this[_+ae]=(T/ue>>0)-je&255;return _+z},c.prototype.writeIntBE=function(T,_,z,Q){if(T=+T,_=_>>>0,!Q){const it=Math.pow(2,8*z-1);me(this,T,_,z,it-1,-it)}let ae=z-1,ue=1,je=0;for(this[_+ae]=T&255;--ae>=0&&(ue*=256);)T<0&&je===0&&this[_+ae+1]!==0&&(je=1),this[_+ae]=(T/ue>>0)-je&255;return _+z},c.prototype.writeInt8=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,1,127,-128),T<0&&(T=255+T+1),this[_]=T&255,_+1},c.prototype.writeInt16LE=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,2,32767,-32768),this[_]=T&255,this[_+1]=T>>>8,_+2},c.prototype.writeInt16BE=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,2,32767,-32768),this[_]=T>>>8,this[_+1]=T&255,_+2},c.prototype.writeInt32LE=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,4,2147483647,-2147483648),this[_]=T&255,this[_+1]=T>>>8,this[_+2]=T>>>16,this[_+3]=T>>>24,_+4},c.prototype.writeInt32BE=function(T,_,z){return T=+T,_=_>>>0,z||me(this,T,_,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[_]=T>>>24,this[_+1]=T>>>16,this[_+2]=T>>>8,this[_+3]=T&255,_+4},c.prototype.writeBigInt64LE=Pi(function(T,_=0){return ge(this,T,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Pi(function(T,_=0){return xe(this,T,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Me(j,T,_,z,Q,ae){if(_+z>j.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function we(j,T,_,z,Q){return T=+T,_=_>>>0,Q||Me(j,T,_,4),t.write(j,T,_,z,23,4),_+4}c.prototype.writeFloatLE=function(T,_,z){return we(this,T,_,!0,z)},c.prototype.writeFloatBE=function(T,_,z){return we(this,T,_,!1,z)};function De(j,T,_,z,Q){return T=+T,_=_>>>0,Q||Me(j,T,_,8),t.write(j,T,_,z,52,8),_+8}c.prototype.writeDoubleLE=function(T,_,z){return De(this,T,_,!0,z)},c.prototype.writeDoubleBE=function(T,_,z){return De(this,T,_,!1,z)},c.prototype.copy=function(T,_,z,Q){if(!c.isBuffer(T))throw new TypeError("argument should be a Buffer");if(z||(z=0),!Q&&Q!==0&&(Q=this.length),_>=T.length&&(_=T.length),_||(_=0),Q>0&&Q<z&&(Q=z),Q===z||T.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),T.length-_<Q-z&&(Q=T.length-_+z);const ae=Q-z;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,z,Q):Uint8Array.prototype.set.call(T,this.subarray(z,Q),_),ae},c.prototype.fill=function(T,_,z,Q){if(typeof T=="string"){if(typeof _=="string"?(Q=_,_=0,z=this.length):typeof z=="string"&&(Q=z,z=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!c.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(T.length===1){const ue=T.charCodeAt(0);(Q==="utf8"&&ue<128||Q==="latin1")&&(T=ue)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(_<0||this.length<_||this.length<z)throw new RangeError("Out of range index");if(z<=_)return this;_=_>>>0,z=z===void 0?this.length:z>>>0,T||(T=0);let ae;if(typeof T=="number")for(ae=_;ae<z;++ae)this[ae]=T;else{const ue=c.isBuffer(T)?T:c.from(T,Q),je=ue.length;if(je===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ae=0;ae<z-_;++ae)this[ae+_]=ue[ae%je]}return this};const ke={};function _t(j,T,_){ke[j]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(Q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Q,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}_t("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_t("ERR_INVALID_ARG_TYPE",function(j,T){return`The "${j}" argument must be of type number. Received type ${typeof T}`},TypeError),_t("ERR_OUT_OF_RANGE",function(j,T,_){let z=`The value of "${j}" is out of range.`,Q=_;return Number.isInteger(_)&&Math.abs(_)>2**32?Q=Ke(String(_)):typeof _=="bigint"&&(Q=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(Q=Ke(Q)),Q+="n"),z+=` It must be ${T}. Received ${Q}`,z},RangeError);function Ke(j){let T="",_=j.length;const z=j[0]==="-"?1:0;for(;_>=z+4;_-=3)T=`_${j.slice(_-3,_)}${T}`;return`${j.slice(0,_)}${T}`}function ki(j,T,_){Ge(T,"offset"),(j[T]===void 0||j[T+_]===void 0)&&nt(T,j.length-(_+1))}function ji(j,T,_,z,Q,ae){if(j>_||j<T){const ue=typeof T=="bigint"?"n":"";let je;throw T===0||T===BigInt(0)?je=`>= 0${ue} and < 2${ue} ** ${(ae+1)*8}${ue}`:je=`>= -(2${ue} ** ${(ae+1)*8-1}${ue}) and < 2 ** ${(ae+1)*8-1}${ue}`,new ke.ERR_OUT_OF_RANGE("value",je,j)}ki(z,Q,ae)}function Ge(j,T){if(typeof j!="number")throw new ke.ERR_INVALID_ARG_TYPE(T,"number",j)}function nt(j,T,_){throw Math.floor(j)!==j?(Ge(j,_),new ke.ERR_OUT_OF_RANGE("offset","an integer",j)):T<0?new ke.ERR_BUFFER_OUT_OF_BOUNDS:new ke.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${T}`,j)}const Qt=/[^+/0-9A-Za-z-_]/g;function It(j){if(j=j.split("=")[0],j=j.trim().replace(Qt,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function qt(j,T){T=T||1/0;let _;const z=j.length;let Q=null;const ae=[];for(let ue=0;ue<z;++ue){if(_=j.charCodeAt(ue),_>55295&&_<57344){if(!Q){if(_>56319){(T-=3)>-1&&ae.push(239,191,189);continue}else if(ue+1===z){(T-=3)>-1&&ae.push(239,191,189);continue}Q=_;continue}if(_<56320){(T-=3)>-1&&ae.push(239,191,189),Q=_;continue}_=(Q-55296<<10|_-56320)+65536}else Q&&(T-=3)>-1&&ae.push(239,191,189);if(Q=null,_<128){if((T-=1)<0)break;ae.push(_)}else if(_<2048){if((T-=2)<0)break;ae.push(_>>6|192,_&63|128)}else if(_<65536){if((T-=3)<0)break;ae.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((T-=4)<0)break;ae.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return ae}function er(j){const T=[];for(let _=0;_<j.length;++_)T.push(j.charCodeAt(_)&255);return T}function ec(j,T){let _,z,Q;const ae=[];for(let ue=0;ue<j.length&&!((T-=2)<0);++ue)_=j.charCodeAt(ue),z=_>>8,Q=_%256,ae.push(Q),ae.push(z);return ae}function vo(j){return e.toByteArray(It(j))}function Jn(j,T,_,z){let Q;for(Q=0;Q<z&&!(Q+_>=T.length||Q>=j.length);++Q)T[Q+_]=j[Q];return Q}function ei(j,T){return j instanceof T||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===T.name}function sa(j){return j!==j}const ch=function(){const j="0123456789abcdef",T=new Array(256);for(let _=0;_<16;++_){const z=_*16;for(let Q=0;Q<16;++Q)T[z+Q]=j[_]+j[Q]}return T}();function Pi(j){return typeof BigInt>"u"?tr:j}function tr(){throw new Error("BigInt not supported")}}(O1)),O1}var W6=X6(),k1={exports:{}},mT;function Q6(){if(mT)return k1.exports;mT=1;var r=k1.exports={},e,t;function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?t=clearTimeout:t=s}catch{t=s}})();function o(E){if(e===setTimeout)return setTimeout(E,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(E,0);try{return e(E,0)}catch{try{return e.call(null,E,0)}catch{return e.call(this,E,0)}}}function u(E){if(t===clearTimeout)return clearTimeout(E);if((t===s||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(E);try{return t(E)}catch{try{return t.call(null,E)}catch{return t.call(this,E)}}}var c=[],h=!1,d,p=-1;function g(){!h||!d||(h=!1,d.length?c=d.concat(c):p=-1,c.length&&b())}function b(){if(!h){var E=o(g);h=!0;for(var D=c.length;D;){for(d=c,c=[];++p<D;)d&&d[p].run();p=-1,D=c.length}d=null,h=!1,u(E)}}r.nextTick=function(E){var D=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)D[A-1]=arguments[A];c.push(new w(E,D)),c.length===1&&!h&&o(b)};function w(E,D){this.fun=E,this.array=D}w.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function S(){}return r.on=S,r.addListener=S,r.once=S,r.off=S,r.removeListener=S,r.removeAllListeners=S,r.emit=S,r.prependListener=S,r.prependOnceListener=S,r.listeners=function(E){return[]},r.binding=function(E){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(E){throw new Error("process.chdir is not supported")},r.umask=function(){return 0},k1.exports}var K6=Q6();const Z6=nh(K6),J6="modulepreload",eR=function(r){return"/"+r},gT={},Nm=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=u(t.map(d=>{if(d=eR(d),d in gT)return;gT[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":J6,p||(b.as="script"),b.crossOrigin="",b.href=d,h&&b.setAttribute("nonce",h),document.head.appendChild(b),p)return new Promise((w,S)=>{b.addEventListener("load",w),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};var jd={};jd.d=(r,e)=>{for(var t in e)jd.o(e,t)&&!jd.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};jd.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var Oe=globalThis.pdfjsLib={};jd.d(Oe,{AbortException:()=>Wl,AnnotationEditorLayer:()=>_x,AnnotationEditorParamsType:()=>Le,AnnotationEditorType:()=>Fe,AnnotationEditorUIManager:()=>zl,AnnotationLayer:()=>ZM,AnnotationMode:()=>La,ColorPicker:()=>Rg,DOMSVGFactory:()=>ew,DrawLayer:()=>Mx,FeatureTest:()=>Wn,GlobalWorkerOptions:()=>Xr,ImageKind:()=>Ym,InvalidPDFException:()=>W3,MissingPDFException:()=>Xl,OPS:()=>cs,OutputScale:()=>bb,PDFDataRangeTransport:()=>VC,PDFDateString:()=>Yx,PDFWorker:()=>Jc,PasswordResponses:()=>sR,PermissionFlag:()=>iR,PixelsPerInch:()=>co,RenderingCancelledException:()=>Vx,TextLayer:()=>Yb,UnexpectedResponseException:()=>r0,Util:()=>Ae,VerbosityLevel:()=>n0,XfaLayer:()=>YC,build:()=>LM,createValidAbsoluteUrl:()=>lR,fetchData:()=>o0,getDocument:()=>EM,getFilenameFromUrl:()=>vR,getPdfFilenameFromUrl:()=>yR,getXfaPageViewport:()=>bR,isDataScheme:()=>l0,isPdfFile:()=>$x,noContextMenu:()=>ts,normalizeUnicode:()=>pR,setLayerDimensions:()=>Ul,shadow:()=>Xe,version:()=>DM});const zn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),X3=[1,0,0,1,0,0],mb=[.001,0,0,.001,0,0],tR=1e7,j1=1.35,Ri={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},La={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},nR="pdfjs_internal_editor_",Fe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Le={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},iR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},kn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ym={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},an={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},od={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},n0={ERRORS:0,WARNINGS:1,INFOS:5},cs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},sR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i0=n0.WARNINGS;function rR(r){Number.isInteger(r)&&(i0=r)}function aR(){return i0}function s0(r){i0>=n0.INFOS&&console.log(`Info: ${r}`)}function Ue(r){i0>=n0.WARNINGS&&console.log(`Warning: ${r}`)}function Tt(r){throw new Error(r)}function hn(r,e){r||Tt(e)}function oR(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function lR(r,e=null,t=null){if(!r)return null;try{if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const s=r.match(/\./g);(s==null?void 0:s.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=fR(r)}catch{}}const n=e?new URL(r,e):new URL(r);if(oR(n))return n}catch{}return null}function Xe(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const mo=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class gb extends mo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class vb extends mo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class W3 extends mo{constructor(e){super(e,"InvalidPDFException")}}class Xl extends mo{constructor(e){super(e,"MissingPDFException")}}class r0 extends mo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class cR extends mo{constructor(e){super(e,"FormatError")}}class Wl extends mo{constructor(e){super(e,"AbortException")}}function Q3(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&Tt("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let s=0;s<e;s+=t){const o=Math.min(s+t,e),u=r.subarray(s,o);n.push(String.fromCharCode.apply(null,u))}return n.join("")}function a0(r){typeof r!="string"&&Tt("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function uR(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function qx(r){const e=Object.create(null);for(const[t,n]of r)e[t]=n;return e}function hR(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function dR(){try{return new Function(""),!0}catch{return!1}}class Wn{static get isLittleEndian(){return Xe(this,"isLittleEndian",hR())}static get isEvalSupported(){return Xe(this,"isEvalSupported",dR())}static get isOffscreenCanvasSupported(){return Xe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Xe(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Xe(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Xe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const P1=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Kr,Xm,yb;class Ae{static makeHexColor(e,t,n){return`#${P1[e]}${P1[t]}${P1[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[n,s]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[s,o]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),u=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],s[0],o[0],u[0]),Math.min(n[1],s[1],o[1],u[1]),Math.max(n[0],s[0],o[0],u[0]),Math.max(n[1],s[1],o[1],u[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],u=e[2]*t[1]+e[3]*t[3],c=(n+u)/2,h=Math.sqrt((n+u)**2-4*(n*u-o*s))/2,d=c+h||1,p=c-h||1;return[Math.sqrt(d),Math.sqrt(p)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),u=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>u?null:[n,o,s,u]}static bezierBoundingBox(e,t,n,s,o,u,c,h,d){return d?(d[0]=Math.min(d[0],e,c),d[1]=Math.min(d[1],t,h),d[2]=Math.max(d[2],e,c),d[3]=Math.max(d[3],t,h)):d=[Math.min(e,c),Math.min(t,h),Math.max(e,c),Math.max(t,h)],k(this,Kr,yb).call(this,e,n,o,c,t,s,u,h,3*(-e+3*(n-o)+c),6*(e-2*n+o),3*(n-e),d),k(this,Kr,yb).call(this,e,n,o,c,t,s,u,h,3*(-t+3*(s-u)+h),6*(t-2*s+u),3*(s-t),d),d}}Kr=new WeakSet,Xm=function(e,t,n,s,o,u,c,h,d,p){if(d<=0||d>=1)return;const g=1-d,b=d*d,w=b*d,S=g*(g*(g*e+3*d*t)+3*b*n)+w*s,E=g*(g*(g*o+3*d*u)+3*b*c)+w*h;p[0]=Math.min(p[0],S),p[1]=Math.min(p[1],E),p[2]=Math.max(p[2],S),p[3]=Math.max(p[3],E)},yb=function(e,t,n,s,o,u,c,h,d,p,g,b){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&k(this,Kr,Xm).call(this,e,t,n,s,o,u,c,h,-g/p,b);return}const w=p**2-4*g*d;if(w<0)return;const S=Math.sqrt(w),E=2*d;k(this,Kr,Xm).call(this,e,t,n,s,o,u,c,h,(-p+S)/E,b),k(this,Kr,Xm).call(this,e,t,n,s,o,u,c,h,(-p-S)/E,b)},I(Ae,Kr);function fR(r){return decodeURIComponent(escape(r))}let I1=null,vT=null;function pR(r){return I1||(I1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,vT=new Map([["ﬅ","ſt"]])),r.replaceAll(I1,(e,t,n)=>t?t.normalize("NFKC"):vT.get(n))}function mR(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const r=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(r);else for(let e=0;e<32;e++)r[e]=Math.floor(Math.random()*255);return Q3(r)}const Gx="pdfjs_internal_id_",vr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function gR(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(Q3(r))}const br="http://www.w3.org/2000/svg",Uo=class Uo{};pe(Uo,"CSS",96),pe(Uo,"PDF",72),pe(Uo,"PDF_TO_CSS_UNITS",Uo.CSS/Uo.PDF);let co=Uo;async function o0(r,e="text"){if(vd(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class ap{constructor({viewBox:e,scale:t,rotation:n,offsetX:s=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=s,this.offsetY=o;const c=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let d,p,g,b;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,p=0,g=0,b=1;break;case 90:d=0,p=1,g=1,b=0;break;case 270:d=0,p=-1,g=-1,b=0;break;case 0:d=1,p=0,g=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(g=-g,b=-b);let w,S,E,D;d===0?(w=Math.abs(h-e[1])*t+s,S=Math.abs(c-e[0])*t+o,E=(e[3]-e[1])*t,D=(e[2]-e[0])*t):(w=Math.abs(c-e[0])*t+s,S=Math.abs(h-e[1])*t+o,E=(e[2]-e[0])*t,D=(e[3]-e[1])*t),this.transform=[d*t,p*t,g*t,b*t,w-d*t*c-g*t*h,S-p*t*c-b*t*h],this.width=E,this.height=D}get rawDims(){const{viewBox:e}=this;return Xe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new ap({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}convertToViewportPoint(e,t){return Ae.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ae.applyTransform([e[0],e[1]],this.transform),n=Ae.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Ae.applyInverseTransform([e,t],this.transform)}}class Vx extends mo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function l0(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function $x(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function vR(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function yR(r,e="document.pdf"){if(typeof r!="string")return e;if(l0(r))return Ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(r);let o=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||e}class yT{constructor(){pe(this,"started",Object.create(null));pe(this,"times",[])}time(e){e in this.started&&Ue(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ue(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-s}ms
`);return e.join("")}}function vd(r,e){try{const{protocol:t}=e?new URL(r,e):new URL(r);return t==="http:"||t==="https:"}catch{return!1}}function ts(r){r.preventDefault()}function bT(r){console.log("Deprecated API usage: "+r)}var Gd;class Yx{static toDateObject(e){if(!e||typeof e!="string")return null;m(this,Gd)||O(this,Gd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m(this,Gd).exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(t[4],10);u=u>=0&&u<=23?u:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const d=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(t[9],10)||0;return g=g>=0&&g<=59?g:0,d==="-"?(u+=p,c+=g):d==="+"&&(u-=p,c-=g),new Date(Date.UTC(n,s,o,u,c,h))}}Gd=new WeakMap,I(Yx,Gd);function bR(r,{scale:e=1,rotation:t=0}){const{width:n,height:s}=r.attributes.style,o=[0,0,parseInt(n),parseInt(s)];return new ap({viewBox:o,scale:e,rotation:t})}function Xx(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ue(`Not a valid color format: "${r}"`),[0,0,0])}function xR(r){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,Xx(n))}e.remove()}function kt(r){const{a:e,b:t,c:n,d:s,e:o,f:u}=r.getTransform();return[e,t,n,s,o,u]}function yr(r){const{a:e,b:t,c:n,d:s,e:o,f:u}=r.getTransform().invertSelf();return[e,t,n,s,o,u]}function Ul(r,e,t=!1,n=!0){if(e instanceof ap){const{pageWidth:s,pageHeight:o}=e.rawDims,{style:u}=r,c=Wn.isCSSRoundSupported,h=`var(--scale-factor) * ${s}px`,d=`var(--scale-factor) * ${o}px`,p=c?`round(down, ${h}, var(--scale-round-x, 1px))`:`calc(${h})`,g=c?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!t||e.rotation%180===0?(u.width=p,u.height=g):(u.width=g,u.height=p)}n&&r.setAttribute("data-main-rotation",e.rotation)}class bb{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ja,qo,us,Go,Vd,$d,Bg,K3,Qn,Z3,J3,Wm,eC,wb;const Sr=class Sr{constructor(e){I(this,Qn);I(this,ja,null);I(this,qo,null);I(this,us);I(this,Go,null);I(this,Vd,null);O(this,us,e),m(Sr,$d)||O(Sr,$d,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=O(this,ja,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=m(this,us)._uiManager._signal;e.addEventListener("contextmenu",ts,{signal:t}),e.addEventListener("pointerdown",k(Sr,Bg,K3),{signal:t});const n=O(this,Go,document.createElement("div"));n.className="buttons",e.append(n);const s=m(this,us).toolbarPosition;if(s){const{style:o}=e,u=m(this,us)._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return k(this,Qn,eC).call(this),e}get div(){return m(this,ja)}hide(){var e;m(this,ja).classList.add("hidden"),(e=m(this,qo))==null||e.hideDropdown()}show(){var e;m(this,ja).classList.remove("hidden"),(e=m(this,Vd))==null||e.shown()}async addAltText(e){const t=await e.render();k(this,Qn,Wm).call(this,t),m(this,Go).prepend(t,m(this,Qn,wb)),O(this,Vd,e)}addColorPicker(e){O(this,qo,e);const t=e.renderButton();k(this,Qn,Wm).call(this,t),m(this,Go).prepend(t,m(this,Qn,wb))}remove(){var e;m(this,ja).remove(),(e=m(this,qo))==null||e.destroy(),O(this,qo,null)}};ja=new WeakMap,qo=new WeakMap,us=new WeakMap,Go=new WeakMap,Vd=new WeakMap,$d=new WeakMap,Bg=new WeakSet,K3=function(e){e.stopPropagation()},Qn=new WeakSet,Z3=function(e){m(this,us)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},J3=function(e){m(this,us)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Wm=function(e){const t=m(this,us)._uiManager._signal;e.addEventListener("focusin",k(this,Qn,Z3).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",k(this,Qn,J3).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ts,{signal:t})},eC=function(){const{editorType:e,_uiManager:t}=m(this,us),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",m(Sr,$d)[e]),k(this,Qn,Wm).call(this,n),n.addEventListener("click",s=>{t.delete()},{signal:t._signal}),m(this,Go).append(n)},wb=function(){const e=document.createElement("div");return e.className="divider",e},I(Sr,Bg),I(Sr,$d,null);let xb=Sr;var Yd,Vo,$o,fo,tC,nC,iC;class wR{constructor(e){I(this,fo);I(this,Yd,null);I(this,Vo,null);I(this,$o);O(this,$o,e)}show(e,t,n){const[s,o]=k(this,fo,nC).call(this,t,n),{style:u}=m(this,Vo)||O(this,Vo,k(this,fo,tC).call(this));e.append(m(this,Vo)),u.insetInlineEnd=`${100*s}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Vo).remove()}}Yd=new WeakMap,Vo=new WeakMap,$o=new WeakMap,fo=new WeakSet,tC=function(){const e=O(this,Vo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ts,{signal:m(this,$o)._signal});const t=O(this,Yd,document.createElement("div"));return t.className="buttons",e.append(t),k(this,fo,iC).call(this),e},nC=function(e,t){let n=0,s=0;for(const o of e){const u=o.y+o.height;if(u<n)continue;const c=o.x+(t?o.width:0);if(u>n){s=c,n=u;continue}t?c>s&&(s=c):c<s&&(s=c)}return[t?1-s:s,n]},iC=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=m(this,$o)._signal;e.addEventListener("contextmenu",ts,{signal:n}),e.addEventListener("click",()=>{m(this,$o).highlightSelection("floating_button")},{signal:n}),m(this,Yd).append(e)};function _g(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}function SR(r){return Math.round(Math.min(255,Math.max(1,255*r))).toString(16).padStart(2,"0")}var Hg;class ER{constructor(){I(this,Hg,0)}get id(){return`${nR}${Gn(this,Hg)._++}`}}Hg=new WeakMap;var nu,Xd,In,iu,Qm;const vw=class vw{constructor(){I(this,iu);I(this,nu,mR());I(this,Xd,0);I(this,In,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const o=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Xe(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:s,type:o}=e;return k(this,iu,Qm).call(this,`${t}_${n}_${s}_${o}`,e)}async getFromUrl(e){return k(this,iu,Qm).call(this,e,e)}async getFromBlob(e,t){const n=await t;return k(this,iu,Qm).call(this,e,n)}async getFromId(e){m(this,In)||O(this,In,new Map);const t=m(this,In).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){m(this,In)||O(this,In,new Map);let n=m(this,In).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${m(this,nu)}_${Gn(this,Xd)._++}`,refCounter:1,isSvg:!1},m(this,In).set(e,n),m(this,In).set(n.id,n),n}getSvgUrl(e){const t=m(this,In).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;m(this,In)||O(this,In,new Map);const t=m(this,In).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(s=n.close)==null||s.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,nu)}_`)}};nu=new WeakMap,Xd=new WeakMap,In=new WeakMap,iu=new WeakSet,Qm=async function(e,t){m(this,In)||O(this,In,new Map);let n=m(this,In).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${m(this,nu)}_${Gn(this,Xd)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(n.url=t,s=await o0(t,"blob")):t instanceof File?s=n.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const o=vw._isSVGFittingCanvas,u=new FileReader,c=new Image,h=new Promise((d,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},u.onload=async()=>{const g=n.svgUrl=u.result;c.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=u.onerror=p});u.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return m(this,In).set(e,n),n&&m(this,In).set(n.id,n),n};let Sb=vw;var yn,Pa,Wd,bn;class AR{constructor(e=128){I(this,yn,[]);I(this,Pa,!1);I(this,Wd);I(this,bn,-1);O(this,Wd,e)}add({cmd:e,undo:t,post:n,mustExec:s,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:c=!1}){if(s&&e(),m(this,Pa))return;const h={cmd:e,undo:t,post:n,type:o};if(m(this,bn)===-1){m(this,yn).length>0&&(m(this,yn).length=0),O(this,bn,0),m(this,yn).push(h);return}if(u&&m(this,yn)[m(this,bn)].type===o){c&&(h.undo=m(this,yn)[m(this,bn)].undo),m(this,yn)[m(this,bn)]=h;return}const d=m(this,bn)+1;d===m(this,Wd)?m(this,yn).splice(0,1):(O(this,bn,d),d<m(this,yn).length&&m(this,yn).splice(d)),m(this,yn).push(h)}undo(){if(m(this,bn)===-1)return;O(this,Pa,!0);const{undo:e,post:t}=m(this,yn)[m(this,bn)];e(),t==null||t(),O(this,Pa,!1),O(this,bn,m(this,bn)-1)}redo(){if(m(this,bn)<m(this,yn).length-1){O(this,bn,m(this,bn)+1),O(this,Pa,!0);const{cmd:e,post:t}=m(this,yn)[m(this,bn)];e(),t==null||t(),O(this,Pa,!1)}}hasSomethingToUndo(){return m(this,bn)!==-1}hasSomethingToRedo(){return m(this,bn)<m(this,yn).length-1}destroy(){O(this,yn,null)}}yn=new WeakMap,Pa=new WeakMap,Wd=new WeakMap,bn=new WeakMap;var Ug,sC;class op{constructor(e){I(this,Ug);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Wn.platform;for(const[n,s,o={}]of e)for(const u of n){const c=u.startsWith("mac+");t&&c?(this.callbacks.set(u.slice(4),{callback:s,options:o}),this.allKeys.add(u.split("+").at(-1))):!t&&!c&&(this.callbacks.set(u,{callback:s,options:o}),this.allKeys.add(u.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(k(this,Ug,sC).call(this,t));if(!n)return;const{callback:s,options:{bubbles:o=!1,args:u=[],checker:c=null}}=n;c&&!c(e,t)||(s.bind(e,...u,t)(),o||(t.stopPropagation(),t.preventDefault()))}}Ug=new WeakSet,sC=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const zg=class zg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return xR(e),Xe(this,"_colors",e)}convert(e){const t=Xx(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((o,u)=>o===t[u]))return zg._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ae.makeHexColor(...t):e}};pe(zg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Eb=zg;var su,wi,ln,Cn,ru,Ar,au,hs,Ia,ou,Yo,Ms,ds,Xo,Qd,Kd,lu,Zd,Ds,Fa,cu,Ba,Ls,qg,Ha,Jd,Ua,Wo,ef,tf,xn,ct,Tr,Qo,nf,sf,za,Os,_r,rf,Yi,ye,Km,Ab,rC,aC,Zm,oC,lC,cC,Tb,uC,_b,Cb,hC,Vn,Ma,dC,fC,Nb,pC,yd,Rb;const Kc=class Kc{constructor(e,t,n,s,o,u,c,h,d,p,g){I(this,ye);I(this,su,new AbortController);I(this,wi,null);I(this,ln,new Map);I(this,Cn,new Map);I(this,ru,null);I(this,Ar,null);I(this,au,null);I(this,hs,new AR);I(this,Ia,null);I(this,ou,0);I(this,Yo,new Set);I(this,Ms,null);I(this,ds,null);I(this,Xo,new Set);I(this,Qd,!1);I(this,Kd,!1);I(this,lu,!1);I(this,Zd,null);I(this,Ds,null);I(this,Fa,null);I(this,cu,null);I(this,Ba,!1);I(this,Ls,null);I(this,qg,new ER);I(this,Ha,!1);I(this,Jd,!1);I(this,Ua,null);I(this,Wo,null);I(this,ef,null);I(this,tf,null);I(this,xn,Fe.NONE);I(this,ct,new Set);I(this,Tr,null);I(this,Qo,null);I(this,nf,null);I(this,sf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,za,[0,0]);I(this,Os,null);I(this,_r,null);I(this,rf,null);I(this,Yi,null);const b=this._signal=m(this,su).signal;O(this,_r,e),O(this,rf,t),O(this,ru,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:b}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),s._on("setpreference",this.onSetPreference.bind(this),{signal:b}),s._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:b}),k(this,ye,oC).call(this),k(this,ye,hC).call(this),k(this,ye,Tb).call(this),O(this,Ar,o.annotationStorage),O(this,Zd,o.filterFactory),O(this,Qo,u),O(this,cu,c||null),O(this,Qd,h),O(this,Kd,d),O(this,lu,p),O(this,tf,g||null),this.viewParameters={realScale:co.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Kc.prototype,t=u=>m(u,_r).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),n=(u,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Xe(this,"_keyboardManager",new op([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(u,{target:c})=>!(c instanceof HTMLButtonElement)&&m(u,_r).contains(c)&&!u.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(u,{target:c})=>!(c instanceof HTMLButtonElement)&&m(u,_r).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,s;(e=m(this,Yi))==null||e.resolve(),O(this,Yi,null),(t=m(this,su))==null||t.abort(),O(this,su,null),this._signal=null;for(const o of m(this,Cn).values())o.destroy();m(this,Cn).clear(),m(this,ln).clear(),m(this,Xo).clear(),O(this,wi,null),m(this,ct).clear(),m(this,hs).destroy(),(n=m(this,ru))==null||n.destroy(),(s=m(this,Ls))==null||s.hide(),O(this,Ls,null),m(this,Ds)&&(clearTimeout(m(this,Ds)),O(this,Ds,null)),m(this,Os)&&(clearTimeout(m(this,Os)),O(this,Os,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,tf)}get useNewAltTextFlow(){return m(this,Kd)}get useNewAltTextWhenAddingImage(){return m(this,lu)}get hcmFilter(){return Xe(this,"hcmFilter",m(this,Qo)?m(this,Zd).addHCMFilter(m(this,Qo).foreground,m(this,Qo).background):"none")}get direction(){return Xe(this,"direction",getComputedStyle(m(this,_r)).direction)}get highlightColors(){return Xe(this,"highlightColors",m(this,cu)?new Map(m(this,cu).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Xe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){O(this,ef,e)}editAltText(e,t=!1){var n;(n=m(this,ru))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":O(this,lu,t);break}}onPageChanging({pageNumber:e}){O(this,ou,e-1)}focusMainContainer(){m(this,_r).focus()}findParent(e,t){for(const n of m(this,Cn).values()){const{x:s,y:o,width:u,height:c}=n.div.getBoundingClientRect();if(e>=s&&e<=s+u&&t>=o&&t<=o+c)return n}return null}disableUserSelect(e=!1){m(this,rf).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Xo).add(e)}removeShouldRescale(e){m(this,Xo).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*co.PDF_TO_CSS_UNITS;for(const t of m(this,Xo))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:u}=t,c=t.toString(),d=k(this,ye,Km).call(this,t).closest(".textLayer"),p=this.getSelectionBoxes(d);if(!p)return;t.empty();const g=k(this,ye,Ab).call(this,d),b=m(this,xn)===Fe.NONE,w=()=>{g==null||g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:u,text:c}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Fe.HIGHLIGHT,w);return}w()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Ar)&&!m(this,Ar).has(e.id)&&m(this,Ar).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,Ba)&&(O(this,Ba,!1),k(this,ye,Zm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,ct))if(t.div.contains(e)){O(this,Wo,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,Wo))return;const[e,t]=m(this,Wo);O(this,Wo,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){k(this,ye,Tb).call(this),k(this,ye,_b).call(this)}removeEditListeners(){k(this,ye,uC).call(this),k(this,ye,Cb).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of m(this,ds))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of m(this,ds))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=m(this,wi))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of m(this,ct)){const o=s.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const u of m(this,ds))if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ue(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const h of n){const d=await s.deserialize(h);if(!d)return;o.push(d)}const u=()=>{for(const h of o)k(this,ye,Nb).call(this,h);k(this,ye,Rb).call(this,o)},c=()=>{for(const h of o)h.remove()};this.addCommands({cmd:u,undo:c,mustExec:!0})}catch(o){Ue(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,xn)!==Fe.NONE&&!this.isEditorHandlingKeyboard&&Kc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Ba)&&(O(this,Ba,!1),k(this,ye,Zm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(k(this,ye,lC).call(this),k(this,ye,_b).call(this),k(this,ye,Vn).call(this,{isEditing:m(this,xn)!==Fe.NONE,isEmpty:k(this,ye,yd).call(this),hasSomethingToUndo:m(this,hs).hasSomethingToUndo(),hasSomethingToRedo:m(this,hs).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,ye,cC).call(this),k(this,ye,Cb).call(this),k(this,ye,Vn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,ds)){O(this,ds,e);for(const t of m(this,ds))k(this,ye,Ma).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,qg).id}get currentLayer(){return m(this,Cn).get(m(this,ou))}getLayer(e){return m(this,Cn).get(e)}get currentPageIndex(){return m(this,ou)}addLayer(e){m(this,Cn).set(e.pageIndex,e),m(this,Ha)?e.enable():e.disable()}removeLayer(e){m(this,Cn).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(m(this,xn)!==e&&!(m(this,Yi)&&(await m(this,Yi).promise,!m(this,Yi)))){if(O(this,Yi,Promise.withResolvers()),O(this,xn,e),e===Fe.NONE){this.setEditingState(!1),k(this,ye,fC).call(this),m(this,Yi).resolve();return}this.setEditingState(!0),await k(this,ye,dC).call(this),this.unselectAll();for(const s of m(this,Cn).values())s.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),m(this,Yi).resolve();return}for(const s of m(this,ln).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();m(this,Yi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,xn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(m(this,ds)){switch(e){case Le.CREATE:this.currentLayer.addNewEditor();return;case Le.HIGHLIGHT_DEFAULT_COLOR:(n=m(this,ef))==null||n.updateColor(t);break;case Le.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,nf)||O(this,nf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of m(this,ct))s.updateParams(e,t);for(const s of m(this,ds))s.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const u of m(this,ln).values())u.editorType===e&&u.show(t);(((o=m(this,nf))==null?void 0:o.get(Le.HIGHLIGHT_SHOW_ALL))??!0)!==t&&k(this,ye,Ma).call(this,[[Le.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,Jd)!==e){O(this,Jd,e);for(const t of m(this,Cn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of m(this,ln).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return m(this,ln).get(e)}addEditor(e){m(this,ln).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,Ds)&&clearTimeout(m(this,Ds)),O(this,Ds,setTimeout(()=>{this.focusMainContainer(),O(this,Ds,null)},0))),m(this,ln).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,Yo).has(e.annotationElementId))&&((t=m(this,Ar))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,Yo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,Yo).has(e)}removeDeletedAnnotationElement(e){m(this,Yo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,wi)!==e&&(O(this,wi,e),e&&k(this,ye,Ma).call(this,e.propertiesToUpdate))}updateUI(e){m(this,ye,pC)===e&&k(this,ye,Ma).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,ct).has(e)){m(this,ct).delete(e),e.unselect(),k(this,ye,Vn).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,ct).add(e),e.select(),k(this,ye,Ma).call(this,e.propertiesToUpdate),k(this,ye,Vn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,ct))t!==e&&t.unselect();m(this,ct).clear(),m(this,ct).add(e),e.select(),k(this,ye,Ma).call(this,e.propertiesToUpdate),k(this,ye,Vn).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,ct).has(e)}get firstSelectedEditor(){return m(this,ct).values().next().value}unselect(e){e.unselect(),m(this,ct).delete(e),k(this,ye,Vn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,ct).size!==0}get isEnterHandled(){return m(this,ct).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,hs).undo(),k(this,ye,Vn).call(this,{hasSomethingToUndo:m(this,hs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,ye,yd).call(this)})}redo(){m(this,hs).redo(),k(this,ye,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,hs).hasSomethingToRedo(),isEmpty:k(this,ye,yd).call(this)})}addCommands(e){m(this,hs).add(e),k(this,ye,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,ye,yd).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,ct)],t=()=>{for(const s of e)s.remove()},n=()=>{for(const s of e)k(this,ye,Nb).call(this,s)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=m(this,wi))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,wi)||this.hasSelection}selectAll(){for(const e of m(this,ct))e.commit();k(this,ye,Rb).call(this,m(this,ln).values())}unselectAll(){if(!(m(this,wi)&&(m(this,wi).commitOrRemove(),m(this,xn)!==Fe.NONE))&&this.hasSelection){for(const e of m(this,ct))e.unselect();m(this,ct).clear(),k(this,ye,Vn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;m(this,za)[0]+=e,m(this,za)[1]+=t;const[s,o]=m(this,za),u=[...m(this,ct)],c=1e3;m(this,Os)&&clearTimeout(m(this,Os)),O(this,Os,setTimeout(()=>{O(this,Os,null),m(this,za)[0]=m(this,za)[1]=0,this.addCommands({cmd:()=>{for(const h of u)m(this,ln).has(h.id)&&h.translateInPage(s,o)},undo:()=>{for(const h of u)m(this,ln).has(h.id)&&h.translateInPage(-s,-o)},mustExec:!1})},c));for(const h of u)h.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),O(this,Ms,new Map);for(const e of m(this,ct))m(this,Ms).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,Ms))return!1;this.disableUserSelect(!1);const e=m(this,Ms);O(this,Ms,null);let t=!1;for(const[{x:s,y:o,pageIndex:u},c]of e)c.newX=s,c.newY=o,c.newPageIndex=u,t||(t=s!==c.savedX||o!==c.savedY||u!==c.savedPageIndex);if(!t)return!1;const n=(s,o,u,c)=>{if(m(this,ln).has(s.id)){const h=m(this,Cn).get(c);h?s._setParentAndPosition(h,o,u):(s.pageIndex=c,s.x=o,s.y=u)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:u,newPageIndex:c}]of e)n(s,o,u,c)},undo:()=>{for(const[s,{savedX:o,savedY:u,savedPageIndex:c}]of e)n(s,o,u,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,Ms))for(const n of m(this,Ms).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,ct).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,wi)===e}getActive(){return m(this,wi)}getMode(){return m(this,xn)}get imageManager(){return Xe(this,"imageManager",new Sb)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,p=t.rangeCount;d<p;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:o,height:u}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(d,p,g,b)=>({x:(p-s)/u,y:1-(d+g-n)/o,width:b/u,height:g/o});break;case"180":c=(d,p,g,b)=>({x:1-(d+g-n)/o,y:1-(p+b-s)/u,width:g/o,height:b/u});break;case"270":c=(d,p,g,b)=>({x:1-(p+b-s)/u,y:(d-n)/o,width:b/u,height:g/o});break;default:c=(d,p,g,b)=>({x:(d-n)/o,y:(p-s)/u,width:g/o,height:b/u});break}const h=[];for(let d=0,p=t.rangeCount;d<p;d++){const g=t.getRangeAt(d);if(!g.collapsed)for(const{x:b,y:w,width:S,height:E}of g.getClientRects())S===0||E===0||h.push(c(b,w,S,E))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,au)||O(this,au,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,au))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=m(this,au))==null?void 0:s.get(e.data.id);if(!t)return;const n=m(this,Ar).getRawValue(t);n&&(m(this,xn)===Fe.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};su=new WeakMap,wi=new WeakMap,ln=new WeakMap,Cn=new WeakMap,ru=new WeakMap,Ar=new WeakMap,au=new WeakMap,hs=new WeakMap,Ia=new WeakMap,ou=new WeakMap,Yo=new WeakMap,Ms=new WeakMap,ds=new WeakMap,Xo=new WeakMap,Qd=new WeakMap,Kd=new WeakMap,lu=new WeakMap,Zd=new WeakMap,Ds=new WeakMap,Fa=new WeakMap,cu=new WeakMap,Ba=new WeakMap,Ls=new WeakMap,qg=new WeakMap,Ha=new WeakMap,Jd=new WeakMap,Ua=new WeakMap,Wo=new WeakMap,ef=new WeakMap,tf=new WeakMap,xn=new WeakMap,ct=new WeakMap,Tr=new WeakMap,Qo=new WeakMap,nf=new WeakMap,sf=new WeakMap,za=new WeakMap,Os=new WeakMap,_r=new WeakMap,rf=new WeakMap,Yi=new WeakMap,ye=new WeakSet,Km=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Ab=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of m(this,Cn).values())if(n.hasTextLayer(e))return n;return null},rC=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=k(this,ye,Km).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(m(this,Ls)||O(this,Ls,new wR(this)),m(this,Ls).show(n,s,this.direction==="ltr"))},aC=function(){var o,u,c;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Tr)&&((o=m(this,Ls))==null||o.hide(),O(this,Tr,null),k(this,ye,Vn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,Tr))return;const s=k(this,ye,Km).call(this,e).closest(".textLayer");if(!s){m(this,Tr)&&((u=m(this,Ls))==null||u.hide(),O(this,Tr,null),k(this,ye,Vn).call(this,{hasSelectedText:!1}));return}if((c=m(this,Ls))==null||c.hide(),O(this,Tr,t),k(this,ye,Vn).call(this,{hasSelectedText:!0}),!(m(this,xn)!==Fe.HIGHLIGHT&&m(this,xn)!==Fe.NONE)&&(m(this,xn)===Fe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),O(this,Ba,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=m(this,xn)===Fe.HIGHLIGHT?k(this,ye,Ab).call(this,s):null;h==null||h.toggleDrawing();const d=new AbortController,p=this.combinedSignal(d),g=b=>{b.type==="pointerup"&&b.button!==0||(d.abort(),h==null||h.toggleDrawing(!0),b.type==="pointerup"&&k(this,ye,Zm).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("blur",g,{signal:p})}},Zm=function(e=""){m(this,xn)===Fe.HIGHLIGHT?this.highlightSelection(e):m(this,Qd)&&k(this,ye,rC).call(this)},oC=function(){document.addEventListener("selectionchange",k(this,ye,aC).bind(this),{signal:this._signal})},lC=function(){if(m(this,Fa))return;O(this,Fa,new AbortController);const e=this.combinedSignal(m(this,Fa));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},cC=function(){var e;(e=m(this,Fa))==null||e.abort(),O(this,Fa,null)},Tb=function(){if(m(this,Ua))return;O(this,Ua,new AbortController);const e=this.combinedSignal(m(this,Ua));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},uC=function(){var e;(e=m(this,Ua))==null||e.abort(),O(this,Ua,null)},_b=function(){if(m(this,Ia))return;O(this,Ia,new AbortController);const e=this.combinedSignal(m(this,Ia));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Cb=function(){var e;(e=m(this,Ia))==null||e.abort(),O(this,Ia,null)},hC=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Vn=function(e){Object.entries(e).some(([n,s])=>m(this,sf)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,sf),e)}),m(this,xn)===Fe.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,ye,Ma).call(this,[[Le.HIGHLIGHT_FREE,!0]]))},Ma=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},dC=async function(){if(!m(this,Ha)){O(this,Ha,!0);const e=[];for(const t of m(this,Cn).values())e.push(t.enable());await Promise.all(e);for(const t of m(this,ln).values())t.enable()}},fC=function(){if(this.unselectAll(),m(this,Ha)){O(this,Ha,!1);for(const e of m(this,Cn).values())e.disable();for(const e of m(this,ln).values())e.disable()}},Nb=function(e){const t=m(this,Cn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},pC=function(){let e=null;for(e of m(this,ct));return e},yd=function(){if(m(this,ln).size===0)return!0;if(m(this,ln).size===1)for(const e of m(this,ln).values())return e.isEmpty();return!1},Rb=function(e){for(const t of m(this,ct))t.unselect();m(this,ct).clear();for(const t of e)t.isEmpty()||(m(this,ct).add(t),t.select());k(this,ye,Vn).call(this,{hasSelectedEditor:this.hasSelection})},pe(Kc,"TRANSLATE_SMALL",1),pe(Kc,"TRANSLATE_BIG",10);let zl=Kc;var wn,ks,fs,uu,js,Si,hu,Ps,li,Cr,Ko,Is,qa,Es,bd,Jm;const $n=class $n{constructor(e){I(this,Es);I(this,wn,null);I(this,ks,!1);I(this,fs,null);I(this,uu,null);I(this,js,null);I(this,Si,null);I(this,hu,!1);I(this,Ps,null);I(this,li,null);I(this,Cr,null);I(this,Ko,null);I(this,Is,!1);O(this,li,e),O(this,Is,e._uiManager.useNewAltTextFlow),m($n,qa)||O($n,qa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){$n._l10n??($n._l10n=e)}async render(){const e=O(this,fs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=O(this,uu,document.createElement("span"));e.append(t),m(this,Is)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m($n,qa).missing),t.setAttribute("data-l10n-id",m($n,qa)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=m(this,li)._uiManager._signal;e.addEventListener("contextmenu",ts,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),m(this,li)._uiManager.editAltText(m(this,li)),m(this,Is)&&m(this,li)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,Es,bd)}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(O(this,hu,!0),s(o))},{signal:n}),await k(this,Es,Jm).call(this),e}finish(){m(this,fs)&&(m(this,fs).focus({focusVisible:m(this,hu)}),O(this,hu,!1))}isEmpty(){return m(this,Is)?m(this,wn)===null:!m(this,wn)&&!m(this,ks)}hasData(){return m(this,Is)?m(this,wn)!==null||!!m(this,Cr):this.isEmpty()}get guessedText(){return m(this,Cr)}async setGuessedText(e){m(this,wn)===null&&(O(this,Cr,e),O(this,Ko,await $n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,Es,Jm).call(this))}toggleAltTextBadge(e=!1){var t;if(!m(this,Is)||m(this,wn)){(t=m(this,Ps))==null||t.remove(),O(this,Ps,null);return}if(!m(this,Ps)){const n=O(this,Ps,document.createElement("div"));n.className="noAltTextBadge",m(this,li).div.append(n)}m(this,Ps).classList.toggle("hidden",!e)}serialize(e){let t=m(this,wn);return!e&&m(this,Cr)===t&&(t=m(this,Ko)),{altText:t,decorative:m(this,ks),guessedText:m(this,Cr),textWithDisclaimer:m(this,Ko)}}get data(){return{altText:m(this,wn),decorative:m(this,ks)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:s,cancel:o=!1}){n&&(O(this,Cr,n),O(this,Ko,s)),!(m(this,wn)===e&&m(this,ks)===t)&&(o||(O(this,wn,e),O(this,ks,t)),k(this,Es,Jm).call(this))}toggle(e=!1){m(this,fs)&&(!e&&m(this,Si)&&(clearTimeout(m(this,Si)),O(this,Si,null)),m(this,fs).disabled=!e)}shown(){m(this,li)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,Es,bd)}})}destroy(){var e,t;(e=m(this,fs))==null||e.remove(),O(this,fs,null),O(this,uu,null),O(this,js,null),(t=m(this,Ps))==null||t.remove(),O(this,Ps,null)}};wn=new WeakMap,ks=new WeakMap,fs=new WeakMap,uu=new WeakMap,js=new WeakMap,Si=new WeakMap,hu=new WeakMap,Ps=new WeakMap,li=new WeakMap,Cr=new WeakMap,Ko=new WeakMap,Is=new WeakMap,qa=new WeakMap,Es=new WeakSet,bd=function(){return m(this,wn)&&"added"||m(this,wn)===null&&this.guessedText&&"review"||"missing"},Jm=async function(){var s,o,u;const e=m(this,fs);if(!e)return;if(m(this,Is)){if(e.classList.toggle("done",!!m(this,wn)),e.setAttribute("data-l10n-id",m($n,qa)[m(this,Es,bd)]),(s=m(this,uu))==null||s.setAttribute("data-l10n-id",m($n,qa)[`${m(this,Es,bd)}-label`]),!m(this,wn)){(o=m(this,js))==null||o.remove();return}}else{if(!m(this,wn)&&!m(this,ks)){e.classList.remove("done"),(u=m(this,js))==null||u.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=m(this,js);if(!t){O(this,js,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${m(this,li).id}`;const c=100,h=m(this,li)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(m(this,Si)),O(this,Si,null)},{once:!0}),e.addEventListener("mouseenter",()=>{O(this,Si,setTimeout(()=>{O(this,Si,null),m(this,js).classList.add("show"),m(this,li)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:h}),e.addEventListener("mouseleave",()=>{var d;m(this,Si)&&(clearTimeout(m(this,Si)),O(this,Si,null)),(d=m(this,js))==null||d.classList.remove("show")},{signal:h})}m(this,ks)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=m(this,wn)),t.parentNode||e.append(t);const n=m(this,li).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},I($n,qa,null),pe($n,"_l10n",null);let Cg=$n;var Zo,ps,Lt,du,Jo,Nn,el,Ga,af,tl,Va,of,nl,Nr,Fs,fu,pu,Xi,lf,Gg,Be,Mb,cf,Db,Lb,mC,gC,Ob,kb,jb,vC,Pb,yC,bC,xC,Ib,xd;const st=class st{constructor(e){I(this,Be);I(this,Zo,null);I(this,ps,null);I(this,Lt,null);I(this,du,!1);I(this,Jo,!1);I(this,Nn,null);I(this,el,null);I(this,Ga,null);I(this,af,"");I(this,tl,!1);I(this,Va,null);I(this,of,!1);I(this,nl,!1);I(this,Nr,!1);I(this,Fs,null);I(this,fu,0);I(this,pu,0);I(this,Xi,null);pe(this,"_editToolbar",null);pe(this,"_initialOptions",Object.create(null));pe(this,"_initialData",null);pe(this,"_isVisible",!0);pe(this,"_uiManager",null);pe(this,"_focusEventsAllowed",!0);I(this,lf,!1);I(this,Gg,st._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[o,u];const[c,h]=this.parentDimensions;this.x=e.x/c,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=st.prototype._resizeWithKeyboard,t=zl.TRANSLATE_SMALL,n=zl.TRANSLATE_BIG;return Xe(this,"_resizerKeyboardManager",new op([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],st.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Xe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new TR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(st._l10n??(st._l10n=e),st._l10nResizer||(st._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),st._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);st._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Tt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,lf)}set _isDraggable(e){var t;O(this,lf,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,Gg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):k(this,Be,xd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,tl)?O(this,tl,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[o,u]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/o,this.y=(t+s)/u,this.fixAndSetPosition()}translate(e,t){k(this,Be,Mb).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,Va)||O(this,Va,[this.x,this.y]),k(this,Be,Mb).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,Va)||O(this,Va,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=e/n,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[c,h]=this.getBaseTranslation();o+=c,u+=h,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,Va)&&(m(this,Va)[0]!==this.x||m(this,Va)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=st,s=n/e,o=n/t;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:s,y:o,width:u,height:c}=this;if(u*=t,c*=n,s*=t,o*=n,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-u,s)),o=Math.max(0,Math.min(n-c,o));break;case 90:s=Math.max(0,Math.min(t-c,s)),o=Math.min(n,Math.max(u,o));break;case 180:s=Math.min(t,Math.max(u,s)),o=Math.min(n,Math.max(c,o));break;case 270:s=Math.min(t,Math.max(c,s)),o=Math.max(0,Math.min(n-u,o));break}this.x=s/=t,this.y=o/=n;const[h,d]=this.getBaseTranslation();s+=h,o+=d;const{style:p}=this.div;p.left=`${(100*s).toFixed(2)}%`,p.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return k(n=st,cf,Db).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return k(n=st,cf,Db).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,m(this,Jo)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),o=!m(this,Jo)&&t.endsWith("%");if(s&&o)return;const[u,c]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/u).toFixed(2)}%`),!m(this,Jo)&&!o&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,Lt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||m(this,nl)?this._editToolbar:(this._editToolbar=new xb(this),this.div.append(this._editToolbar.render()),m(this,Lt)&&await this._editToolbar.addAltText(m(this,Lt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,Lt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,Lt)||(Cg.initialize(st._l10n),O(this,Lt,new Cg(this)),m(this,Zo)&&(m(this,Lt).data=m(this,Zo),O(this,Zo,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,Lt))==null?void 0:e.data}set altTextData(e){m(this,Lt)&&(m(this,Lt).data=e)}get guessedAltText(){var e;return(e=m(this,Lt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=m(this,Lt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=m(this,Lt))==null?void 0:t.serialize(e)}hasAltText(){return!!m(this,Lt)&&!m(this,Lt).isEmpty()}hasAltTextData(){var e;return((e=m(this,Lt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,du)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),k(this,Be,Pb).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),_g(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Wn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(O(this,tl,!0),this._isDraggable){k(this,Be,vC).call(this,e);return}k(this,Be,jb).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){m(this,Fs)&&clearTimeout(m(this,Fs)),O(this,Fs,setTimeout(()=>{var e;O(this,Fs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const s=this.parentScale,[o,u]=this.pageDimensions,[c,h]=this.pageTranslation,d=e/s,p=t/s,g=this.x*o,b=this.y*u,w=this.width*o,S=this.height*u;switch(n){case 0:return[g+d+c,u-b-p-S+h,g+d+w+c,u-b-p+h];case 90:return[g+p+c,u-b+d+h,g+p+S+c,u-b+d+w+h];case 180:return[g-d-w+c,u-b+p+h,g-d+c,u-b+p+S+h];case 270:return[g-p-S+c,u-b-d-w+h,g-p+c,u-b-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,o,u]=e,c=o-n,h=u-s;switch(this.rotation){case 0:return[n,t-u,c,h];case 90:return[n,t-s,h,c];case 180:return[o,t-s,c,h];case 270:return[o,t-u,h,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){O(this,nl,!0)}disableEditMode(){O(this,nl,!1)}isInEditMode(){return m(this,nl)}shouldGetKeyboardEvents(){return m(this,Nr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){k(this,Be,Pb).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Tt("An editor must be serializable")}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});s.rotation=e.rotation,O(s,Zo,e.accessibilityData);const[o,u]=s.pageDimensions,[c,h,d,p]=s.getRectInCurrentCoords(e.rect,u);return s.x=c/o,s.y=h/u,s.width=d/o,s.height=p/u,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=m(this,Ga))==null||e.abort(),O(this,Ga,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,Fs)&&(clearTimeout(m(this,Fs)),O(this,Fs,null)),k(this,Be,xd).call(this),this.removeEditToolbar(),m(this,Xi)){for(const t of m(this,Xi).values())clearTimeout(t);O(this,Xi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,Be,mC).call(this),m(this,Nn).classList.remove("hidden"),_g(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),O(this,el,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,Nn).children;if(!m(this,ps)){O(this,ps,Array.from(t));const u=k(this,Be,yC).bind(this),c=k(this,Be,bC).bind(this),h=this._uiManager._signal;for(const d of m(this,ps)){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",u,{signal:h}),d.addEventListener("blur",c,{signal:h}),d.addEventListener("focus",k(this,Be,xC).bind(this,p),{signal:h}),d.setAttribute("data-l10n-id",st._l10nResizer[p])}}const n=m(this,ps)[0];let s=0;for(const u of t){if(u===n)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(m(this,ps).length/4);if(o!==s){if(o<s)for(let c=0;c<s-o;c++)m(this,Nn).append(m(this,Nn).firstChild);else if(o>s)for(let c=0;c<o-s;c++)m(this,Nn).firstChild.before(m(this,Nn).lastChild);let u=0;for(const c of t){const d=m(this,ps)[u++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",st._l10nResizer[d])}}k(this,Be,Ib).call(this,0),O(this,Nr,!0),m(this,Nn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,Nr)&&k(this,Be,kb).call(this,m(this,af),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){k(this,Be,xd).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,o;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=m(this,Lt))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,s,o;(e=m(this,Nn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(o=m(this,Lt))==null||o.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,of)}set isEditing(e){O(this,of,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){O(this,Jo,!0);const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,Xi)||O(this,Xi,new Map);const{action:n}=e;let s=m(this,Xi).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),m(this,Xi).delete(n),m(this,Xi).size===0&&O(this,Xi,null)},st._telemetryTimeout),m(this,Xi).set(n,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),O(this,du,!1)}disable(){this.div&&(this.div.tabIndex=-1),O(this,du,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Zo=new WeakMap,ps=new WeakMap,Lt=new WeakMap,du=new WeakMap,Jo=new WeakMap,Nn=new WeakMap,el=new WeakMap,Ga=new WeakMap,af=new WeakMap,tl=new WeakMap,Va=new WeakMap,of=new WeakMap,nl=new WeakMap,Nr=new WeakMap,Fs=new WeakMap,fu=new WeakMap,pu=new WeakMap,Xi=new WeakMap,lf=new WeakMap,Gg=new WeakMap,Be=new WeakSet,Mb=function([e,t],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/t,this.fixAndSetPosition()},cf=new WeakSet,Db=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Lb=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},mC=function(){if(m(this,Nn))return;O(this,Nn,document.createElement("div")),m(this,Nn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const s=document.createElement("div");m(this,Nn).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",k(this,Be,gC).bind(this,n),{signal:t}),s.addEventListener("contextmenu",ts,{signal:t}),s.tabIndex=-1}this.div.prepend(m(this,Nn))},gC=function(e,t){var S;t.preventDefault();const{isMac:n}=Wn.platform;if(t.button!==0||t.ctrlKey&&n)return;(S=m(this,Lt))==null||S.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const o=new AbortController,u=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,Be,kb).bind(this,e),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",ts,{signal:u});const c=this.x,h=this.y,d=this.width,p=this.height,g=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const w=()=>{var E;o.abort(),this.parent.togglePointerEvents(!0),(E=m(this,Lt))==null||E.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=g,this.div.style.cursor=b,k(this,Be,Ob).call(this,c,h,d,p)};window.addEventListener("pointerup",w,{signal:u}),window.addEventListener("blur",w,{signal:u})},Ob=function(e,t,n,s){const o=this.x,u=this.y,c=this.width,h=this.height;o===e&&u===t&&c===n&&h===s||this.addCommands({cmd:()=>{this.width=c,this.height=h,this.x=o,this.y=u;const[d,p]=this.parentDimensions;this.setDims(d*c,p*h),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=e,this.y=t;const[d,p]=this.parentDimensions;this.setDims(d*n,p*s),this.fixAndSetPosition()},mustExec:!0})},kb=function(e,t){const[n,s]=this.parentDimensions,o=this.x,u=this.y,c=this.width,h=this.height,d=st.MIN_SIZE/n,p=st.MIN_SIZE/s,g=ie=>Math.round(ie*1e4)/1e4,b=k(this,Be,Lb).call(this,this.rotation),w=(ie,ce)=>[b[0]*ie+b[2]*ce,b[1]*ie+b[3]*ce],S=k(this,Be,Lb).call(this,360-this.rotation),E=(ie,ce)=>[S[0]*ie+S[2]*ce,S[1]*ie+S[3]*ce];let D,A,C=!1,R=!1;switch(e){case"topLeft":C=!0,D=(ie,ce)=>[0,0],A=(ie,ce)=>[ie,ce];break;case"topMiddle":D=(ie,ce)=>[ie/2,0],A=(ie,ce)=>[ie/2,ce];break;case"topRight":C=!0,D=(ie,ce)=>[ie,0],A=(ie,ce)=>[0,ce];break;case"middleRight":R=!0,D=(ie,ce)=>[ie,ce/2],A=(ie,ce)=>[0,ce/2];break;case"bottomRight":C=!0,D=(ie,ce)=>[ie,ce],A=(ie,ce)=>[0,0];break;case"bottomMiddle":D=(ie,ce)=>[ie/2,ce],A=(ie,ce)=>[ie/2,0];break;case"bottomLeft":C=!0,D=(ie,ce)=>[0,ce],A=(ie,ce)=>[ie,0];break;case"middleLeft":R=!0,D=(ie,ce)=>[0,ce/2],A=(ie,ce)=>[ie,ce/2];break}const N=D(c,h),L=A(c,h);let H=w(...L);const F=g(o+H[0]),U=g(u+H[1]);let q=1,te=1,[V,ee]=this.screenToPageTranslation(t.movementX,t.movementY);if([V,ee]=E(V/n,ee/s),C){const ie=Math.hypot(c,h);q=te=Math.max(Math.min(Math.hypot(L[0]-N[0]-V,L[1]-N[1]-ee)/ie,1/c,1/h),d/c,p/h)}else R?q=Math.max(d,Math.min(1,Math.abs(L[0]-N[0]-V)))/c:te=Math.max(p,Math.min(1,Math.abs(L[1]-N[1]-ee)))/h;const Y=g(c*q),oe=g(h*te);H=w(...A(Y,oe));const de=F-H[0],W=U-H[1];this.width=Y,this.height=oe,this.x=de,this.y=W,this.setDims(n*Y,s*oe),this.fixAndSetPosition()},jb=function(e){const{isMac:t}=Wn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},vC=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),O(this,fu,e.clientX),O(this,pu,e.clientY);const u=c=>{const{clientX:h,clientY:d}=c,[p,g]=this.screenToPageTranslation(h-m(this,fu),d-m(this,pu));O(this,fu,h),O(this,pu,d),this._uiManager.dragSelectedEditors(p,g)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:s})}const o=()=>{n.abort(),t&&this.div.classList.remove("moving"),O(this,tl,!1),this._uiManager.endDragSession()||k(this,Be,jb).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},Pb=function(){if(m(this,Ga)||!this.div)return;O(this,Ga,new AbortController);const e=this._uiManager.combinedSignal(m(this,Ga));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},yC=function(e){st._resizerKeyboardManager.exec(this,e)},bC=function(e){var t;m(this,Nr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,Nn)&&k(this,Be,xd).call(this)},xC=function(e){O(this,af,m(this,Nr)?e:"")},Ib=function(e){if(m(this,ps))for(const t of m(this,ps))t.tabIndex=e},xd=function(){if(O(this,Nr,!1),k(this,Be,Ib).call(this,-1),m(this,el)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=m(this,el);k(this,Be,Ob).call(this,e,t,n,s),O(this,el,null)}},I(st,cf),pe(st,"_l10n",null),pe(st,"_l10nResizer",null),pe(st,"_borderLineWidth",-1),pe(st,"_colorManager",new Eb),pe(st,"_zIndex",1),pe(st,"_telemetryTimeout",1e3);let dt=st;class TR extends dt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const xT=3285377520,$i=4294901760,Rs=65535;class wC{constructor(e){this.h1=e?e&4294967295:xT,this.h2=e?e&4294967295:xT}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let E=0,D=e.length;E<D;E++){const A=e.charCodeAt(E);A<=255?t[n++]=A:(t[n++]=A>>>8,t[n++]=A&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,o=n-s*4,u=new Uint32Array(t.buffer,0,s);let c=0,h=0,d=this.h1,p=this.h2;const g=3432918353,b=461845907,w=g&Rs,S=b&Rs;for(let E=0;E<s;E++)E&1?(c=u[E],c=c*g&$i|c*w&Rs,c=c<<15|c>>>17,c=c*b&$i|c*S&Rs,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(h=u[E],h=h*g&$i|h*w&Rs,h=h<<15|h>>>17,h=h*b&$i|h*S&Rs,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,o){case 3:c^=t[s*4+2]<<16;case 2:c^=t[s*4+1]<<8;case 1:c^=t[s*4],c=c*g&$i|c*w&Rs,c=c<<15|c>>>17,c=c*b&$i|c*S&Rs,s&1?d^=c:p^=c}this.h1=d,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&$i|e*36045&Rs,t=t*4283543511&$i|((t<<16|e>>>16)*2950163797&$i)>>>16,e^=t>>>1,e=e*444984403&$i|e*60499&Rs,t=t*3301882366&$i|((t<<16|e>>>16)*3120437893&$i)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Fb=Object.freeze({map:null,hash:"",transfer:void 0});var il,sl,Sn,Vg,SC;class Wx{constructor(){I(this,Vg);I(this,il,!1);I(this,sl,null);I(this,Sn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=m(this,Sn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return m(this,Sn).get(e)}remove(e){if(m(this,Sn).delete(e),m(this,Sn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,Sn).values())if(t instanceof dt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=m(this,Sn).get(e);let s=!1;if(n!==void 0)for(const[o,u]of Object.entries(t))n[o]!==u&&(s=!0,n[o]=u);else s=!0,m(this,Sn).set(e,t);s&&k(this,Vg,SC).call(this),t instanceof dt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,Sn).has(e)}getAll(){return m(this,Sn).size>0?qx(m(this,Sn)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return m(this,Sn).size}resetModified(){m(this,il)&&(O(this,il,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new EC(this)}get serializable(){if(m(this,Sn).size===0)return Fb;const e=new Map,t=new wC,n=[],s=Object.create(null);let o=!1;for(const[u,c]of m(this,Sn)){const h=c instanceof dt?c.serialize(!1,s):c;h&&(e.set(u,h),t.update(`${u}:${JSON.stringify(h)}`),o||(o=!!h.bitmap))}if(o)for(const u of e.values())u.bitmap&&n.push(u.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Fb}get editorStats(){let e=null;const t=new Map;for(const n of m(this,Sn).values()){if(!(n instanceof dt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const u=e[o]||(e[o]=new Map);for(const[c,h]of Object.entries(s)){if(c==="type")continue;let d=u.get(c);d||(d=new Map,u.set(c,d));const p=d.get(h)??0;d.set(h,p+1)}}for(const[n,s]of t)e[n]=s.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){O(this,sl,null)}get modifiedIds(){if(m(this,sl))return m(this,sl);const e=[];for(const t of m(this,Sn).values())!(t instanceof dt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return O(this,sl,{ids:new Set(e),hash:e.join(",")})}}il=new WeakMap,sl=new WeakMap,Sn=new WeakMap,Vg=new WeakSet,SC=function(){m(this,il)||(O(this,il,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var uf;class EC extends Wx{constructor(t){super();I(this,uf);const{map:n,hash:s,transfer:o}=t.serializable,u=structuredClone(n,o?{transfer:o}:null);O(this,uf,{map:u,hash:s,transfer:o})}get print(){Tt("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,uf)}get modifiedIds(){return Xe(this,"modifiedIds",{ids:new Set,hash:""})}}uf=new WeakMap;var mu;class _R{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){I(this,mu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,mu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,mu).has(e.loadedName))){if(hn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:o}=e,u=new FontFace(n,s,o);this.addNativeFontFace(u);try{await u.load(),m(this,mu).add(n),t==null||t(e)}catch{Ue(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Tt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw Ue(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Xe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(zn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Xe(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(hn(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:t,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Xe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(N,L){return N.charCodeAt(L)<<24|N.charCodeAt(L+1)<<16|N.charCodeAt(L+2)<<8|N.charCodeAt(L+3)&255}function s(N,L,H,F){const U=N.substring(0,L),q=N.substring(L+H);return U+F+q}let o,u;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let d=0;function p(N,L){if(++d>30){Ue("Load test font never loaded."),L();return}if(h.font="30px "+N,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){L();return}setTimeout(p.bind(null,N,L))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=s(b,976,g.length,g);const S=16,E=1482184792;let D=n(b,S);for(o=0,u=g.length-3;o<u;o+=4)D=D-E+n(g,o)|0;o<g.length&&(D=D-E+n(g+"XXX",o)|0),b=s(b,S,4,uR(D));const A=`url(data:font/opentype;base64,${btoa(b)});`,C=`@font-face {font-family:"${g}";src:${A}}`;this.insertRule(C);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const N of[e.loadedName,g]){const L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=N,R.append(L)}this._document.body.append(R),p(g,()=>{R.remove(),t.complete()})}}mu=new WeakMap;class CR{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${gR(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(o){Ue(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(o,u){};const s=[];for(let o=0,u=n.length;o<u;)switch(n[o++]){case vr.BEZIER_CURVE_TO:{const[c,h,d,p,g,b]=n.slice(o,o+6);s.push(w=>w.bezierCurveTo(c,h,d,p,g,b)),o+=6}break;case vr.MOVE_TO:{const[c,h]=n.slice(o,o+2);s.push(d=>d.moveTo(c,h)),o+=2}break;case vr.LINE_TO:{const[c,h]=n.slice(o,o+2);s.push(d=>d.lineTo(c,h)),o+=2}break;case vr.QUADRATIC_CURVE_TO:{const[c,h,d,p]=n.slice(o,o+4);s.push(g=>g.quadraticCurveTo(c,h,d,p)),o+=4}break;case vr.RESTORE:s.push(c=>c.restore());break;case vr.SAVE:s.push(c=>c.save());break;case vr.SCALE:hn(s.length===2,"Scale command is only valid at the third position.");break;case vr.TRANSFORM:{const[c,h,d,p,g,b]=n.slice(o,o+6);s.push(w=>w.transform(c,h,d,p,g,b)),o+=6}break;case vr.TRANSLATE:{const[c,h]=n.slice(o,o+2);s.push(d=>d.translate(c,h)),o+=2}break}return this.compiledGlyphs[t]=function(u,c){s[0](u),s[1](u),u.scale(c,-c);for(let h=2,d=s.length;h<d;h++)s[h](u)}}}var hf;class AC{constructor({enableHWA:e=!1}){I(this,hf,!1);O(this,hf,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!m(this,hf)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Tt("Abstract method `_createCanvas` called.")}}hf=new WeakMap;class NR extends AC{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class TC{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Tt("Abstract method `_fetch` called.")}}class _C extends TC{async _fetch(e){const t=await o0(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):a0(t)}}class CC{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,o){return"none"}destroy(e=!1){}}var rl,al,Bs,Rr,Fn,$g,ol,Se,jn,qc,Gc,eg,Vc,NC,Bb,$c,wd,Sd,Hb,Ed;class RR extends CC{constructor({docId:t,ownerDocument:n=globalThis.document}){super();I(this,Se);I(this,rl);I(this,al);I(this,Bs);I(this,Rr);I(this,Fn);I(this,$g);I(this,ol,0);O(this,Rr,t),O(this,Fn,n)}addFilter(t){if(!t)return"none";let n=m(this,Se,jn).get(t);if(n)return n;const[s,o,u]=k(this,Se,eg).call(this,t),c=t.length===1?s:`${s}${o}${u}`;if(n=m(this,Se,jn).get(c),n)return m(this,Se,jn).set(t,n),n;const h=`g_${m(this,Rr)}_transfer_map_${Gn(this,ol)._++}`,d=k(this,Se,Vc).call(this,h);m(this,Se,jn).set(t,d),m(this,Se,jn).set(c,d);const p=k(this,Se,$c).call(this,h);return k(this,Se,Sd).call(this,s,o,u,p),d}addHCMFilter(t,n){var S;const s=`${t}-${n}`,o="base";let u=m(this,Se,qc).get(o);if((u==null?void 0:u.key)===s||(u?((S=u.filter)==null||S.remove(),u.key=s,u.url="none",u.filter=null):(u={key:s,url:"none",filter:null},m(this,Se,qc).set(o,u)),!t||!n))return u.url;const c=k(this,Se,Ed).call(this,t);t=Ae.makeHexColor(...c);const h=k(this,Se,Ed).call(this,n);if(n=Ae.makeHexColor(...h),m(this,Se,Gc).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return u.url;const d=new Array(256);for(let E=0;E<=255;E++){const D=E/255;d[E]=D<=.03928?D/12.92:((D+.055)/1.055)**2.4}const p=d.join(","),g=`g_${m(this,Rr)}_hcm_filter`,b=u.filter=k(this,Se,$c).call(this,g);k(this,Se,Sd).call(this,p,p,p,b),k(this,Se,Bb).call(this,b);const w=(E,D)=>{const A=c[E]/255,C=h[E]/255,R=new Array(D+1);for(let N=0;N<=D;N++)R[N]=A+N/D*(C-A);return R.join(",")};return k(this,Se,Sd).call(this,w(0,5),w(1,5),w(2,5),b),u.url=k(this,Se,Vc).call(this,g),u.url}addAlphaFilter(t){let n=m(this,Se,jn).get(t);if(n)return n;const[s]=k(this,Se,eg).call(this,[t]),o=`alpha_${s}`;if(n=m(this,Se,jn).get(o),n)return m(this,Se,jn).set(t,n),n;const u=`g_${m(this,Rr)}_alpha_map_${Gn(this,ol)._++}`,c=k(this,Se,Vc).call(this,u);m(this,Se,jn).set(t,c),m(this,Se,jn).set(o,c);const h=k(this,Se,$c).call(this,u);return k(this,Se,Hb).call(this,s,h),c}addLuminosityFilter(t){let n=m(this,Se,jn).get(t||"luminosity");if(n)return n;let s,o;if(t?([s]=k(this,Se,eg).call(this,[t]),o=`luminosity_${s}`):o="luminosity",n=m(this,Se,jn).get(o),n)return m(this,Se,jn).set(t,n),n;const u=`g_${m(this,Rr)}_luminosity_map_${Gn(this,ol)._++}`,c=k(this,Se,Vc).call(this,u);m(this,Se,jn).set(t,c),m(this,Se,jn).set(o,c);const h=k(this,Se,$c).call(this,u);return k(this,Se,NC).call(this,h),t&&k(this,Se,Hb).call(this,s,h),c}addHighlightHCMFilter(t,n,s,o,u){var C;const c=`${n}-${s}-${o}-${u}`;let h=m(this,Se,qc).get(t);if((h==null?void 0:h.key)===c||(h?((C=h.filter)==null||C.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},m(this,Se,qc).set(t,h)),!n||!s))return h.url;const[d,p]=[n,s].map(k(this,Se,Ed).bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[w,S]=[o,u].map(k(this,Se,Ed).bind(this));b<g&&([g,b,w,S]=[b,g,S,w]),m(this,Se,Gc).style.color="";const E=(R,N,L)=>{const H=new Array(256),F=(b-g)/L,U=R/255,q=(N-R)/(255*L);let te=0;for(let V=0;V<=L;V++){const ee=Math.round(g+V*F),Y=U+V*q;for(let oe=te;oe<=ee;oe++)H[oe]=Y;te=ee+1}for(let V=te;V<256;V++)H[V]=H[te-1];return H.join(",")},D=`g_${m(this,Rr)}_hcm_${t}_filter`,A=h.filter=k(this,Se,$c).call(this,D);return k(this,Se,Bb).call(this,A),k(this,Se,Sd).call(this,E(w[0],S[0],5),E(w[1],S[1],5),E(w[2],S[2],5),A),h.url=k(this,Se,Vc).call(this,D),h.url}destroy(t=!1){t&&m(this,Se,qc).size!==0||(m(this,Bs)&&(m(this,Bs).parentNode.parentNode.remove(),O(this,Bs,null)),m(this,al)&&(m(this,al).clear(),O(this,al,null)),O(this,ol,0))}}rl=new WeakMap,al=new WeakMap,Bs=new WeakMap,Rr=new WeakMap,Fn=new WeakMap,$g=new WeakMap,ol=new WeakMap,Se=new WeakSet,jn=function(){return m(this,al)||O(this,al,new Map)},qc=function(){return m(this,$g)||O(this,$g,new Map)},Gc=function(){if(!m(this,Bs)){const t=m(this,Fn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=m(this,Fn).createElementNS(br,"svg");s.setAttribute("width",0),s.setAttribute("height",0),O(this,Bs,m(this,Fn).createElementNS(br,"defs")),t.append(s),s.append(m(this,Bs)),m(this,Fn).body.append(t)}return m(this,Bs)},eg=function(t){if(t.length===1){const d=t[0],p=new Array(256);for(let b=0;b<256;b++)p[b]=d[b]/255;const g=p.join(",");return[g,g,g]}const[n,s,o]=t,u=new Array(256),c=new Array(256),h=new Array(256);for(let d=0;d<256;d++)u[d]=n[d]/255,c[d]=s[d]/255,h[d]=o[d]/255;return[u.join(","),c.join(","),h.join(",")]},Vc=function(t){if(m(this,rl)===void 0){O(this,rl,"");const n=m(this,Fn).URL;n!==m(this,Fn).baseURI&&(l0(n)?Ue('#createUrl: ignore "data:"-URL for performance reasons.'):O(this,rl,n.split("#",1)[0]))}return`url(${m(this,rl)}#${t})`},NC=function(t){const n=m(this,Fn).createElementNS(br,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Bb=function(t){const n=m(this,Fn).createElementNS(br,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},$c=function(t){const n=m(this,Fn).createElementNS(br,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),m(this,Se,Gc).append(n),n},wd=function(t,n,s){const o=m(this,Fn).createElementNS(br,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",s),t.append(o)},Sd=function(t,n,s,o){const u=m(this,Fn).createElementNS(br,"feComponentTransfer");o.append(u),k(this,Se,wd).call(this,u,"feFuncR",t),k(this,Se,wd).call(this,u,"feFuncG",n),k(this,Se,wd).call(this,u,"feFuncB",s)},Hb=function(t,n){const s=m(this,Fn).createElementNS(br,"feComponentTransfer");n.append(s),k(this,Se,wd).call(this,s,"feFuncA",t)},Ed=function(t){return m(this,Se,Gc).style.color=t,Xx(getComputedStyle(m(this,Se,Gc)).getPropertyValue("color"))};class RC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Tt("Abstract method `_fetch` called.")}}class MC extends RC{async _fetch(e){const t=await o0(e,"arraybuffer");return new Uint8Array(t)}}if(zn){var Ub=Promise.withResolvers(),Pd=null;(async()=>{const e=await Nm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Nm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Nm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Nm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,u;return new Map(Object.entries({fs:e,http:t,https:n,url:s,canvas:o,path2d:u}))})().then(e=>{Pd=e,Ub.resolve()},e=>{Ue(`loadPackages: ${e}`),Pd=new Map,Ub.resolve()})}class uo{static get promise(){return Ub.promise}static get(e){return Pd==null?void 0:Pd.get(e)}}async function DC(r){const t=await uo.get("fs").promises.readFile(r);return new Uint8Array(t)}class MR extends CC{}class DR extends AC{_createCanvas(e,t){return uo.get("canvas").createCanvas(e,t)}}class LR extends TC{async _fetch(e){return DC(e)}}class OR extends RC{async _fetch(e){return DC(e)}}const Yn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function zb(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,n),r.clip(s)}class Qx{getPattern(){Tt("Abstract method `getPattern` called.")}}class kR extends Qx{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let o;if(s===Yn.STROKE||s===Yn.FILL){const u=t.current.getClippedPathBoundingBox(s,kt(e))||[0,0,0,0],c=Math.ceil(u[2]-u[0])||1,h=Math.ceil(u[3]-u[1])||1,d=t.cachedCanvases.getCanvas("pattern",c,h),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-u[0],-u[1]),n=Ae.transform(n,[1,0,0,1,u[0],u[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),zb(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=e.createPattern(d.canvas,"no-repeat");const g=new DOMMatrix(n);o.setTransform(g)}else zb(e,this._bbox),o=this._createGradient(e);return o}}function F1(r,e,t,n,s,o,u,c){const h=e.coords,d=e.colors,p=r.data,g=r.width*4;let b;h[t+1]>h[n+1]&&(b=t,t=n,n=b,b=o,o=u,u=b),h[n+1]>h[s+1]&&(b=n,n=s,s=b,b=u,u=c,c=b),h[t+1]>h[n+1]&&(b=t,t=n,n=b,b=o,o=u,u=b);const w=(h[t]+e.offsetX)*e.scaleX,S=(h[t+1]+e.offsetY)*e.scaleY,E=(h[n]+e.offsetX)*e.scaleX,D=(h[n+1]+e.offsetY)*e.scaleY,A=(h[s]+e.offsetX)*e.scaleX,C=(h[s+1]+e.offsetY)*e.scaleY;if(S>=C)return;const R=d[o],N=d[o+1],L=d[o+2],H=d[u],F=d[u+1],U=d[u+2],q=d[c],te=d[c+1],V=d[c+2],ee=Math.round(S),Y=Math.round(C);let oe,de,W,ie,ce,be,G,se;for(let me=ee;me<=Y;me++){if(me<D){const De=me<S?0:(S-me)/(S-D);oe=w-(w-E)*De,de=R-(R-H)*De,W=N-(N-F)*De,ie=L-(L-U)*De}else{let De;me>C?De=1:D===C?De=0:De=(D-me)/(D-C),oe=E-(E-A)*De,de=H-(H-q)*De,W=F-(F-te)*De,ie=U-(U-V)*De}let ge;me<S?ge=0:me>C?ge=1:ge=(S-me)/(S-C),ce=w-(w-A)*ge,be=R-(R-q)*ge,G=N-(N-te)*ge,se=L-(L-V)*ge;const xe=Math.round(Math.min(oe,ce)),Me=Math.round(Math.max(oe,ce));let we=g*me+xe*4;for(let De=xe;De<=Me;De++)ge=(oe-De)/(oe-ce),ge<0?ge=0:ge>1&&(ge=1),p[we++]=de-(de-be)*ge|0,p[we++]=W-(W-G)*ge|0,p[we++]=ie-(ie-se)*ge|0,p[we++]=255}}function jR(r,e,t){const n=e.coords,s=e.colors;let o,u;switch(e.type){case"lattice":const c=e.verticesPerRow,h=Math.floor(n.length/c)-1,d=c-1;for(o=0;o<h;o++){let p=o*c;for(let g=0;g<d;g++,p++)F1(r,t,n[p],n[p+1],n[p+c],s[p],s[p+1],s[p+c]),F1(r,t,n[p+c+1],n[p+1],n[p+c],s[p+c+1],s[p+1],s[p+c])}break;case"triangles":for(o=0,u=n.length;o<u;o+=3)F1(r,t,n[o],n[o+1],n[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class PR extends Qx{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,g=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),w=d/g,S=p/b,E={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/w,scaleY:1/S},D=g+2*2,A=b+2*2,C=n.getCanvas("mesh",D,A),R=C.context,N=R.createImageData(g,b);if(t){const H=N.data;for(let F=0,U=H.length;F<U;F+=4)H[F]=t[0],H[F+1]=t[1],H[F+2]=t[2],H[F+3]=255}for(const H of this._figures)jR(N,H,E);return R.putImageData(N,2,2),{canvas:C.canvas,offsetX:c-2*w,offsetY:h-2*S,scaleX:w,scaleY:S}}getPattern(e,t,n,s){zb(e,this._bbox);let o;if(s===Yn.SHADING)o=Ae.singularValueDecompose2dScale(kt(e));else if(o=Ae.singularValueDecompose2dScale(t.baseTransform),this.matrix){const c=Ae.singularValueDecompose2dScale(this.matrix);o=[o[0]*c[0],o[1]*c[1]]}const u=this._createMeshCanvas(o,s===Yn.SHADING?null:this._background,t.cachedCanvases);return s!==Yn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(u.offsetX,u.offsetY),e.scale(u.scaleX,u.scaleY),e.createPattern(u.canvas,"no-repeat")}}class IR extends Qx{getPattern(){return"hotpink"}}function FR(r){switch(r[0]){case"RadialAxial":return new kR(r);case"Mesh":return new PR(r);case"Dummy":return new IR}throw new Error(`Unknown IR type: ${r[0]}`)}const wT={COLORED:1,UNCOLORED:2},Yg=class Yg{constructor(e,t,n,s,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:s,tilingType:o,color:u,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:d}=this;h=Math.abs(h),d=Math.abs(d),s0("TilingType: "+o);const p=t[0],g=t[1],b=t[2],w=t[3],S=b-p,E=w-g,D=Ae.singularValueDecompose2dScale(this.matrix),A=Ae.singularValueDecompose2dScale(this.baseTransform),C=D[0]*A[0],R=D[1]*A[1];let N=S,L=E,H=!1,F=!1;const U=Math.ceil(h*C),q=Math.ceil(d*R),te=Math.ceil(S*C),V=Math.ceil(E*R);U>=te?N=h:H=!0,q>=V?L=d:F=!0;const ee=this.getSizeAndScale(N,this.ctx.canvas.width,C),Y=this.getSizeAndScale(L,this.ctx.canvas.height,R),oe=e.cachedCanvases.getCanvas("pattern",ee.size,Y.size),de=oe.context,W=c.createCanvasGraphics(de);if(W.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(W,s,u),de.translate(-ee.scale*p,-Y.scale*g),W.transform(ee.scale,0,0,Y.scale,0,0),de.save(),this.clipBbox(W,p,g,b,w),W.baseTransform=kt(W.ctx),W.executeOperatorList(n),W.endDrawing(),de.restore(),H||F){const ie=oe.canvas;H&&(N=h),F&&(L=d);const ce=this.getSizeAndScale(N,this.ctx.canvas.width,C),be=this.getSizeAndScale(L,this.ctx.canvas.height,R),G=ce.size,se=be.size,me=e.cachedCanvases.getCanvas("pattern-workaround",G,se),ge=me.context,xe=H?Math.floor(S/h):0,Me=F?Math.floor(E/d):0;for(let we=0;we<=xe;we++)for(let De=0;De<=Me;De++)ge.drawImage(ie,G*we,se*De,G,se,0,0,G,se);return{canvas:me.canvas,scaleX:ce.scale,scaleY:be.scale,offsetX:p,offsetY:g}}return{canvas:oe.canvas,scaleX:ee.scale,scaleY:Y.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,n){const s=Math.max(Yg.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=s?o=s:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,s,o){const u=s-t,c=o-n;e.ctx.rect(t,n,u,c),e.current.updateRectMinMax(kt(e.ctx),[t,n,s,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,o=e.current;switch(t){case wT.COLORED:const u=this.ctx;s.fillStyle=u.fillStyle,s.strokeStyle=u.strokeStyle,o.fillColor=u.fillStyle,o.strokeColor=u.strokeStyle;break;case wT.UNCOLORED:const c=Ae.makeHexColor(n[0],n[1],n[2]);s.fillStyle=c,s.strokeStyle=c,o.fillColor=c,o.strokeColor=c;break;default:throw new cR(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,s){let o=n;s!==Yn.SHADING&&(o=Ae.transform(o,t.baseTransform),this.matrix&&(o=Ae.transform(o,this.matrix)));const u=this.createPatternCanvas(t);let c=new DOMMatrix(o);c=c.translate(u.offsetX,u.offsetY),c=c.scale(1/u.scaleX,1/u.scaleY);const h=e.createPattern(u.canvas,"repeat");return h.setTransform(c),h}};pe(Yg,"MAX_PATTERN_SIZE",3e3);let qb=Yg;function BR({src:r,srcPos:e=0,dest:t,width:n,height:s,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const c=Wn.isLittleEndian?4278190080:255,[h,d]=u?[o,c]:[c,o],p=n>>3,g=n&7,b=r.length;t=new Uint32Array(t.buffer);let w=0;for(let S=0;S<s;S++){for(const D=e+p;e<D;e++){const A=e<b?r[e]:255;t[w++]=A&128?d:h,t[w++]=A&64?d:h,t[w++]=A&32?d:h,t[w++]=A&16?d:h,t[w++]=A&8?d:h,t[w++]=A&4?d:h,t[w++]=A&2?d:h,t[w++]=A&1?d:h}if(g===0)continue;const E=e<b?r[e++]:255;for(let D=0;D<g;D++)t[w++]=E&1<<7-D?d:h}return{srcPos:e,destPos:w}}const ST=16,ET=100,HR=15,AT=10,TT=1e3,hi=16;function UR(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(n,s){e.translate(n,s),this.__originalTranslate(n,s)},r.scale=function(n,s){e.scale(n,s),this.__originalScale(n,s)},r.transform=function(n,s,o,u,c,h){e.transform(n,s,o,u,c,h),this.__originalTransform(n,s,o,u,c,h)},r.setTransform=function(n,s,o,u,c,h){e.setTransform(n,s,o,u,c,h),this.__originalSetTransform(n,s,o,u,c,h)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(n){e.rotate(n),this.__originalRotate(n)},r.clip=function(n){e.clip(n),this.__originalClip(n)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,s,o,u,c){e.bezierCurveTo(t,n,s,o,u,c),this.__originalBezierCurveTo(t,n,s,o,u,c)},r.rect=function(t,n,s,o){e.rect(t,n,s,o),this.__originalRect(t,n,s,o)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class zR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Rm(r,e,t,n,s,o,u,c,h,d){const[p,g,b,w,S,E]=kt(r);if(g===0&&b===0){const C=u*p+S,R=Math.round(C),N=c*w+E,L=Math.round(N),H=(u+h)*p+S,F=Math.abs(Math.round(H)-R)||1,U=(c+d)*w+E,q=Math.abs(Math.round(U)-L)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(w),R,L),r.drawImage(e,t,n,s,o,0,0,F,q),r.setTransform(p,g,b,w,S,E),[F,q]}if(p===0&&w===0){const C=c*b+S,R=Math.round(C),N=u*g+E,L=Math.round(N),H=(c+d)*b+S,F=Math.abs(Math.round(H)-R)||1,U=(u+h)*g+E,q=Math.abs(Math.round(U)-L)||1;return r.setTransform(0,Math.sign(g),Math.sign(b),0,R,L),r.drawImage(e,t,n,s,o,0,0,q,F),r.setTransform(p,g,b,w,S,E),[q,F]}r.drawImage(e,t,n,s,o,u,c,h,d);const D=Math.hypot(p,g),A=Math.hypot(b,w);return[D*h,A*d]}function qR(r){const{width:e,height:t}=r;if(e>TT||t>TT)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let u=new Uint8Array(o*(t+1)),c,h,d;const p=e+7&-8;let g=new Uint8Array(p*t),b=0;for(const A of r.data){let C=128;for(;C>0;)g[b++]=A&C?0:255,C>>=1}let w=0;for(b=0,g[b]!==0&&(u[0]=1,++w),h=1;h<e;h++)g[b]!==g[b+1]&&(u[h]=g[b]?2:1,++w),b++;for(g[b]!==0&&(u[h]=2,++w),c=1;c<t;c++){b=c*p,d=c*o,g[b-p]!==g[b]&&(u[d]=g[b]?1:8,++w);let A=(g[b]?4:0)+(g[b-p]?8:0);for(h=1;h<e;h++)A=(A>>2)+(g[b+1]?4:0)+(g[b-p+1]?8:0),s[A]&&(u[d+h]=s[A],++w),b++;if(g[b-p]!==g[b]&&(u[d+h]=g[b]?2:4,++w),w>n)return null}for(b=p*(t-1),d=c*o,g[b]!==0&&(u[d]=8,++w),h=1;h<e;h++)g[b]!==g[b+1]&&(u[d+h]=g[b]?4:8,++w),b++;if(g[b]!==0&&(u[d+h]=4,++w),w>n)return null;const S=new Int32Array([0,o,-1,0,-o,0,0,0,1]),E=new Path2D;for(c=0;w&&c<=t;c++){let A=c*o;const C=A+e;for(;A<C&&!u[A];)A++;if(A===C)continue;E.moveTo(A%o,c);const R=A;let N=u[A];do{const L=S[N];do A+=L;while(!u[A]);const H=u[A];H!==5&&H!==10?(N=H,u[A]=0):(N=H&51*N>>4,u[A]&=N>>2|N<<2),E.lineTo(A%o,A/o|0),u[A]||--w}while(R!==A);--c}return g=null,u=null,function(A){A.save(),A.scale(1/e,-1/t),A.translate(0,-t),A.fill(E),A.beginPath(),A.restore()}}class _T{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=X3,this.textMatrixScale=1,this.fontMatrix=mb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=kn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Ae.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Ae.applyTransform(t,e),s=Ae.applyTransform(t.slice(2),e),o=Ae.applyTransform([t[0],t[3]],e),u=Ae.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],s[0],o[0],u[0]),this.minY=Math.min(this.minY,n[1],s[1],o[1],u[1]),this.maxX=Math.max(this.maxX,n[0],s[0],o[0],u[0]),this.maxY=Math.max(this.maxY,n[1],s[1],o[1],u[1])}updateScalingPathMinMax(e,t){Ae.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,s,o,u,c,h,d,p){const g=Ae.bezierBoundingBox(t,n,s,o,u,c,h,d,p);p||this.updateRectMinMax(e,g)}getPathBoundingBox(e=Yn.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Yn.STROKE){t||Tt("Stroke bounding box must include transform.");const s=Ae.singularValueDecompose2dScale(t),o=s[0]*this.lineWidth/2,u=s[1]*this.lineWidth/2;n[0]-=o,n[1]-=u,n[2]+=o,n[3]+=u}return n}updateClipFromPath(){const e=Ae.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Yn.FILL,t=null){return Ae.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function CT(r,e){if(typeof ImageData<"u"&&e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,s=t%hi,o=(t-s)/hi,u=s===0?o:o+1,c=r.createImageData(n,hi);let h=0,d;const p=e.data,g=c.data;let b,w,S,E;if(e.kind===Ym.GRAYSCALE_1BPP){const D=p.byteLength,A=new Uint32Array(g.buffer,0,g.byteLength>>2),C=A.length,R=n+7>>3,N=4294967295,L=Wn.isLittleEndian?4278190080:255;for(b=0;b<u;b++){for(S=b<o?hi:s,d=0,w=0;w<S;w++){const H=D-h;let F=0;const U=H>R?n:H*8-7,q=U&-8;let te=0,V=0;for(;F<q;F+=8)V=p[h++],A[d++]=V&128?N:L,A[d++]=V&64?N:L,A[d++]=V&32?N:L,A[d++]=V&16?N:L,A[d++]=V&8?N:L,A[d++]=V&4?N:L,A[d++]=V&2?N:L,A[d++]=V&1?N:L;for(;F<U;F++)te===0&&(V=p[h++],te=128),A[d++]=V&te?N:L,te>>=1}for(;d<C;)A[d++]=0;r.putImageData(c,0,b*hi)}}else if(e.kind===Ym.RGBA_32BPP){for(w=0,E=n*hi*4,b=0;b<o;b++)g.set(p.subarray(h,h+E)),h+=E,r.putImageData(c,0,w),w+=hi;b<u&&(E=n*s*4,g.set(p.subarray(h,h+E)),r.putImageData(c,0,w))}else if(e.kind===Ym.RGB_24BPP)for(S=hi,E=n*S,b=0;b<u;b++){for(b>=o&&(S=s,E=n*S),d=0,w=E;w--;)g[d++]=p[h++],g[d++]=p[h++],g[d++]=p[h++],g[d++]=255;r.putImageData(c,0,b*hi)}else throw new Error(`bad image kind: ${e.kind}`)}function NT(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,s=t%hi,o=(t-s)/hi,u=s===0?o:o+1,c=r.createImageData(n,hi);let h=0;const d=e.data,p=c.data;for(let g=0;g<u;g++){const b=g<o?hi:s;({srcPos:h}=BR({src:d,srcPos:h,dest:p,width:n,height:b,nonBlackColor:0})),r.putImageData(c,0,g*hi)}}function ld(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function Mm(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!zn){const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}}function RT(r,e){if(e)return!0;const t=Ae.singularValueDecompose2dScale(r);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*co.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const GR=["butt","round","square"],VR=["miter","round","bevel"],$R={},MT={};var po,Gb,Vb;const yw=class yw{constructor(e,t,n,s,o,{optionalContentConfig:u,markedContentStack:c=null},h,d){I(this,po);this.ctx=e,this.current=new _T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=u,this.cachedCanvases=new zR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...kt(this.compositeCtx))}this.ctx.save(),Mm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=kt(this.ctx)}executeOperatorList(e,t,n,s){const o=e.argsArray,u=e.fnArray;let c=t||0;const h=o.length;if(h===c)return c;const d=h-c>AT&&typeof n=="function",p=d?Date.now()+HR:0;let g=0;const b=this.commonObjs,w=this.objs;let S;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(S=u[c],S!==cs.dependency)this[S].apply(this,o[c]);else for(const E of o[c]){const D=E.startsWith("g_")?b:w;if(!D.has(E))return D.get(E,n),c}if(c++,c===h)return c;if(d&&++g>AT){if(Date.now()>p)return n(),c;g=0}}}endDrawing(){k(this,po,Gb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,po,Vb).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,s=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),u=Math.max(Math.hypot(t[2],t[3]),1),c=n,h=s,d="prescale1",p,g;for(;o>2&&c>1||u>2&&h>1;){let b=c,w=h;o>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/b),u>2&&h>1&&(w=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,u/=h/w),p=this.cachedCanvases.getCanvas(d,b,w),g=p.context,g.clearRect(0,0,b,w),g.drawImage(e,0,0,c,h,0,0,b,w),e=p.canvas,c=b,h=w,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,o=this.current.fillColor,u=this.current.patternFill,c=kt(t);let h,d,p,g;if((e.bitmap||e.data)&&e.count>1){const U=e.bitmap||e.data.buffer;d=JSON.stringify(u?c:[c.slice(0,4),o]),h=this._cachedBitmapsMap.get(U),h||(h=new Map,this._cachedBitmapsMap.set(U,h));const q=h.get(d);if(q&&!u){const te=Math.round(Math.min(c[0],c[2])+c[4]),V=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:q,offsetX:te,offsetY:V}}p=q}p||(g=this.cachedCanvases.getCanvas("maskCanvas",n,s),NT(g.context,e));let b=Ae.transform(c,[1/n,0,0,-1/s,0,0]);b=Ae.transform(b,[1,0,0,1,0,-s]);const[w,S,E,D]=Ae.getAxialAlignedBoundingBox([0,0,n,s],b),A=Math.round(E-w)||1,C=Math.round(D-S)||1,R=this.cachedCanvases.getCanvas("fillCanvas",A,C),N=R.context,L=w,H=S;N.translate(-L,-H),N.transform(...b),p||(p=this._scaleImage(g.canvas,yr(N)),p=p.img,h&&u&&h.set(d,p)),N.imageSmoothingEnabled=RT(kt(N),e.interpolate),Rm(N,p,0,0,p.width,p.height,0,0,n,s),N.globalCompositeOperation="source-in";const F=Ae.transform(yr(N),[1,0,0,1,-L,-H]);return N.fillStyle=u?o.getPattern(t,this,F,Yn.FILL):o,N.fillRect(0,0,n,s),h&&!u&&(this.cachedCanvases.delete("fillCanvas"),h.set(d,R.canvas)),{canvas:R.canvas,offsetX:Math.round(L),offsetY:Math.round(H)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=GR[e]}setLineJoin(e){this.ctx.lineJoin=VR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const o=this.ctx;o.setTransform(...kt(this.suspendedCtx)),ld(this.suspendedCtx,o),UR(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ld(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const o=s[0],u=s[1],c=s[2]-o,h=s[3]-u;c===0||h===0||(this.genericComposeSMask(t.context,n,c,h,t.subtype,t.backdrop,t.transferMap,o,u,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,o,u,c,h,d,p,g){let b=e.canvas,w=h-p,S=d-g;if(u){const D=Ae.makeHexColor(...u);if(w<0||S<0||w+n>b.width||S+s>b.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,s),C=A.context;C.drawImage(b,-w,-S),C.globalCompositeOperation="destination-atop",C.fillStyle=D,C.fillRect(0,0,n,s),C.globalCompositeOperation="source-over",b=A.canvas,w=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(w,S,n,s),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=D,e.fillRect(w,S,n,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const E=new Path2D;E.rect(h,d,n,s),t.clip(E),t.globalCompositeOperation="destination-in",t.drawImage(b,w,S,n,s,h,d,n,s),t.restore()}save(){this.inSMaskMode?(ld(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ld(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,s,o,u){this.ctx.transform(e,t,n,s,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,o=this.current;let u=o.x,c=o.y,h,d;const p=kt(s),g=p[0]===0&&p[3]===0||p[1]===0&&p[2]===0,b=g?n.slice(0):null;for(let w=0,S=0,E=e.length;w<E;w++)switch(e[w]|0){case cs.rectangle:u=t[S++],c=t[S++];const D=t[S++],A=t[S++],C=u+D,R=c+A;s.moveTo(u,c),D===0||A===0?s.lineTo(C,R):(s.lineTo(C,c),s.lineTo(C,R),s.lineTo(u,R)),g||o.updateRectMinMax(p,[u,c,C,R]),s.closePath();break;case cs.moveTo:u=t[S++],c=t[S++],s.moveTo(u,c),g||o.updatePathMinMax(p,u,c);break;case cs.lineTo:u=t[S++],c=t[S++],s.lineTo(u,c),g||o.updatePathMinMax(p,u,c);break;case cs.curveTo:h=u,d=c,u=t[S+4],c=t[S+5],s.bezierCurveTo(t[S],t[S+1],t[S+2],t[S+3],u,c),o.updateCurvePathMinMax(p,h,d,t[S],t[S+1],t[S+2],t[S+3],u,c,b),S+=6;break;case cs.curveTo2:h=u,d=c,s.bezierCurveTo(u,c,t[S],t[S+1],t[S+2],t[S+3]),o.updateCurvePathMinMax(p,h,d,u,c,t[S],t[S+1],t[S+2],t[S+3],b),u=t[S+2],c=t[S+3],S+=4;break;case cs.curveTo3:h=u,d=c,u=t[S+2],c=t[S+3],s.bezierCurveTo(t[S],t[S+1],u,c,u,c),o.updateCurvePathMinMax(p,h,d,t[S],t[S+1],u,c,u,c,b),S+=4;break;case cs.closePath:s.closePath();break}g&&o.updateScalingPathMinMax(p,b),o.setCurrentPoint(u,c)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,yr(t),Yn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let o=!1;s&&(t.save(),t.fillStyle=n.getPattern(t,this,yr(t),Yn.FILL),o=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$R}eoClip(){this.pendingClip=MT}beginText(){this.current.textMatrix=X3,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var p;const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||mb,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ue("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",u=((p=n.systemFontInfo)==null?void 0:p.css)||`"${o}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const h=n.italic?"italic":"normal";let d=t;t<ST?d=ST:t>ET&&(d=ET),this.current.fontSizeScale=t/d,this.ctx.font=`${h} ${c} ${d}px ${u}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,s,o,u){this.current.textMatrix=[e,t,n,s,o,u],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const o=this.ctx,u=this.current,c=u.font,h=u.textRenderingMode,d=u.fontSize/u.fontSizeScale,p=h&kn.FILL_STROKE_MASK,g=!!(h&kn.ADD_TO_PATH_FLAG),b=u.patternFill&&!c.missingFile;let w;(c.disableFontFace||g||b)&&(w=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||b?(o.save(),o.translate(t,n),o.beginPath(),w(o,d),s&&o.setTransform(...s),(p===kn.FILL||p===kn.FILL_STROKE)&&o.fill(),(p===kn.STROKE||p===kn.FILL_STROKE)&&o.stroke(),o.restore()):((p===kn.FILL||p===kn.FILL_STROKE)&&o.fillText(e,t,n),(p===kn.STROKE||p===kn.FILL_STROKE)&&o.strokeText(e,t,n)),g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:kt(o),x:t,y:n,fontSize:d,addToPath:w})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return Xe(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const o=this.ctx,u=t.fontSizeScale,c=t.charSpacing,h=t.wordSpacing,d=t.fontDirection,p=t.textHScale*d,g=e.length,b=n.vertical,w=b?1:-1,S=n.defaultVMetrics,E=s*t.fontMatrix[0],D=t.textRenderingMode===kn.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),d>0?o.scale(p,-1):o.scale(p,1);let A;if(t.patternFill){o.save();const H=t.fillColor.getPattern(o,this,yr(o),Yn.FILL);A=kt(o),o.restore(),o.fillStyle=H}let C=t.lineWidth;const R=t.textMatrixScale;if(R===0||C===0){const H=t.textRenderingMode&kn.FILL_STROKE_MASK;(H===kn.STROKE||H===kn.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=R;if(u!==1&&(o.scale(u,u),C/=u),o.lineWidth=C,n.isInvalidPDFjsFont){const H=[];let F=0;for(const U of e)H.push(U.unicode),F+=U.width;o.fillText(H.join(""),0,0),t.x+=F*E*p,o.restore(),this.compose();return}let N=0,L;for(L=0;L<g;++L){const H=e[L];if(typeof H=="number"){N+=w*H*s/1e3;continue}let F=!1;const U=(H.isSpace?h:0)+c,q=H.fontChar,te=H.accent;let V,ee,Y=H.width;if(b){const de=H.vmetric||S,W=-(H.vmetric?de[1]:Y*.5)*E,ie=de[2]*E;Y=de?-de[0]:Y,V=W/u,ee=(N+ie)/u}else V=N/u,ee=0;if(n.remeasure&&Y>0){const de=o.measureText(q).width*1e3/s*u;if(Y<de&&this.isFontSubpixelAAEnabled){const W=Y/de;F=!0,o.save(),o.scale(W,1),V/=W}else Y!==de&&(V+=(Y-de)/2e3*s/u)}if(this.contentVisible&&(H.isInFont||n.missingFile)){if(D&&!te)o.fillText(q,V,ee);else if(this.paintChar(q,V,ee,A),te){const de=V+s*te.offset.x/u,W=ee-s*te.offset.y/u;this.paintChar(te.fontChar,de,W,A)}}const oe=b?Y*E-U*d:Y*E+U*d;N+=oe,F&&o.restore()}b?t.y-=N:t.x+=N*p,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,o=n.fontSize,u=n.fontDirection,c=s.vertical?1:-1,h=n.charSpacing,d=n.wordSpacing,p=n.textHScale*u,g=n.fontMatrix||mb,b=e.length,w=n.textRenderingMode===kn.INVISIBLE;let S,E,D,A;if(!(w||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(p,u),S=0;S<b;++S){if(E=e[S],typeof E=="number"){A=c*E*o/1e3,this.ctx.translate(A,0),n.x+=A*p;continue}const C=(E.isSpace?d:0)+h,R=s.charProcOperatorList[E.operatorListId];if(!R){Ue(`Type3 character "${E.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=E,this.save(),t.scale(o,o),t.transform(...g),this.executeOperatorList(R),this.restore()),D=Ae.applyTransform([E.width,0],g)[0]*o+C,t.translate(D,0),n.x+=D*p}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,o,u){this.ctx.rect(n,s,o-n,u-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],s=this.baseTransform||kt(this.ctx),o={createCanvasGraphics:u=>new yw(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new qb(e,n,this.ctx,o,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Ae.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=Ae.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=FR(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,yr(t),Yn.SHADING);const s=yr(t);if(s){const{width:o,height:u}=t.canvas,[c,h,d,p]=Ae.getAxialAlignedBoundingBox([0,0,o,u],s);this.ctx.fillRect(c,h,d-c,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Tt("Should not call beginInlineImage")}beginImageData(){Tt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=kt(this.ctx),t)){const n=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],n,s),this.current.updateRectMinMax(kt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||s0("TODO: Support non-isolated groups."),e.knockout&&Ue("Knockout groups not supported.");const n=kt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Ae.getAxialAlignedBoundingBox(e.bbox,kt(t));const o=[0,0,t.canvas.width,t.canvas.height];s=Ae.intersect(s,o)||[0,0,0,0];const u=Math.floor(s[0]),c=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-u,1),d=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,d]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,h,d),b=g.context;b.translate(-u,-c),b.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:b,offsetX:u,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(u,c),t.save()),ld(t,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=kt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const o=Ae.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,s,o){if(k(this,po,Gb).call(this),Mm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const u=t[2]-t[0],c=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=u,t[3]=c;const[h,d]=Ae.singularValueDecompose2dScale(kt(this.ctx)),{viewportScale:p}=this,g=Math.ceil(u*this.outputScaleX*p),b=Math.ceil(c*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(g,b);const{canvas:w,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(e,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(h,0,0,-d,0,c*d),Mm(this.ctx)}else Mm(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],u,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new _T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),k(this,po,Vb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=qR(e)),s.compiled)){s.compiled(n);return}const o=this._createMaskCanvas(e),u=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(u,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,s=0,o,u){if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const h=kt(c);c.transform(t,n,s,o,0,0);const d=this._createMaskCanvas(e);c.setTransform(1,0,0,1,d.offsetX-h[4],d.offsetY-h[5]);for(let p=0,g=u.length;p<g;p+=2){const b=Ae.transform(h,[t,n,s,o,u[p],u[p+1]]),[w,S]=Ae.applyTransform([0,0],b);c.drawImage(d.canvas,w,S)}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const o of e){const{data:u,width:c,height:h,transform:d}=o,p=this.cachedCanvases.getCanvas("maskCanvas",c,h),g=p.context;g.save();const b=this.getObject(u,o);NT(g,b),g.globalCompositeOperation="source-in",g.fillStyle=s?n.getPattern(g,this,yr(t),Yn.FILL):n,g.fillRect(0,0,c,h),g.restore(),t.save(),t.transform(...d),t.scale(1,-1),Rm(t,p.canvas,0,0,c,h,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Ue("Dependent image isn't ready yet");return}const u=o.width,c=o.height,h=[];for(let d=0,p=s.length;d<p;d+=2)h.push({transform:[t,0,0,n,s[d],s[d+1]],x:0,y:0,w:u,h:c});this.paintInlineImageXObjectGroup(o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:s}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,s),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(t,0,0),u.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;if(this.save(),!zn){const{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/t,-1/n);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",t,n).context;CT(h,e),o=this.applyTransferMapsToCanvas(h)}const u=this._scaleImage(o,yr(s));s.imageSmoothingEnabled=RT(kt(s),e.interpolate),Rm(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const o=e.width,u=e.height,h=this.cachedCanvases.getCanvas("inlineImage",o,u).context;CT(h,e),s=this.applyTransferMapsToCanvas(h)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),Rm(n,s,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===MT?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=kt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:o}=this.ctx.getTransform();let u,c;if(n===0&&s===0){const h=Math.abs(t),d=Math.abs(o);if(h===d)if(e===0)u=c=1/h;else{const p=h*e;u=c=p<1?1/p:1}else if(e===0)u=1/h,c=1/d;else{const p=h*e,g=d*e;u=p<1?1/p:1,c=g<1?1/g:1}}else{const h=Math.abs(t*o-n*s),d=Math.hypot(t,n),p=Math.hypot(s,o);if(e===0)u=p/h,c=d/h;else{const g=e*h;u=p>g?p/g:1,c=d>g?d/g:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[s,o]=this.getScaleForStroking();if(t.lineWidth=n||1,s===1&&o===1){t.stroke();return}const u=t.getLineDash();if(e&&t.save(),t.scale(s,o),u.length>0){const c=Math.max(s,o);t.setLineDash(u.map(h=>h/c)),t.lineDashOffset/=c}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};po=new WeakSet,Gb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Vb=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Zc=yw;for(const r in cs)Zc.prototype[r]!==void 0&&(Zc.prototype[cs[r]]=Zc.prototype[r]);var df,ff;class Xr{static get workerPort(){return m(this,df)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");O(this,df,e)}static get workerSrc(){return m(this,ff)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");O(this,ff,e)}}df=new WeakMap,ff=new WeakMap,I(Xr,df,null),I(Xr,ff,"");const Dm={DATA:1,ERROR:2},Jt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function xi(r){switch(r instanceof Error||typeof r=="object"&&r!==null||Tt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Wl(r.message);case"MissingPDFException":return new Xl(r.message);case"PasswordException":return new gb(r.message,r.code);case"UnexpectedResponseException":return new r0(r.message,r.status);case"UnknownErrorException":return new vb(r.message,r.details);default:return new vb(r.message,r.toString())}}var gu,es,LC,OC,kC,tg;class Ad{constructor(e,t,n){I(this,es);I(this,gu,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",k(this,es,LC).bind(this),{signal:m(this,gu).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(u){o.reject(u)}return o.promise}sendWithStream(e,t,n,s){const o=this.streamId++,u=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:u,targetName:c,action:e,streamId:o,data:t,desiredSize:d.desiredSize},s),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,h.postMessage({sourceName:u,targetName:c,stream:Jt.PULL,streamId:o,desiredSize:d.desiredSize}),p.promise},cancel:d=>{hn(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:u,targetName:c,stream:Jt.CANCEL,streamId:o,reason:xi(d)}),p.promise}},n)}destroy(){var e;(e=m(this,gu))==null||e.abort(),O(this,gu,null)}}gu=new WeakMap,es=new WeakSet,LC=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,es,kC).call(this,e);return}if(e.callback){const n=e.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Dm.DATA)s.resolve(e.data);else if(e.callback===Dm.ERROR)s.reject(xi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,s=e.sourceName,o=this.comObj;new Promise(function(u){u(t(e.data))}).then(function(u){o.postMessage({sourceName:n,targetName:s,callback:Dm.DATA,callbackId:e.callbackId,data:u})},function(u){o.postMessage({sourceName:n,targetName:s,callback:Dm.ERROR,callbackId:e.callbackId,reason:xi(u)})});return}if(e.streamId){k(this,es,OC).call(this,e);return}t(e.data)},OC=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,u=this,c=this.actionHandler[e.action],h={enqueue(d,p=1,g){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:s,stream:Jt.ENQUEUE,streamId:t,chunk:d},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Jt.CLOSE,streamId:t}),delete u.streamSinks[t])},error(d){hn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Jt.ERROR,streamId:t,reason:xi(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,new Promise(function(d){d(c(e.data,h))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Jt.START_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:Jt.START_COMPLETE,streamId:t,reason:xi(d)})})},kC=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,u=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case Jt.START_COMPLETE:e.success?u.startCall.resolve():u.startCall.reject(xi(e.reason));break;case Jt.PULL_COMPLETE:e.success?u.pullCall.resolve():u.pullCall.reject(xi(e.reason));break;case Jt.PULL:if(!c){o.postMessage({sourceName:n,targetName:s,stream:Jt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,new Promise(function(h){var d;h((d=c.onPull)==null?void 0:d.call(c))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Jt.PULL_COMPLETE,streamId:t,success:!0})},function(h){o.postMessage({sourceName:n,targetName:s,stream:Jt.PULL_COMPLETE,streamId:t,reason:xi(h)})});break;case Jt.ENQUEUE:if(hn(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(e.chunk);break;case Jt.CLOSE:if(hn(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),k(this,es,tg).call(this,u,t);break;case Jt.ERROR:hn(u,"error should have stream controller"),u.controller.error(xi(e.reason)),k(this,es,tg).call(this,u,t);break;case Jt.CANCEL_COMPLETE:e.success?u.cancelCall.resolve():u.cancelCall.reject(xi(e.reason)),k(this,es,tg).call(this,u,t);break;case Jt.CANCEL:if(!c)break;new Promise(function(h){var d;h((d=c.onCancel)==null?void 0:d.call(c,xi(e.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Jt.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){o.postMessage({sourceName:n,targetName:s,stream:Jt.CANCEL_COMPLETE,streamId:t,reason:xi(h)})}),c.sinkCapability.reject(xi(e.reason)),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},tg=async function(e,t){var n,s,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(s=e.pullCall)==null?void 0:s.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var ll,pf;class YR{constructor({parsedData:e,rawData:t}){I(this,ll);I(this,pf);O(this,ll,e),O(this,pf,t)}getRaw(){return m(this,pf)}get(e){return m(this,ll).get(e)??null}getAll(){return qx(m(this,ll))}has(e){return m(this,ll).has(e)}}ll=new WeakMap,pf=new WeakMap;const Yc=Symbol("INTERNAL");var mf,gf,vf,vu;class XR{constructor(e,{name:t,intent:n,usage:s,rbGroups:o}){I(this,mf,!1);I(this,gf,!1);I(this,vf,!1);I(this,vu,!0);O(this,mf,!!(e&Ri.DISPLAY)),O(this,gf,!!(e&Ri.PRINT)),this.name=t,this.intent=n,this.usage=s,this.rbGroups=o}get visible(){if(m(this,vf))return m(this,vu);if(!m(this,vu))return!1;const{print:e,view:t}=this.usage;return m(this,mf)?(t==null?void 0:t.viewState)!=="OFF":m(this,gf)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Yc&&Tt("Internal method `_setVisible` called."),O(this,vf,n),O(this,vu,t)}}mf=new WeakMap,gf=new WeakMap,vf=new WeakMap,vu=new WeakMap;var $a,ut,yu,bu,yf,$b;class WR{constructor(e,t=Ri.DISPLAY){I(this,yf);I(this,$a,null);I(this,ut,new Map);I(this,yu,null);I(this,bu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,O(this,bu,e.order);for(const n of e.groups)m(this,ut).set(n.id,new XR(t,n));if(e.baseState==="OFF")for(const n of m(this,ut).values())n._setVisible(Yc,!1);for(const n of e.on)m(this,ut).get(n)._setVisible(Yc,!0);for(const n of e.off)m(this,ut).get(n)._setVisible(Yc,!1);O(this,yu,this.getHash())}}isVisible(e){if(m(this,ut).size===0)return!0;if(!e)return s0("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,ut).has(e.id)?m(this,ut).get(e.id).visible:(Ue(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,yf,$b).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,ut).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(m(this,ut).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,ut).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!m(this,ut).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,ut).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!m(this,ut).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,ut).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(m(this,ut).get(t).visible)return!1}return!0}return Ue(`Unknown optional content policy ${e.policy}.`),!0}return Ue(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const s=m(this,ut).get(e);if(!s){Ue(`Optional content group not found: ${e}`);return}if(n&&t&&s.rbGroups.length)for(const u of s.rbGroups)for(const c of u)c!==e&&((o=m(this,ut).get(c))==null||o._setVisible(Yc,!1,!0));s._setVisible(Yc,!!t,!0),O(this,$a,null)}setOCGState({state:e,preserveRB:t}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const o=m(this,ut).get(s);if(o)switch(n){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!o.visible,t);break}}O(this,$a,null)}get hasInitialVisibility(){return m(this,yu)===null||this.getHash()===m(this,yu)}getOrder(){return m(this,ut).size?m(this,bu)?m(this,bu).slice():[...m(this,ut).keys()]:null}getGroups(){return m(this,ut).size>0?qx(m(this,ut)):null}getGroup(e){return m(this,ut).get(e)||null}getHash(){if(m(this,$a)!==null)return m(this,$a);const e=new wC;for(const[t,n]of m(this,ut))e.update(`${t}:${n.visible}`);return O(this,$a,e.hexdigest())}}$a=new WeakMap,ut=new WeakMap,yu=new WeakMap,bu=new WeakMap,yf=new WeakSet,$b=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const o=e[s];let u;if(Array.isArray(o))u=k(this,yf,$b).call(this,o);else if(m(this,ut).has(o))u=m(this,ut).get(o).visible;else return Ue(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return n==="And"};class QR{constructor(e,{disableRange:t=!1,disableStream:n=!1}){hn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:u,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=c,(o==null?void 0:o.length)>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),e.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});hn(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,s,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||o.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){hn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new KR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new ZR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class KR{constructor(e,t,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=$x(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ZR{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function JR(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let p=c(t);return p=unescape(p),p=h(p),p=d(p),o(p)}if(t=u(r),t){const p=d(t);return o(p)}if(t=n("filename","i").exec(r),t){t=t[1];let p=c(t);return p=d(p),o(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function s(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const b=new TextDecoder(p,{fatal:!0}),w=a0(g);g=b.decode(w),e=!1}catch{}}return g}function o(p){return e&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),e&&(p=s("iso-8859-1",p))),p}function u(p){const g=[];let b;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=w.exec(p))!==null;){let[,E,D,A]=b;if(E=parseInt(E,10),E in g){if(E===0)break;continue}g[E]=[D,A]}const S=[];for(let E=0;E<g.length&&E in g;++E){let[D,A]=g[E];A=c(A),D&&(A=unescape(A),E===0&&(A=h(A))),S.push(A)}return S.join("")}function c(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let b=0;b<g.length;++b){const w=g[b].indexOf('"');w!==-1&&(g[b]=g[b].slice(0,w),g.length=b+1),g[b]=g[b].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function h(p){const g=p.indexOf("'");if(g===-1)return p;const b=p.slice(0,g),S=p.slice(g+1).replace(/^[^']*'/,"");return s(b,S)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,b,w,S){if(w==="q"||w==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,D){return String.fromCharCode(parseInt(D,16))}),s(b,S);try{S=atob(S)}catch{}return s(b,S)})}return""}function Kx(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const s=e[n];s!==void 0&&t.append(n,s)}return t}function Zx({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(r.get("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Jx(r){const e=r.get("Content-Disposition");if(e){let t=JR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if($x(t))return t}return null}function c0(r,e){return r===404||r===0&&e.startsWith("file:")?new Xl('Missing PDF "'+e+'".'):new r0(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r)}function jC(r){return r===200||r===206}function PC(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function IC(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Ue(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class DT{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Kx(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new eM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new tM(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class eM{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,PC(n,this._withCredentials,this._abortController)).then(o=>{if(!jC(o.status))throw c0(o.status,s);this._reader=o.body.getReader(),this._headersCapability.resolve();const u=o.headers,{allowRangeRequests:c,suggestedLength:h}=Zx({responseHeaders:u,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=Jx(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Wl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:IC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class tM{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const u=s.url;fetch(u,PC(o,this._withCredentials,this._abortController)).then(c=>{if(!jC(c.status))throw c0(c.status,u);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:IC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const B1=200,H1=206;function nM(r){const e=r.response;return typeof e!="string"?e:a0(e).buffer}class iM{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Kx(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const s={begin:e,end:t};for(const o in n)s[o]=n[o];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,u]of this.headers)t.setRequestHeader(o,u);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=H1):s.expectedStatus=B1,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var s;const n=this.pendingRequests[e];n&&((s=n.onProgress)==null||s.call(n,t))}onStateChange(e,t){var h,d,p;const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(h=n.onError)==null||h.call(n,s.status);return}const o=s.status||B1;if(!(o===B1&&n.expectedStatus===H1)&&o!==n.expectedStatus){(d=n.onError)==null||d.call(n,s.status);return}const c=nM(s);if(o===H1){const g=s.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);n.onDone({begin:parseInt(b[1],10),chunk:c})}else c?n.onDone({begin:0,chunk:c}):(p=n.onError)==null||p.call(n,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class sM{constructor(e){this._source=e,this._manager=new iM(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return hn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new rM(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new aM(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class rM{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[c,...h]=u.split(": ");return[c,h.join(": ")]})),{allowRangeRequests:s,suggestedLength:o}=Zx({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Jx(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=c0(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class aM{constructor(e,t,n){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=c0(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const oM=/^[a-z][a-z0-9\-+.]+:/i;function lM(r){if(oM.test(r))return new URL(r);const e=uo.get("url");return new URL(e.pathToFileURL(r))}function FC(r,e,t){return r.protocol==="http:"?uo.get("http").request(r,{headers:e},t):uo.get("https").request(r,{headers:e},t)}class cM{constructor(e){this.source=e,this.url=lM(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Kx(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dM(this):new uM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new fM(this,e,t):new hM(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class BC{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Wl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class HC{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class uM extends BC{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=s=>{if(s.statusCode===404){const h=new Xl(`Missing PDF "${this._url}".`);this._storedError=h,this._headersCapability.reject(h);return}this._headersCapability.resolve(),this._setReadableStream(s);const o=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:c}=Zx({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=c||this._contentLength,this._filename=Jx(o)};this._request=FC(this._url,t,n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class hM extends HC{constructor(e,t,n){super(e);const s=Object.fromEntries(e.headers);s.Range=`bytes=${t}-${n-1}`;const o=u=>{if(u.statusCode===404){const c=new Xl(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(u)};this._request=FC(this._url,s,o),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class dM extends BC{constructor(e){super(e);const t=uo.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Xl(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class fM extends HC{constructor(e,t,n){super(e);const s=uo.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}}const pM=1e5,ai=30,mM=.8;var $3,Ya,ci,bf,xf,cl,Mr,wf,Sf,ul,xu,wu,Xa,Su,Ef,Eu,hl,Af,Tf,Ut,dl,fl,_f,Wa,Au,na,UC,zC,Xb,Li,ng,Wb,qC,GC;let Yb=(Ut=class{constructor({textContentSource:e,container:t,viewport:n}){I(this,na);I(this,Ya,Promise.withResolvers());I(this,ci,null);I(this,bf,!1);I(this,xf,!!(($3=globalThis.FontInspector)!=null&&$3.enabled));I(this,cl,null);I(this,Mr,null);I(this,wf,0);I(this,Sf,0);I(this,ul,null);I(this,xu,null);I(this,wu,0);I(this,Xa,0);I(this,Su,Object.create(null));I(this,Ef,[]);I(this,Eu,null);I(this,hl,[]);I(this,Af,new WeakMap);I(this,Tf,null);var h;if(e instanceof ReadableStream)O(this,Eu,e);else if(typeof e=="object")O(this,Eu,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');O(this,ci,O(this,xu,t)),O(this,Xa,n.scale*(globalThis.devicePixelRatio||1)),O(this,wu,n.rotation),O(this,Mr,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:o,pageX:u,pageY:c}=n.rawDims;O(this,Tf,[1,0,0,-1,-u,c+o]),O(this,Sf,s),O(this,wf,o),k(h=Ut,Li,qC).call(h),Ul(t,n),m(this,Ya).promise.finally(()=>{m(Ut,Au).delete(this),O(this,Mr,null),O(this,Su,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Wn.platform;return Xe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,ul).read().then(({value:t,done:n})=>{if(n){m(this,Ya).resolve();return}m(this,cl)??O(this,cl,t.lang),Object.assign(m(this,Su),t.styles),k(this,na,UC).call(this,t.items),e()},m(this,Ya).reject)};return O(this,ul,m(this,Eu).getReader()),m(Ut,Au).add(this),e(),m(this,Ya).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==m(this,wu)&&(t==null||t(),O(this,wu,s),Ul(m(this,xu),{rotation:s})),n!==m(this,Xa)){t==null||t(),O(this,Xa,n);const u={div:null,properties:null,ctx:k(o=Ut,Li,ng).call(o,m(this,cl))};for(const c of m(this,hl))u.properties=m(this,Af).get(c),u.div=c,k(this,na,Xb).call(this,u)}}cancel(){var t;const e=new Wl("TextLayer task cancelled.");(t=m(this,ul))==null||t.cancel(e).catch(()=>{}),O(this,ul,null),m(this,Ya).reject(e)}get textDivs(){return m(this,hl)}get textContentItemsStr(){return m(this,Ef)}static cleanup(){if(!(m(this,Au).size>0)){m(this,dl).clear();for(const{canvas:e}of m(this,fl).values())e.remove();m(this,fl).clear()}}},Ya=new WeakMap,ci=new WeakMap,bf=new WeakMap,xf=new WeakMap,cl=new WeakMap,Mr=new WeakMap,wf=new WeakMap,Sf=new WeakMap,ul=new WeakMap,xu=new WeakMap,wu=new WeakMap,Xa=new WeakMap,Su=new WeakMap,Ef=new WeakMap,Eu=new WeakMap,hl=new WeakMap,Af=new WeakMap,Tf=new WeakMap,dl=new WeakMap,fl=new WeakMap,_f=new WeakMap,Wa=new WeakMap,Au=new WeakMap,na=new WeakSet,UC=function(e){var s,o;if(m(this,bf))return;(o=m(this,Mr)).ctx??(o.ctx=k(s=Ut,Li,ng).call(s,m(this,cl)));const t=m(this,hl),n=m(this,Ef);for(const u of e){if(t.length>pM){Ue("Ignoring additional textDivs for performance reasons."),O(this,bf,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const c=m(this,ci);O(this,ci,document.createElement("span")),m(this,ci).classList.add("markedContent"),u.id!==null&&m(this,ci).setAttribute("id",`${u.id}`),c.append(m(this,ci))}else u.type==="endMarkedContent"&&O(this,ci,m(this,ci).parentNode);continue}n.push(u.str),k(this,na,zC).call(this,u)}},zC=function(e){var E;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,hl).push(t);const s=Ae.transform(m(this,Tf),e.transform);let o=Math.atan2(s[1],s[0]);const u=m(this,Su)[e.fontName];u.vertical&&(o+=Math.PI/2);let c=m(this,xf)&&u.fontSubstitution||u.fontFamily;c=Ut.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),d=h*k(E=Ut,Li,GC).call(E,c,m(this,cl));let p,g;o===0?(p=s[4],g=s[5]-d):(p=s[4]+d*Math.sin(o),g=s[5]-d*Math.cos(o));const b="calc(var(--scale-factor)*",w=t.style;m(this,ci)===m(this,xu)?(w.left=`${(100*p/m(this,Sf)).toFixed(2)}%`,w.top=`${(100*g/m(this,wf)).toFixed(2)}%`):(w.left=`${b}${p.toFixed(2)}px)`,w.top=`${b}${g.toFixed(2)}px)`),w.fontSize=`${b}${(m(Ut,Wa)*h).toFixed(2)}px)`,w.fontFamily=c,n.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,xf)&&(t.dataset.fontName=u.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let S=!1;if(e.str.length>1)S=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const D=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);D!==A&&Math.max(D,A)/Math.min(D,A)>1.5&&(S=!0)}if(S&&(n.canvasWidth=u.vertical?e.height:e.width),m(this,Af).set(t,n),m(this,Mr).div=t,m(this,Mr).properties=n,k(this,na,Xb).call(this,m(this,Mr)),n.hasText&&m(this,ci).append(t),n.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),m(this,ci).append(D)}},Xb=function(e){var c;const{div:t,properties:n,ctx:s}=e,{style:o}=t;let u="";if(m(Ut,Wa)>1&&(u=`scale(${1/m(Ut,Wa)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=o,{canvasWidth:d,fontSize:p}=n;k(c=Ut,Li,Wb).call(c,s,p*m(this,Xa),h);const{width:g}=s.measureText(t.textContent);g>0&&(u=`scaleX(${d*m(this,Xa)/g}) ${u}`)}n.angle!==0&&(u=`rotate(${n.angle}deg) ${u}`),u.length>0&&(o.transform=u)},Li=new WeakSet,ng=function(e=null){let t=m(this,fl).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,fl).set(e,t),m(this,_f).set(t,{size:0,family:""})}return t},Wb=function(e,t,n){const s=m(this,_f).get(e);t===s.size&&n===s.family||(e.font=`${t}px ${n}`,s.size=t,s.family=n)},qC=function(){if(m(this,Wa)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),O(this,Wa,e.getBoundingClientRect().height),e.remove()},GC=function(e,t){const n=m(this,dl).get(e);if(n)return n;const s=k(this,Li,ng).call(this,t);s.canvas.width=s.canvas.height=ai,k(this,Li,Wb).call(this,s,ai,e);const o=s.measureText("");let u=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);if(u){const p=u/(u+c);return m(this,dl).set(e,p),s.canvas.width=s.canvas.height=0,p}s.strokeStyle="red",s.clearRect(0,0,ai,ai),s.strokeText("g",0,0);let h=s.getImageData(0,0,ai,ai).data;c=0;for(let p=h.length-1-3;p>=0;p-=4)if(h[p]>0){c=Math.ceil(p/4/ai);break}s.clearRect(0,0,ai,ai),s.strokeText("A",0,ai),h=s.getImageData(0,0,ai,ai).data,u=0;for(let p=0,g=h.length;p<g;p+=4)if(h[p]>0){u=ai-Math.floor(p/4/ai);break}s.canvas.width=s.canvas.height=0;const d=u?u/(u+c):mM;return m(this,dl).set(e,d),d},I(Ut,Li),I(Ut,dl,new Map),I(Ut,fl,new Map),I(Ut,_f,new WeakMap),I(Ut,Wa,null),I(Ut,Au,new Set),Ut);class Hd{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function s(o){var h;if(!o)return;let u=null;const c=o.name;if(c==="#text")u=o.value;else if(Hd.shouldBuildText(c))(h=o==null?void 0:o.attributes)!=null&&h.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&t.push({str:u}),!!o.children)for(const d of o.children)s(d)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const gM=65536,vM=100,yM=5e3,bM=zn?DR:NR,xM=zn?LR:_C,wM=zn?MR:RR,SM=zn?OR:MC;function EM(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new Qb,{docId:t}=e,n=r.url?AM(r.url):null,s=r.data?TM(r.data):null,o=r.httpHeaders||null,u=r.withCredentials===!0,c=r.password??null,h=r.range instanceof VC?r.range:null,d=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:gM;let p=r.worker instanceof Jc?r.worker:null;const g=r.verbosity,b=typeof r.docBaseUrl=="string"&&!l0(r.docBaseUrl)?r.docBaseUrl:null,w=typeof r.cMapUrl=="string"?r.cMapUrl:null,S=r.cMapPacked!==!1,E=r.CMapReaderFactory||xM,D=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,A=r.StandardFontDataFactory||SM,C=r.stopAtErrors!==!0,R=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,N=r.isEvalSupported!==!1,L=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!zn,H=typeof r.isChrome=="boolean"?r.isChrome:!Wn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),F=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,U=typeof r.disableFontFace=="boolean"?r.disableFontFace:zn,q=r.fontExtraProperties===!0,te=r.enableXfa===!0,V=r.ownerDocument||globalThis.document,ee=r.disableRange===!0,Y=r.disableStream===!0,oe=r.disableAutoFetch===!0,de=r.pdfBug===!0,W=r.CanvasFactory||bM,ie=r.FilterFactory||wM,ce=r.enableHWA===!0,be=h?h.length:r.length??NaN,G=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!zn&&!U,se=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:E===_C&&A===MC&&w&&D&&vd(w,document.baseURI)&&vd(D,document.baseURI);r.canvasFactory&&bT("`canvasFactory`-instance option, please use `CanvasFactory` instead."),r.filterFactory&&bT("`filterFactory`-instance option, please use `FilterFactory` instead.");const me=null;rR(g);const ge={canvasFactory:new W({ownerDocument:V,enableHWA:ce}),filterFactory:new ie({docId:t,ownerDocument:V}),cMapReaderFactory:se?null:new E({baseUrl:w,isCompressed:S}),standardFontDataFactory:se?null:new A({baseUrl:D})};if(!p){const we={verbosity:g,port:Xr.workerPort};p=we.port?Jc.fromPort(we):new Jc(we),e._worker=p}const xe={docId:t,apiVersion:"4.8.69",data:s,password:c,disableAutoFetch:oe,rangeChunkSize:d,length:be,docBaseUrl:b,enableXfa:te,evaluatorOptions:{maxImageSize:R,disableFontFace:U,ignoreErrors:C,isEvalSupported:N,isOffscreenCanvasSupported:L,isChrome:H,canvasMaxAreaInBytes:F,fontExtraProperties:q,useSystemFonts:G,cMapUrl:se?w:null,standardFontDataUrl:se?D:null}},Me={disableFontFace:U,fontExtraProperties:q,ownerDocument:V,pdfBug:de,styleElement:me,loadingParams:{disableAutoFetch:oe,enableXfa:te}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const we=p.messageHandler.sendWithPromise("GetDocRequest",xe,s?[s.buffer]:null);let De;if(h)De=new QR(h,{disableRange:ee,disableStream:Y});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let ke;zn?ke=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&vd(n)?DT:cM:ke=vd(n)?DT:sM,De=new ke({url:n,length:be,httpHeaders:o,withCredentials:u,rangeChunkSize:d,disableRange:ee,disableStream:Y})}return we.then(ke=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const _t=new Ad(t,ke,p.port),Ke=new RM(_t,e,De,Me,ge);e._transport=Ke,_t.send("Ready",null)})}).catch(e._capability.reject),e}function AM(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(zn&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function TM(r){if(zn&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return a0(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function LT(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var Xg;const Wg=class Wg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Gn(Wg,Xg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Xg=new WeakMap,I(Wg,Xg,0);let Qb=Wg,VC=class{constructor(e,t,n=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Tt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class _M{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Xe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Qa,Dr,Zi,Xc,ig;class CM{constructor(e,t,n,s=!1){I(this,Zi);I(this,Qa,null);I(this,Dr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new yT:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new $C,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:o=!1}={}){return new ap({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Xe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=La.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:d=null,printAnnotationStorage:p=null,isEditing:g=!1}){var N,L;(N=this._stats)==null||N.time("Overall");const b=this._transport.getRenderingIntent(n,s,p,g),{renderingIntent:w,cacheKey:S}=b;O(this,Dr,!1),k(this,Zi,ig).call(this),c||(c=this._transport.getOptionalContentConfig(w));let E=this._intentStates.get(S);E||(E=Object.create(null),this._intentStates.set(S,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const D=!!(w&Ri.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(b));const A=H=>{var F;E.renderTasks.delete(C),(this._maybeCleanupAfterRender||D)&&O(this,Dr,!0),k(this,Zi,Xc).call(this,!D),H?(C.capability.reject(H),this._abortOperatorList({intentState:E,reason:H instanceof Error?H:new Error(H)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(F=globalThis.Stats)!=null&&F.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new Zb({callback:A,params:{canvasContext:e,viewport:t,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:d});(E.renderTasks||(E.renderTasks=new Set)).add(C);const R=C.task;return Promise.all([E.displayReadyCapability.promise,c]).then(([H,F])=>{var U;if(this.destroyed){A();return}if((U=this._stats)==null||U.time("Rendering"),!(F.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:H,optionalContentConfig:F}),C.operatorListChanged()}).catch(A),R}getOperatorList({intent:e="display",annotationMode:t=La.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var d;function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const u=this._transport.getRenderingIntent(e,t,n,s,!0);let c=this._intentStates.get(u.cacheKey);c||(c=Object.create(null),this._intentStates.set(u.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(u)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Hd.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,s){function o(){u.read().then(function({value:h,done:d}){if(d){n(c);return}c.lang??(c.lang=h.lang),Object.assign(c.styles,h.styles),c.items.push(...h.items),o()},s)}const u=t.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),O(this,Dr,!1),k(this,Zi,ig).call(this),Promise.all(e)}cleanup(e=!1){O(this,Dr,!0);const t=k(this,Zi,Xc).call(this,!1);return e&&t&&this._stats&&(this._stats=new yT),t}_startRenderPage(e,t){var s,o;const n=this._intentStates.get(t);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&k(this,Zi,Xc).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:s}){const{map:o,transfer:u}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:s},u).getReader(),d=this._intentStates.get(t);d.streamReader=h;const p=()=>{h.read().then(({value:g,done:b})=>{if(b){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,d),p())},g=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const b of d.renderTasks)b.operatorListChanged();k(this,Zi,Xc).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(g);else if(d.opListReadCapability)d.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof Vx){let s=vM;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new Wl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Qa=new WeakMap,Dr=new WeakMap,Zi=new WeakSet,Xc=function(e=!1){if(k(this,Zi,ig).call(this),!m(this,Dr)||this.destroyed)return!1;if(e)return O(this,Qa,setTimeout(()=>{O(this,Qa,null),k(this,Zi,Xc).call(this,!1)},yM)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),O(this,Dr,!1),!0},ig=function(){m(this,Qa)&&(clearTimeout(m(this,Qa)),O(this,Qa,null))};var Lr,Qg;class NM{constructor(){I(this,Lr,new Map);I(this,Qg,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};m(this,Qg).then(()=>{for(const[s]of m(this,Lr))s.call(this,n)})}addEventListener(e,t,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ue("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(e,t);s=()=>o.removeEventListener("abort",u),o.addEventListener("abort",u)}m(this,Lr).set(t,s)}removeEventListener(e,t){const n=m(this,Lr).get(t);n==null||n(),m(this,Lr).delete(t)}terminate(){for(const[,e]of m(this,Lr))e==null||e();m(this,Lr).clear()}}Lr=new WeakMap,Qg=new WeakMap;var Kg,pl,ml,Tu,sg,_u,rg;const Nt=class Nt{constructor({name:e=null,port:t=null,verbosity:n=aR()}={}){I(this,Tu);var s;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=m(Nt,ml))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(Nt,ml)||O(Nt,ml,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return zn?Promise.all([uo.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Ad("main","worker",e),this._messageHandler.on("ready",function(){}),k(this,Tu,sg).call(this)}_initialize(){if(m(Nt,pl)||m(Nt,_u,rg)){this._setupFakeWorker();return}let{workerSrc:e}=Nt;try{Nt._isSameOrigin(window.location.href,e)||(e=Nt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Ad("main","worker",t),s=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:o.signal}),n.on("test",c=>{if(o.abort(),this.destroyed||!c){s();return}this._messageHandler=n,this._port=t,this._webWorker=t,k(this,Tu,sg).call(this)}),n.on("ready",c=>{if(o.abort(),this.destroyed){s();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};u();return}catch{s0("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){m(Nt,pl)||(Ue("Setting up fake worker."),O(Nt,pl,!0)),Nt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new NM;this._port=t;const n=`fake${Gn(Nt,Kg)._++}`,s=new Ad(n+"_worker",n,t);e.setup(s,t),this._messageHandler=new Ad(n,n+"_worker",t),k(this,Tu,sg).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(Nt,ml))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=m(this,ml))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Nt(e)}static get workerSrc(){if(Xr.workerSrc)return Xr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Xe(this,"_setupFakeWorkerGlobal",(async()=>m(this,_u,rg)?m(this,_u,rg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Kg=new WeakMap,pl=new WeakMap,ml=new WeakMap,Tu=new WeakSet,sg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},_u=new WeakSet,rg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},I(Nt,_u),I(Nt,Kg,0),I(Nt,pl,!1),I(Nt,ml),zn&&(O(Nt,pl,!0),Xr.workerSrc||(Xr.workerSrc="./pdf.worker.mjs")),Nt._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(t,n);return n.origin===s.origin},Nt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Jc=Nt;var Or,Hs,Cu,Nu,Us,gl,Td;class RM{constructor(e,t,n,s,o){I(this,gl);I(this,Or,new Map);I(this,Hs,new Map);I(this,Cu,new Map);I(this,Nu,new Map);I(this,Us,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new $C,this.fontLoader=new _R({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Xe(this,"annotationStorage",new Wx)}getRenderingIntent(e,t=La.ENABLE,n=null,s=!1,o=!1){let u=Ri.DISPLAY,c=Fb;switch(e){case"any":u=Ri.ANY;break;case"display":break;case"print":u=Ri.PRINT;break;default:Ue(`getRenderingIntent - invalid intent: ${e}`)}const h=u&Ri.PRINT&&n instanceof EC?n:this.annotationStorage;switch(t){case La.DISABLE:u+=Ri.ANNOTATIONS_DISABLE;break;case La.ENABLE:break;case La.ENABLE_FORMS:u+=Ri.ANNOTATIONS_FORMS;break;case La.ENABLE_STORAGE:u+=Ri.ANNOTATIONS_STORAGE,c=h.serializable;break;default:Ue(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(u+=Ri.IS_EDITING),o&&(u+=Ri.OPLIST);const{ids:d,hash:p}=h.modifiedIds,g=[u,c.hash,p];return{renderingIntent:u,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=m(this,Us))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of m(this,Hs).values())e.push(s._destroy());m(this,Hs).clear(),m(this,Cu).clear(),m(this,Nu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),m(this,Or).clear(),this.filterFactory.destroy(),Yb.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Wl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,s)=>{hn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){s.close();return}hn(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:o,contentLength:u}=this._fullReader;return(!s||!o)&&(this._lastProgress&&((c=t.onProgress)==null||c.call(t,this._lastProgress)),this._fullReader.onProgress=h=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:s,isRangeSupported:o,contentLength:u}}),e.on("GetRangeReader",(n,s)=>{hn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:u,done:c}){if(c){s.close();return}hn(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{s.error(u)})},s.onCancel=u=>{o.cancel(u),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new _M(n,this))}),e.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new gb(n.message,n.code);break;case"InvalidPDFException":s=new W3(n.message);break;case"MissingPDFException":s=new Xl(n.message);break;case"UnexpectedResponseException":s=new r0(n.message,n.status);break;case"UnknownErrorException":s=new vb(n.message,n.details);break;default:Tt("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",n=>{if(O(this,Us,Promise.withResolvers()),t.onPassword){const s=o=>{o instanceof Error?m(this,Us).reject(o):m(this,Us).resolve({password:o})};try{t.onPassword(s,n.code)}catch(o){m(this,Us).reject(o)}}else m(this,Us).reject(new gb(n.message,n.code));return m(this,Us).promise}),e.on("DataLoaded",n=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;m(this,Hs).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,o])=>{var u;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:c,fontExtraProperties:h,pdfBug:d}=this._params;if("error"in o){const w=o.error;Ue(`Error during font loading: ${w}`),this.commonObjs.resolve(n,w);break}const p=d&&((u=globalThis.FontInspector)!=null&&u.enabled)?(w,S)=>globalThis.FontInspector.fontAdded(w,S):null,g=new CR(o,{disableFontFace:c,inspectFont:p});this.fontLoader.bind(g).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h&&g.data&&(g.data=null),this.commonObjs.resolve(n,g)});break;case"CopyLocalImage":const{imageRef:b}=o;hn(b,"The imageRef must be defined.");for(const w of m(this,Hs).values())for(const[,S]of w.objs)if((S==null?void 0:S.ref)===b)return S.dataLen?(this.commonObjs.resolve(n,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,o,u])=>{var h;if(this.destroyed)return;const c=m(this,Hs).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(h=u==null?void 0:u.bitmap)==null||h.close();return}switch(o){case"Image":c.objs.resolve(n,u),(u==null?void 0:u.dataLen)>tR&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=m(this,Cu).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&m(this,Nu).set(o.refStr,e);const u=new CM(t,o,this,this._params.pdfBug);return m(this,Hs).set(t,u),u});return m(this,Cu).set(t,s),s}getPageIndex(e){return LT(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return k(this,gl,Td).call(this,"GetFieldObjects")}hasJSActions(){return k(this,gl,Td).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return k(this,gl,Td).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,gl,Td).call(this,"GetOptionalContentConfig").then(t=>new WR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,Or).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(s=>{var o,u;return{info:s[0],metadata:s[1]?new YR(s[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return m(this,Or).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,Hs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,Or).clear(),this.filterFactory.destroy(!0),Yb.cleanup()}}cachedPageNumber(e){if(!LT(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,Nu).get(t)??null}}Or=new WeakMap,Hs=new WeakMap,Cu=new WeakMap,Nu=new WeakMap,Us=new WeakMap,gl=new WeakSet,Td=function(e,t=null){const n=m(this,Or).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return m(this,Or).set(e,s),s};const Lm=Symbol("INITIAL_DATA");var ms,Cf,Kb;class $C{constructor(){I(this,Cf);I(this,ms,Object.create(null))}get(e,t=null){if(t){const s=k(this,Cf,Kb).call(this,e);return s.promise.then(()=>t(s.data)),null}const n=m(this,ms)[e];if(!n||n.data===Lm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=m(this,ms)[e];return!!t&&t.data!==Lm}resolve(e,t=null){const n=k(this,Cf,Kb).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in m(this,ms)){const{data:n}=m(this,ms)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}O(this,ms,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,ms)){const{data:t}=m(this,ms)[e];t!==Lm&&(yield[e,t])}}}ms=new WeakMap,Cf=new WeakSet,Kb=function(e){var t;return(t=m(this,ms))[e]||(t[e]={...Promise.withResolvers(),data:Lm})};var Ka;class MM{constructor(e){I(this,Ka,null);O(this,Ka,e),this.onContinue=null}get promise(){return m(this,Ka).capability.promise}cancel(e=0){m(this,Ka).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,Ka).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,Ka);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ka=new WeakMap;var Za,vl;const zo=class zo{constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:o,operatorList:u,pageIndex:c,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:b=null}){I(this,Za,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=g,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new MM(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,h;if(this.cancelled)return;if(this._canvas){if(m(zo,vl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(zo,vl).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:o,background:u}=this.params;this.gfx=new Zc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),m(this,Za)&&(window.cancelAnimationFrame(m(this,Za)),O(this,Za,null)),m(zo,vl).delete(this._canvas),this.callback(e||new Vx(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?O(this,Za,window.requestAnimationFrame(()=>{O(this,Za,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(zo,vl).delete(this._canvas),this.callback())))}};Za=new WeakMap,vl=new WeakMap,I(zo,vl,new WeakSet);let Zb=zo;const DM="4.8.69",LM="3634dab10";function OT(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function cd(r){return Math.max(0,Math.min(255,255*r))}class kT{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=cd(e),[e,e,e]}static G_HTML([e]){const t=OT(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(cd)}static RGB_HTML(e){return`#${e.map(OT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,n,s]){return[cd(1-Math.min(1,e+s)),cd(1-Math.min(1,n+s)),cd(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const s=1-e,o=1-t,u=1-n,c=Math.min(s,o,u);return["CMYK",s,o,u,c]}}class OM{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Tt("Abstract method `_createSVG` called.")}}class ew extends OM{_createSVG(e){return document.createElementNS(br,e)}}class YC{static setupStorage(e,t,n,s,o){const u=s.getValue(t,{value:null});switch(n.name){case"textarea":if(u.value!==null&&(e.textContent=u.value),o==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(u.value===n.attributes.xfaOn?e.setAttribute("checked",!0):u.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",c=>{s.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&e.setAttribute("value",u.value),o==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})})}break;case"select":if(u.value!==null){e.setAttribute("value",u.value);for(const c of n.children)c.attributes.value===u.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const h=c.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:s,linkService:o}){const{attributes:u}=t,c=e instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${s}`);for(const[h,d]of Object.entries(u))if(d!=null)switch(h){case"class":d.length&&e.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!c||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,d)}c&&o.addLinkAttributes(e,u.href,u.newWindow),n&&u.dataId&&this.setupStorage(e,u.dataId,t,n)}static render(e){var g,b;const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,o=e.intent||"display",u=document.createElement(s.name);s.attributes&&this.setAttributes({html:u,element:s,intent:o,linkService:n});const c=o!=="richText",h=e.div;if(h.append(u),e.viewport){const w=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=w}c&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const w=document.createTextNode(s.value);u.append(w),c&&Hd.shouldBuildText(s.name)&&d.push(w)}return{textDivs:d}}const p=[[s,-1,u]];for(;p.length>0;){const[w,S,E]=p.at(-1);if(S+1===w.children.length){p.pop();continue}const D=w.children[++p.at(-1)[1]];if(D===null)continue;const{name:A}=D;if(A==="#text"){const R=document.createTextNode(D.value);d.push(R),E.append(R);continue}const C=(g=D==null?void 0:D.attributes)!=null&&g.xmlns?document.createElementNS(D.attributes.xmlns,A):document.createElement(A);if(E.append(C),D.attributes&&this.setAttributes({html:C,element:D,storage:t,intent:o,linkService:n}),((b=D.children)==null?void 0:b.length)>0)p.push([D,-1,C]);else if(D.value){const R=document.createTextNode(D.value);c&&Hd.shouldBuildText(A)&&d.push(R),C.append(R)}}for(const w of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const lp=1e3,kM=9,ql=new WeakSet;function Wr(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class jM{static create(e){switch(e.data.annotationType){case an.LINK:return new XC(e);case an.TEXT:return new PM(e);case an.WIDGET:switch(e.data.fieldType){case"Tx":return new IM(e);case"Btn":return e.data.radioButton?new KC(e):e.data.checkBox?new BM(e):new HM(e);case"Ch":return new UM(e);case"Sig":return new FM(e)}return new Ql(e);case an.POPUP:return new ex(e);case an.FREETEXT:return new n2(e);case an.LINE:return new qM(e);case an.SQUARE:return new GM(e);case an.CIRCLE:return new VM(e);case an.POLYLINE:return new i2(e);case an.CARET:return new YM(e);case an.INK:return new tw(e);case an.POLYGON:return new $M(e);case an.HIGHLIGHT:return new s2(e);case an.UNDERLINE:return new XM(e);case an.SQUIGGLY:return new WM(e);case an.STRIKEOUT:return new QM(e);case an.STAMP:return new r2(e);case an.FILEATTACHMENT:return new KM(e);default:return new Wt(e)}}}var yl,Ru,Mu,Nf,Jb;const bw=class bw{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){I(this,Nf);I(this,yl,null);I(this,Ru,!1);I(this,Mu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return bw._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;m(this,yl)||O(this,yl,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&k(this,Nf,Jb).call(this,t),(n=m(this,Mu))==null||n.popup.updateEdited(e)}resetEdited(){var e;m(this,yl)&&(k(this,Nf,Jb).call(this,m(this,yl).rect),(e=m(this,Mu))==null||e.popup.resetEdited(),O(this,yl,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Ql||(o.tabIndex=lp);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof ex){const{rotation:E}=t;return!t.hasOwnCanvas&&E!==0&&this.setRotation(E,o),o}const{width:c,height:h}=Wr(t.rect);if(!e&&t.borderStyle.width>0){u.borderWidth=`${t.borderStyle.width}px`;const E=t.borderStyle.horizontalCornerRadius,D=t.borderStyle.verticalCornerRadius;if(E>0||D>0){const C=`calc(${E}px * var(--scale-factor)) / calc(${D}px * var(--scale-factor))`;u.borderRadius=C}else if(this instanceof KC){const C=`calc(${c}px * var(--scale-factor)) / calc(${h}px * var(--scale-factor))`;u.borderRadius=C}switch(t.borderStyle.style){case od.SOLID:u.borderStyle="solid";break;case od.DASHED:u.borderStyle="dashed";break;case od.BEVELED:Ue("Unimplemented border style: beveled");break;case od.INSET:Ue("Unimplemented border style: inset");break;case od.UNDERLINE:u.borderBottomStyle="solid";break}const A=t.borderColor||null;A?(O(this,Ru,!0),u.borderColor=Ae.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):u.borderWidth=0}const d=Ae.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:b,pageY:w}=s.rawDims;u.left=`${100*(d[0]-b)/p}%`,u.top=`${100*(d[1]-w)/g}%`;const{rotation:S}=t;return t.hasOwnCanvas||S===0?(u.width=`${100*c/p}%`,u.height=`${100*h/g}%`):this.setRotation(S,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:o,height:u}=Wr(this.data.rect);let c,h;e%180===0?(c=100*o/n,h=100*u/s):(c=100*u/n,h=100*o/s),t.style.width=`${c}%`,t.style.height=`${h}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,s)=>{const o=s.detail[t],u=o[0],c=o.slice(1);s.target.style[n]=kT[`${u}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:kT[`${u}_rgb`](c)})};return Xe(this,"_commonActions",{display:t=>{const{display:n}=t.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const o=e[s]||n[s];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,o]of Object.entries(t)){const u=n[s];if(u){const c={detail:{[s]:o},target:e};u(c),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,o]=this.data.rect.map(E=>Math.fround(E));if(e.length===8){const[E,D,A,C]=e.subarray(2,6);if(s===E&&o===D&&t===A&&n===C)return}const{style:u}=this.container;let c;if(m(this,Ru)){const{borderColor:E,borderWidth:D}=u;u.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${D}">`],this.container.classList.add("hasBorder")}const h=s-t,d=o-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const b=p.createElement("defs");g.append(b);const w=p.createElement("clipPath"),S=`clippath_${this.data.id}`;w.setAttribute("id",S),w.setAttribute("clipPathUnits","objectBoundingBox"),b.append(w);for(let E=2,D=e.length;E<D;E+=8){const A=e[E],C=e[E+1],R=e[E+2],N=e[E+3],L=p.createElement("rect"),H=(R-t)/h,F=(o-C)/d,U=(A-R)/h,q=(C-N)/d;L.setAttribute("x",H),L.setAttribute("y",F),L.setAttribute("width",U),L.setAttribute("height",q),w.append(L),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${H}" y="${F}" width="${U}" height="${q}"/>`)}m(this,Ru)&&(c.push("</g></svg>')"),u.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:e}=this,t=O(this,Mu,new ex({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Tt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:o,id:u,exportValues:c}of s){if(o===-1||u===t)continue;const h=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${u}"]`);if(d&&!ql.has(d)){Ue(`_getElementsByName - element not allowed: ${u}`);continue}n.push({id:u,exportValue:h,domElement:d})}return n}for(const s of document.getElementsByName(e)){const{exportValue:o}=s,u=s.getAttribute("data-element-id");u!==t&&ql.has(s)&&n.push({id:u,exportValue:o,domElement:s})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};yl=new WeakMap,Ru=new WeakMap,Mu=new WeakMap,Nf=new WeakSet,Jb=function(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:c,pageY:h}}}}=this;n==null||n.splice(0,4,...e);const{width:d,height:p}=Wr(e);t.left=`${100*(e[0]-c)/o}%`,t.top=`${100*(u-e[3]+h)/u}%`,s===0?(t.width=`${100*d/o}%`,t.height=`${100*p/u}%`):this.setRotation(s)};let Wt=bw;var Di,Po,WC,QC;class XC extends Wt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});I(this,Di);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(s,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(s,t.action),o=!0):t.attachment?(k(this,Di,WC).call(this,s,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(k(this,Di,QC).call(this,s,t.setOCGState),o=!0):t.dest?(this._bindLink(s,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),o=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(s,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(s),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&k(this,Di,Po).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),k(this,Di,Po).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const u=s.get(o);u&&(t[u]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),k(this,Di,Po).call(this)}_bindResetFormAction(t,n){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),k(this,Di,Po).call(this),!this._fieldObjects){Ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var g;s==null||s();const{fields:o,refs:u,include:c}=n,h=[];if(o.length!==0||u.length!==0){const b=new Set(u);for(const w of o){const S=this._fieldObjects[w]||[];for(const{id:E}of S)b.add(E)}for(const w of Object.values(this._fieldObjects))for(const S of w)b.has(S.id)===c&&h.push(S)}else for(const b of Object.values(this._fieldObjects))h.push(...b);const d=this.annotationStorage,p=[];for(const b of h){const{id:w}=b;switch(p.push(w),b.type){case"text":{const E=b.defaultValue||"";d.setValue(w,{value:E});break}case"checkbox":case"radiobutton":{const E=b.defaultValue===b.exportValues;d.setValue(w,{value:E});break}case"combobox":case"listbox":{const E=b.defaultValue||"";d.setValue(w,{value:E});break}default:continue}const S=document.querySelector(`[data-element-id="${w}"]`);if(S){if(!ql.has(S)){Ue(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}Di=new WeakSet,Po=function(){this.container.setAttribute("data-internal-link","")},WC=function(t,n,s=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,s),!1},k(this,Di,Po).call(this)},QC=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),k(this,Di,Po).call(this)};class PM extends Wt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ql extends Wt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Wn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,o){n.includes("mouse")?e.addEventListener(n,u=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):e.addEventListener(n,u=>{var c;if(n==="blur"){if(!t.focused||!u.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(u)}}))})}_setEventListeners(e,t,n,s){var o,u,c;for(const[h,d]of n)(d==="Action"||(o=this.data.actions)!=null&&o[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,h,d,s),d==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ae.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||kM,o=e.style;let u;const c=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(d/(j1*s))||1,g=d/p;u=Math.min(s,h(g/j1))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);u=Math.min(s,h(d/j1))}o.fontSize=`calc(${u}px * var(--scale-factor))`,o.color=Ae.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class IM extends Ql{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,s){const o=this.annotationStorage;for(const u of this._getElementsByName(e.name,e.id))u.domElement&&(u.domElement[t]=n),o.setValue(u.id,{[s]:n})}render(){var s,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const u=e.getValue(t,{value:this.data.fieldValue});let c=u.value||"";const h=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;h&&c.length>h&&(c=c.slice(0,h));let d=u.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const p={userValue:c,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ql.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=lp,this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",b=>{const w=this.data.defaultFieldValue??"";n.value=p.userValue=w,p.formattedValue=null});let g=b=>{const{formattedValue:w}=p;w!=null&&(b.target.value=w),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",w=>{var E;if(p.focused)return;const{target:S}=w;p.userValue&&(S.value=p.userValue),p.lastCommittedValue=S.value,p.commitKey=1,(E=this.data.actions)!=null&&E.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const S={value(E){p.userValue=E.detail.value??"",e.setValue(t,{value:p.userValue.toString()}),E.target.value=p.userValue},formattedValue(E){const{formattedValue:D}=E.detail;p.formattedValue=D,D!=null&&E.target!==document.activeElement&&(E.target.value=D),e.setValue(t,{formattedValue:D})},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{var R;const{charLimit:D}=E.detail,{target:A}=E;if(D===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",D);let C=p.userValue;!C||C.length<=D||(C=C.slice(0,D),A.value=p.userValue=C,e.setValue(t,{value:C}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(S,w)}),n.addEventListener("keydown",w=>{var D;p.commitKey=1;let S=-1;if(w.key==="Escape"?S=0:w.key==="Enter"&&!this.data.multiLine?S=2:w.key==="Tab"&&(p.commitKey=3),S===-1)return;const{value:E}=w.target;p.lastCommittedValue!==E&&(p.lastCommittedValue=E,p.userValue=E,(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:S,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const b=g;g=null,n.addEventListener("blur",w=>{var E,D;if(!p.focused||!w.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(p.focused=!1);const{value:S}=w.target;p.userValue=S,p.lastCommittedValue!==S&&((D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:p.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),b(w)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",w=>{var L;p.lastCommittedValue=null;const{data:S,target:E}=w,{value:D,selectionStart:A,selectionEnd:C}=E;let R=A,N=C;switch(w.inputType){case"deleteWordBackward":{const H=D.substring(0,A).match(/\w*[^\w]*$/);H&&(R-=H[0].length);break}case"deleteWordForward":{const H=D.substring(A).match(/^[^\w]*\w*/);H&&(N+=H[0].length);break}case"deleteContentBackward":A===C&&(R-=1);break;case"deleteContentForward":A===C&&(N+=1);break}w.preventDefault(),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,change:S||"",willCommit:!1,selStart:R,selEnd:N}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(g&&n.addEventListener("blur",g),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${w}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class FM extends Ql{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class BM extends Ql{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ql.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=lp,o.addEventListener("change",u=>{const{name:c,checked:h}=u.target;for(const d of this._getElementsByName(c,n)){const p=h&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=p),e.setValue(d.id,{value:p})}e.setValue(n,{value:h})}),o.addEventListener("resetform",u=>{const c=t.defaultFieldValue||"Off";u.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const c={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class KC extends Ql{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const u of this._getElementsByName(t.fieldName,n))e.setValue(u.id,{value:!1});const o=document.createElement("input");if(ql.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=lp,o.addEventListener("change",u=>{const{name:c,checked:h}=u.target;for(const d of this._getElementsByName(c,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:h})}),o.addEventListener("resetform",u=>{const c=t.defaultFieldValue;u.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const u=t.buttonValue;o.addEventListener("updatefromsandbox",c=>{const h={value:d=>{const p=u===d.detail.value;for(const g of this._getElementsByName(d.target.name)){const b=p&&g.id===n;g.domElement&&(g.domElement.checked=b),e.setValue(g.id,{value:b})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class HM extends XC{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class UM extends Ql{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");ql.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=lp;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const b of s.options)b.selected=b.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),s.append(g)}let u=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),u=()=>{p.remove(),s.removeEventListener("input",u),u=null},s.addEventListener("input",u)}const c=p=>{const g=p?"value":"textContent",{options:b,multiple:w}=s;return w?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[g]):b.selectedIndex===-1?null:b[b.selectedIndex][g]};let h=c(!1);const d=p=>{const g=p.target.options;return Array.prototype.map.call(g,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const g={value(b){u==null||u();const w=b.detail.value,S=new Set(Array.isArray(w)?w:[w]);for(const E of s.options)E.selected=S.has(E.value);e.setValue(t,{value:c(!0)}),h=c(!1)},multipleSelection(b){s.multiple=!0},remove(b){const w=s.options,S=b.detail.remove;w[S].selected=!1,s.remove(S),w.length>0&&Array.prototype.findIndex.call(w,D=>D.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:c(!0),items:d(b)}),h=c(!1)},clear(b){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),h=c(!1)},insert(b){const{index:w,displayValue:S,exportValue:E}=b.detail.insert,D=s.children[w],A=document.createElement("option");A.textContent=S,A.value=E,D?D.before(A):s.append(A),e.setValue(t,{value:c(!0),items:d(b)}),h=c(!1)},items(b){const{items:w}=b.detail;for(;s.length!==0;)s.remove(0);for(const S of w){const{displayValue:E,exportValue:D}=S,A=document.createElement("option");A.textContent=E,A.value=D,s.append(A)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:c(!0),items:d(b)}),h=c(!1)},indices(b){const w=new Set(b.detail.indices);for(const S of b.target.options)S.selected=w.has(S.index);e.setValue(t,{value:c(!0)}),h=c(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(g,p)}),s.addEventListener("input",p=>{var w;const g=c(!0),b=c(!1);e.setValue(t,{value:g}),p.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:b,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class ex extends Wt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Wt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new zM({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${Gx}${n}`).join(",")),this.container}}var Du,Zg,Jg,Lu,bl,Ht,kr,Ou,Rf,Mf,ku,jr,gs,Pr,Df,Ir,Lf,xl,wl,bt,ag,tx,ZC,JC,e2,t2,og,lg,nx;class zM{constructor({container:e,color:t,elements:n,titleObj:s,modificationDate:o,contentsObj:u,richText:c,parent:h,rect:d,parentRect:p,open:g}){I(this,bt);I(this,Du,k(this,bt,e2).bind(this));I(this,Zg,k(this,bt,nx).bind(this));I(this,Jg,k(this,bt,lg).bind(this));I(this,Lu,k(this,bt,og).bind(this));I(this,bl,null);I(this,Ht,null);I(this,kr,null);I(this,Ou,null);I(this,Rf,null);I(this,Mf,null);I(this,ku,null);I(this,jr,!1);I(this,gs,null);I(this,Pr,null);I(this,Df,null);I(this,Ir,null);I(this,Lf,null);I(this,xl,null);I(this,wl,!1);var b;O(this,Ht,e),O(this,Lf,s),O(this,kr,u),O(this,Ir,c),O(this,Mf,h),O(this,bl,t),O(this,Df,d),O(this,ku,p),O(this,Rf,n),O(this,Ou,Yx.toDateObject(o)),this.trigger=n.flatMap(w=>w.getElementsToTriggerPopup());for(const w of this.trigger)w.addEventListener("click",m(this,Lu)),w.addEventListener("mouseenter",m(this,Jg)),w.addEventListener("mouseleave",m(this,Zg)),w.classList.add("popupTriggerArea");for(const w of n)(b=w.container)==null||b.addEventListener("keydown",m(this,Du));m(this,Ht).hidden=!0,g&&k(this,bt,og).call(this)}render(){if(m(this,gs))return;const e=O(this,gs,document.createElement("div"));if(e.className="popup",m(this,bl)){const o=e.style.outlineColor=Ae.makeHexColor(...m(this,bl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Ae.makeHexColor(...m(this,bl).map(c=>Math.floor(.7*(255-c)+c)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=m(this,Lf),e.append(t),m(this,Ou)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,Ou).valueOf()})),t.append(o)}const s=m(this,bt,ag);if(s)YC.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(m(this,kr));e.append(o)}m(this,Ht).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let o=0,u=s.length;o<u;++o){const c=s[o];n.append(document.createTextNode(c)),o<u-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;m(this,xl)||O(this,xl,{contentsObj:m(this,kr),richText:m(this,Ir)}),e&&O(this,Pr,null),t&&(O(this,Ir,k(this,bt,JC).call(this,t)),O(this,kr,null)),(n=m(this,gs))==null||n.remove(),O(this,gs,null)}resetEdited(){var e;m(this,xl)&&({contentsObj:Gn(this,kr)._,richText:Gn(this,Ir)._}=m(this,xl),O(this,xl,null),(e=m(this,gs))==null||e.remove(),O(this,gs,null),O(this,Pr,null))}forceHide(){O(this,wl,this.isVisible),m(this,wl)&&(m(this,Ht).hidden=!0)}maybeShow(){m(this,wl)&&(m(this,gs)||k(this,bt,lg).call(this),O(this,wl,!1),m(this,Ht).hidden=!1)}get isVisible(){return m(this,Ht).hidden===!1}}Du=new WeakMap,Zg=new WeakMap,Jg=new WeakMap,Lu=new WeakMap,bl=new WeakMap,Ht=new WeakMap,kr=new WeakMap,Ou=new WeakMap,Rf=new WeakMap,Mf=new WeakMap,ku=new WeakMap,jr=new WeakMap,gs=new WeakMap,Pr=new WeakMap,Df=new WeakMap,Ir=new WeakMap,Lf=new WeakMap,xl=new WeakMap,wl=new WeakMap,bt=new WeakSet,ag=function(){const e=m(this,Ir),t=m(this,kr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,Ir).html||null},tx=function(){var e,t,n;return((n=(t=(e=m(this,bt,ag))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},ZC=function(){var e,t,n;return((n=(t=(e=m(this,bt,ag))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},JC=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:m(this,bt,ZC),fontSize:m(this,bt,tx)?`calc(${m(this,bt,tx)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:s});return n},e2=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,jr))&&k(this,bt,og).call(this)},t2=function(){if(m(this,Pr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:o}}}=m(this,Mf);let u=!!m(this,ku),c=u?m(this,ku):m(this,Df);for(const S of m(this,Rf))if(!c||Ae.intersect(S.data.rect,c)!==null){c=S.data.rect,u=!0;break}const h=Ae.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),p=u?c[2]-c[0]+5:0,g=h[0]+p,b=h[1];O(this,Pr,[100*(g-s)/t,100*(b-o)/n]);const{style:w}=m(this,Ht);w.left=`${m(this,Pr)[0]}%`,w.top=`${m(this,Pr)[1]}%`},og=function(){O(this,jr,!m(this,jr)),m(this,jr)?(k(this,bt,lg).call(this),m(this,Ht).addEventListener("click",m(this,Lu)),m(this,Ht).addEventListener("keydown",m(this,Du))):(k(this,bt,nx).call(this),m(this,Ht).removeEventListener("click",m(this,Lu)),m(this,Ht).removeEventListener("keydown",m(this,Du)))},lg=function(){m(this,gs)||this.render(),this.isVisible?m(this,jr)&&m(this,Ht).classList.add("focused"):(k(this,bt,t2).call(this),m(this,Ht).hidden=!1,m(this,Ht).style.zIndex=parseInt(m(this,Ht).style.zIndex)+1e3)},nx=function(){m(this,Ht).classList.remove("focused"),!(m(this,jr)||!this.isVisible)&&(m(this,Ht).hidden=!0,m(this,Ht).style.zIndex=parseInt(m(this,Ht).style.zIndex)-1e3)};class n2 extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Fe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Of;class qM extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Of,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:s}=Wr(t.rect),o=this.svgFactory.create(n,s,!0),u=O(this,Of,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),u.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),u.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),u.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),u.setAttribute("stroke-width",t.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Of)}addHighlightArea(){this.container.classList.add("highlightArea")}}Of=new WeakMap;var kf;class GM extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,kf,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:s}=Wr(t.rect),o=this.svgFactory.create(n,s,!0),u=t.borderStyle.width,c=O(this,kf,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",u/2),c.setAttribute("y",u/2),c.setAttribute("width",n-u),c.setAttribute("height",s-u),c.setAttribute("stroke-width",u||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,kf)}addHighlightArea(){this.container.classList.add("highlightArea")}}kf=new WeakMap;var jf;class VM extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,jf,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:s}=Wr(t.rect),o=this.svgFactory.create(n,s,!0),u=t.borderStyle.width,c=O(this,jf,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",s/2),c.setAttribute("rx",n/2-u/2),c.setAttribute("ry",s/2-u/2),c.setAttribute("stroke-width",u||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,jf)}addHighlightArea(){this.container.classList.add("highlightArea")}}jf=new WeakMap;var Pf;class i2 extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,Pf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:s,popupRef:o}}=this;if(!n)return this.container;const{width:u,height:c}=Wr(t),h=this.svgFactory.create(u,c,!0);let d=[];for(let g=0,b=n.length;g<b;g+=2){const w=n[g]-t[0],S=t[3]-n[g+1];d.push(`${w},${S}`)}d=d.join(" ");const p=O(this,Pf,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",d),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Pf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pf=new WeakMap;class $M extends i2{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class YM extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var If;class tw extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,If,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Fe.HIGHLIGHT:Fe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:s,popupRef:o}}=this,{width:u,height:c}=Wr(t),h=this.svgFactory.create(u,c,!0);for(const d of n){let p=[];for(let b=0,w=d.length;b<w;b+=2){const S=d[b]-t[0],E=t[3]-d[b+1];p.push(`${S},${E}`)}p=p.join(" ");const g=this.svgFactory.createElement(this.svgElementName);m(this,If).push(g),g.setAttribute("points",p),g.setAttribute("stroke-width",s.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return m(this,If)}addHighlightArea(){this.container.classList.add("highlightArea")}}If=new WeakMap;class s2 extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Fe.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class XM extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class WM extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class QM extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class r2 extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Fe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ff,Bf,ix;class KM extends Wt{constructor(t){var s;super(t,{isRenderable:!0});I(this,Bf);I(this,Ff,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",k(this,Bf,ix).bind(this)),O(this,Ff,s);const{isMac:o}=Wn.platform;return t.addEventListener("keydown",u=>{u.key==="Enter"&&(o?u.metaKey:u.ctrlKey)&&k(this,Bf,ix).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return m(this,Ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ff=new WeakMap,Bf=new WeakSet,ix=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Hf,Sl,El,Uf,$l,a2,sx,Y3;let ZM=(Y3=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:s,page:o,viewport:u,structTreeLayer:c}){I(this,$l);I(this,Hf,null);I(this,Sl,null);I(this,El,new Map);I(this,Uf,null);this.div=e,O(this,Hf,t),O(this,Sl,n),O(this,Uf,c||null),this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return m(this,El).size>0}async render(e){var u;const{annotations:t}=e,n=this.div;Ul(n,this.viewport);const s=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new ew,annotationStorage:e.annotationStorage||new Wx,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const h=c.annotationType===an.POPUP;if(h){const g=s.get(c.id);if(!g)continue;o.elements=g}else{const{width:g,height:b}=Wr(c.rect);if(g<=0||b<=0)continue}o.data=c;const d=jM.create(o);if(!d.isRenderable)continue;if(!h&&c.popupRef){const g=s.get(c.popupRef);g?g.push(d):s.set(c.popupRef,[d])}const p=d.render();c.hidden&&(p.style.visibility="hidden"),await k(this,$l,a2).call(this,p,c.id),d._isEditable&&(m(this,El).set(d.data.id,d),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(d))}k(this,$l,sx).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Ul(t,{rotation:e.rotation}),k(this,$l,sx).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,El).values())}getEditableAnnotation(e){return m(this,El).get(e)}},Hf=new WeakMap,Sl=new WeakMap,El=new WeakMap,Uf=new WeakMap,$l=new WeakSet,a2=async function(e,t){var u,c;const n=e.firstChild||e,s=n.id=`${Gx}${t}`,o=await((u=m(this,Uf))==null?void 0:u.getAriaAttributes(s));if(o)for(const[h,d]of o)n.setAttribute(h,d);this.div.append(e),(c=m(this,Hf))==null||c.moveElementInDOM(this.div,e,n,!1)},sx=function(){if(!m(this,Sl))return;const e=this.div;for(const[t,n]of m(this,Sl)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):s.append(n)}m(this,Sl).clear()},Y3);const Om=/\r\n?|\n/g;var vs,Ei,zf,Al,Ai,nn,o2,l2,c2,cg,Zr,ug,hg,u2,ax,h2;const At=class At extends dt{constructor(t){super({...t,name:"freeTextEditor"});I(this,nn);I(this,vs);I(this,Ei,"");I(this,zf,`${this.id}-editor`);I(this,Al,null);I(this,Ai);O(this,vs,t.color||At._defaultColor||dt._defaultLineColor),O(this,Ai,t.fontSize||At._defaultFontSize)}static get _keyboardManager(){const t=At.prototype,n=u=>u.isEmpty(),s=zl.TRANSLATE_SMALL,o=zl.TRANSLATE_BIG;return Xe(this,"_keyboardManager",new op([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){dt.initialize(t,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Le.FREETEXT_SIZE:At._defaultFontSize=n;break;case Le.FREETEXT_COLOR:At._defaultColor=n;break}}updateParams(t,n){switch(t){case Le.FREETEXT_SIZE:k(this,nn,o2).call(this,n);break;case Le.FREETEXT_COLOR:k(this,nn,l2).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Le.FREETEXT_SIZE,At._defaultFontSize],[Le.FREETEXT_COLOR,At._defaultColor||dt._defaultLineColor]]}get propertiesToUpdate(){return[[Le.FREETEXT_SIZE,m(this,Ai)],[Le.FREETEXT_COLOR,m(this,vs)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-At._internalPadding*t,-(At._internalPadding+m(this,Ai))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Fe.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),O(this,Al,new AbortController);const t=this._uiManager.combinedSignal(m(this,Al));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,zf)),this._isDraggable=!0,(t=m(this,Al))==null||t.abort(),O(this,Al,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,Ei),n=O(this,Ei,k(this,nn,c2).call(this).trimEnd());if(t===n)return;const s=o=>{if(O(this,Ei,o),!o){this.remove();return}k(this,nn,hg).call(this),this._uiManager.rebuild(this),k(this,nn,cg).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(t)},mustExec:!1}),k(this,nn,cg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){At._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,zf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${m(this,Ai)}px * var(--scale-factor))`,s.color=m(this,vs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),_g(this,this.div,["dblclick","keydown"]),this.width){const[o,u]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[p,g]=this.pageDimensions,[b,w]=this.pageTranslation;let S,E;switch(this.rotation){case 0:S=t+(c[0]-b)/p,E=n+this.height-(c[1]-w)/g;break;case 90:S=t+(c[0]-b)/p,E=n-(c[1]-w)/g,[h,d]=[d,-h];break;case 180:S=t-this.width+(c[0]-b)/p,E=n-(c[1]-w)/g,[h,d]=[-h,-d];break;case 270:S=t+(c[0]-b-this.height*g)/p,E=n+(c[1]-w-this.width*p)/g,[h,d]=[-d,h];break}this.setAt(S*o,E*u,h,d)}else this.setAt(t*o,n*u,this.width*o,this.height*u);k(this,nn,hg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var S,E,D;const n=t.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const o=k(S=At,Zr,ax).call(S,n.getData("text")||"").replaceAll(Om,`
`);if(!o)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const c=u.getRangeAt(0);if(!o.includes(`
`)){c.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:h,startOffset:d}=c,p=[],g=[];if(h.nodeType===Node.TEXT_NODE){const A=h.parentElement;if(g.push(h.nodeValue.slice(d).replaceAll(Om,"")),A!==this.editorDiv){let C=p;for(const R of this.editorDiv.childNodes){if(R===A){C=g;continue}C.push(k(E=At,Zr,ug).call(E,R))}}p.push(h.nodeValue.slice(0,d).replaceAll(Om,""))}else if(h===this.editorDiv){let A=p,C=0;for(const R of this.editorDiv.childNodes)C++===d&&(A=g),A.push(k(D=At,Zr,ug).call(D,R))}O(this,Ei,`${p.join(`
`)}${o}${g.join(`
`)}`),k(this,nn,hg).call(this);const b=new Range;let w=p.reduce((A,C)=>A+C.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const C=A.nodeValue.length;if(w<=C){b.setStart(A,w),b.setEnd(A,w);break}w-=C}u.removeAllRanges(),u.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,s){var c;let o=null;if(t instanceof n2){const{data:{defaultAppearanceData:{fontSize:h,fontColor:d},rect:p,rotation:g,id:b,popupRef:w},textContent:S,textPosition:E,parent:{page:{pageNumber:D}}}=t;if(!S||S.length===0)return null;o=t={annotationType:Fe.FREETEXT,color:Array.from(d),fontSize:h,value:S.join(`
`),position:E,pageIndex:D-1,rect:p.slice(0),rotation:g,id:b,deleted:!1,popupRef:w}}const u=await super.deserialize(t,n,s);return O(u,Ai,t.fontSize),O(u,vs,Ae.makeHexColor(...t.color)),O(u,Ei,k(c=At,Zr,ax).call(c,t.value)),u.annotationElementId=t.id||null,u._initialData=o,u}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=At._internalPadding*this.parentScale,s=this.getRect(n,n),o=dt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,vs)),u={annotationType:Fe.FREETEXT,color:o,fontSize:m(this,Ai),value:k(this,nn,u2).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?u:this.annotationElementId&&!k(this,nn,h2).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${m(this,Ai)}px * var(--scale-factor))`,s.color=m(this,vs),n.replaceChildren();for(const u of m(this,Ei).split(`
`)){const c=document.createElement("div");c.append(u?document.createTextNode(u):document.createElement("br")),n.append(c)}const o=At._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:m(this,Ei)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};vs=new WeakMap,Ei=new WeakMap,zf=new WeakMap,Al=new WeakMap,Ai=new WeakMap,nn=new WeakSet,o2=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-m(this,Ai))*this.parentScale),O(this,Ai,o),k(this,nn,cg).call(this)},s=m(this,Ai);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},l2=function(t){const n=o=>{O(this,vs,this.editorDiv.style.color=o)},s=m(this,vs);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},c2=function(){var s;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(k(s=At,Zr,ug).call(s,o)),n=o);return t.join(`
`)},cg=function(){const[t,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:o,div:u}=this,c=u.style.display,h=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",o.div.append(this.div),s=u.getBoundingClientRect(),u.remove(),u.style.display=c,u.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/n):(this.width=s.height/t,this.height=s.width/n),this.fixAndSetPosition()},Zr=new WeakSet,ug=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Om,"")},hg=function(){if(this.editorDiv.replaceChildren(),!!m(this,Ei))for(const t of m(this,Ei).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},u2=function(){return m(this,Ei).replaceAll(" "," ")},ax=function(t){return t.replaceAll(" "," ")},h2=function(t){const{value:n,fontSize:s,color:o,pageIndex:u}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==s||t.color.some((c,h)=>c!==o[h])||t.pageIndex!==u},I(At,Zr),pe(At,"_freeTextDefaultContent",""),pe(At,"_internalPadding",0),pe(At,"_defaultColor",null),pe(At,"_defaultFontSize",10),pe(At,"_type","freetext"),pe(At,"_editorType",Fe.FREETEXT);let rx=At;class d2{toSVGPath(){Tt("Abstract method `toSVGPath` must be implemented.")}get box(){Tt("Abstract getter `box` must be implemented.")}serialize(e,t){Tt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Tt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Tt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Ti,ys,ju,Pu,zs,qe,Tl,_l,qf,Gf,Iu,Fu,Ja,Vf,e0,t0,dn,_d,f2,p2,m2,g2,v2,y2;const Er=class Er{constructor({x:e,y:t},n,s,o,u,c=0){I(this,dn);I(this,Ti);I(this,ys,[]);I(this,ju);I(this,Pu);I(this,zs,[]);I(this,qe,new Float64Array(18));I(this,Tl);I(this,_l);I(this,qf);I(this,Gf);I(this,Iu);I(this,Fu);I(this,Ja,[]);O(this,Ti,n),O(this,Fu,o*s),O(this,Pu,u),m(this,qe).set([NaN,NaN,NaN,NaN,e,t],6),O(this,ju,c),O(this,Gf,m(Er,Vf)*s),O(this,qf,m(Er,t0)*s),O(this,Iu,s),m(this,Ja).push(e,t)}isEmpty(){return isNaN(m(this,qe)[8])}add({x:e,y:t}){var q;O(this,Tl,e),O(this,_l,t);const[n,s,o,u]=m(this,Ti);let[c,h,d,p]=m(this,qe).subarray(8,12);const g=e-d,b=t-p,w=Math.hypot(g,b);if(w<m(this,qf))return!1;const S=w-m(this,Gf),E=S/w,D=E*g,A=E*b;let C=c,R=h;c=d,h=p,d+=D,p+=A,(q=m(this,Ja))==null||q.push(e,t);const N=-A/S,L=D/S,H=N*m(this,Fu),F=L*m(this,Fu);return m(this,qe).set(m(this,qe).subarray(2,8),0),m(this,qe).set([d+H,p+F],4),m(this,qe).set(m(this,qe).subarray(14,18),12),m(this,qe).set([d-H,p-F],16),isNaN(m(this,qe)[6])?(m(this,zs).length===0&&(m(this,qe).set([c+H,h+F],2),m(this,zs).push(NaN,NaN,NaN,NaN,(c+H-n)/o,(h+F-s)/u),m(this,qe).set([c-H,h-F],14),m(this,ys).push(NaN,NaN,NaN,NaN,(c-H-n)/o,(h-F-s)/u)),m(this,qe).set([C,R,c,h,d,p],6),!this.isEmpty()):(m(this,qe).set([C,R,c,h,d,p],6),Math.abs(Math.atan2(R-h,C-c)-Math.atan2(A,D))<Math.PI/2?([c,h,d,p]=m(this,qe).subarray(2,6),m(this,zs).push(NaN,NaN,NaN,NaN,((c+d)/2-n)/o,((h+p)/2-s)/u),[c,h,C,R]=m(this,qe).subarray(14,18),m(this,ys).push(NaN,NaN,NaN,NaN,((C+c)/2-n)/o,((R+h)/2-s)/u),!0):([C,R,c,h,d,p]=m(this,qe).subarray(0,6),m(this,zs).push(((C+5*c)/6-n)/o,((R+5*h)/6-s)/u,((5*c+d)/6-n)/o,((5*h+p)/6-s)/u,((c+d)/2-n)/o,((h+p)/2-s)/u),[d,p,c,h,C,R]=m(this,qe).subarray(12,18),m(this,ys).push(((C+5*c)/6-n)/o,((R+5*h)/6-s)/u,((5*c+d)/6-n)/o,((5*h+p)/6-s)/u,((c+d)/2-n)/o,((h+p)/2-s)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,zs),t=m(this,ys);if(isNaN(m(this,qe)[6])&&!this.isEmpty())return k(this,dn,f2).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);k(this,dn,m2).call(this,n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return k(this,dn,p2).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,s,o,u){return new b2(e,t,n,s,o,u)}getOutlines(){var g;const e=m(this,zs),t=m(this,ys),n=m(this,qe),[s,o,u,c]=m(this,Ti),h=new Float64Array((((g=m(this,Ja))==null?void 0:g.length)??0)+2);for(let b=0,w=h.length-2;b<w;b+=2)h[b]=(m(this,Ja)[b]-s)/u,h[b+1]=(m(this,Ja)[b+1]-o)/c;if(h[h.length-2]=(m(this,Tl)-s)/u,h[h.length-1]=(m(this,_l)-o)/c,isNaN(n[6])&&!this.isEmpty())return k(this,dn,g2).call(this,h);const d=new Float64Array(m(this,zs).length+24+m(this,ys).length);let p=e.length;for(let b=0;b<p;b+=2){if(isNaN(e[b])){d[b]=d[b+1]=NaN;continue}d[b]=e[b],d[b+1]=e[b+1]}p=k(this,dn,y2).call(this,d,p);for(let b=t.length-6;b>=6;b-=6)for(let w=0;w<6;w+=2){if(isNaN(t[b+w])){d[p]=d[p+1]=NaN,p+=2;continue}d[p]=t[b+w],d[p+1]=t[b+w+1],p+=2}return k(this,dn,v2).call(this,d,p),this.newFreeDrawOutline(d,h,m(this,Ti),m(this,Iu),m(this,ju),m(this,Pu))}};Ti=new WeakMap,ys=new WeakMap,ju=new WeakMap,Pu=new WeakMap,zs=new WeakMap,qe=new WeakMap,Tl=new WeakMap,_l=new WeakMap,qf=new WeakMap,Gf=new WeakMap,Iu=new WeakMap,Fu=new WeakMap,Ja=new WeakMap,Vf=new WeakMap,e0=new WeakMap,t0=new WeakMap,dn=new WeakSet,_d=function(){const e=m(this,qe).subarray(4,6),t=m(this,qe).subarray(16,18),[n,s,o,u]=m(this,Ti);return[(m(this,Tl)+(e[0]-t[0])/2-n)/o,(m(this,_l)+(e[1]-t[1])/2-s)/u,(m(this,Tl)+(t[0]-e[0])/2-n)/o,(m(this,_l)+(t[1]-e[1])/2-s)/u]},f2=function(){const[e,t,n,s]=m(this,Ti),[o,u,c,h]=k(this,dn,_d).call(this);return`M${(m(this,qe)[2]-e)/n} ${(m(this,qe)[3]-t)/s} L${(m(this,qe)[4]-e)/n} ${(m(this,qe)[5]-t)/s} L${o} ${u} L${c} ${h} L${(m(this,qe)[16]-e)/n} ${(m(this,qe)[17]-t)/s} L${(m(this,qe)[14]-e)/n} ${(m(this,qe)[15]-t)/s} Z`},p2=function(e){const t=m(this,ys);e.push(`L${t[4]} ${t[5]} Z`)},m2=function(e){const[t,n,s,o]=m(this,Ti),u=m(this,qe).subarray(4,6),c=m(this,qe).subarray(16,18),[h,d,p,g]=k(this,dn,_d).call(this);e.push(`L${(u[0]-t)/s} ${(u[1]-n)/o} L${h} ${d} L${p} ${g} L${(c[0]-t)/s} ${(c[1]-n)/o}`)},g2=function(e){const t=m(this,qe),[n,s,o,u]=m(this,Ti),[c,h,d,p]=k(this,dn,_d).call(this),g=new Float64Array(36);return g.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-s)/u,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-s)/u,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-s)/u,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-s)/u],0),this.newFreeDrawOutline(g,e,m(this,Ti),m(this,Iu),m(this,ju),m(this,Pu))},v2=function(e,t){const n=m(this,ys);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},y2=function(e,t){const n=m(this,qe).subarray(4,6),s=m(this,qe).subarray(16,18),[o,u,c,h]=m(this,Ti),[d,p,g,b]=k(this,dn,_d).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/c,(n[1]-u)/h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(s[0]-o)/c,(s[1]-u)/h],t),t+=24},I(Er,Vf,8),I(Er,e0,2),I(Er,t0,m(Er,Vf)+m(Er,e0));let Ng=Er;var Bu,Cl,Fr,$f,_i,Yf,$t,di,Cd,Nd,x2;class b2 extends d2{constructor(t,n,s,o,u,c){super();I(this,di);I(this,Bu);I(this,Cl,null);I(this,Fr);I(this,$f);I(this,_i);I(this,Yf);I(this,$t);O(this,$t,t),O(this,_i,n),O(this,Bu,s),O(this,Yf,o),O(this,Fr,u),O(this,$f,c),k(this,di,x2).call(this,c);const{x:h,y:d,width:p,height:g}=m(this,Cl);for(let b=0,w=t.length;b<w;b+=2)t[b]=(t[b]-h)/p,t[b+1]=(t[b+1]-d)/g;for(let b=0,w=n.length;b<w;b+=2)n[b]=(n[b]-h)/p,n[b+1]=(n[b+1]-d)/g}toSVGPath(){const t=[`M${m(this,$t)[4]} ${m(this,$t)[5]}`];for(let n=6,s=m(this,$t).length;n<s;n+=6){if(isNaN(m(this,$t)[n])){t.push(`L${m(this,$t)[n+4]} ${m(this,$t)[n+5]}`);continue}t.push(`C${m(this,$t)[n]} ${m(this,$t)[n+1]} ${m(this,$t)[n+2]} ${m(this,$t)[n+3]} ${m(this,$t)[n+4]} ${m(this,$t)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,s,o],u){const c=s-t,h=o-n;let d,p;switch(u){case 0:d=k(this,di,Cd).call(this,m(this,$t),t,o,c,-h),p=k(this,di,Cd).call(this,m(this,_i),t,o,c,-h);break;case 90:d=k(this,di,Nd).call(this,m(this,$t),t,n,c,h),p=k(this,di,Nd).call(this,m(this,_i),t,n,c,h);break;case 180:d=k(this,di,Cd).call(this,m(this,$t),s,n,-c,h),p=k(this,di,Cd).call(this,m(this,_i),s,n,-c,h);break;case 270:d=k(this,di,Nd).call(this,m(this,$t),s,o,-c,-h),p=k(this,di,Nd).call(this,m(this,_i),s,o,-c,-h);break}return{outline:Array.from(d),points:[Array.from(p)]}}get box(){return m(this,Cl)}newOutliner(t,n,s,o,u,c=0){return new Ng(t,n,s,o,u,c)}getNewOutline(t,n){const{x:s,y:o,width:u,height:c}=m(this,Cl),[h,d,p,g]=m(this,Bu),b=u*p,w=c*g,S=s*p+h,E=o*g+d,D=this.newOutliner({x:m(this,_i)[0]*b+S,y:m(this,_i)[1]*w+E},m(this,Bu),m(this,Yf),t,m(this,$f),n??m(this,Fr));for(let A=2;A<m(this,_i).length;A+=2)D.add({x:m(this,_i)[A]*b+S,y:m(this,_i)[A+1]*w+E});return D.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Bu=new WeakMap,Cl=new WeakMap,Fr=new WeakMap,$f=new WeakMap,_i=new WeakMap,Yf=new WeakMap,$t=new WeakMap,di=new WeakSet,Cd=function(t,n,s,o,u){const c=new Float64Array(t.length);for(let h=0,d=t.length;h<d;h+=2)c[h]=n+t[h]*o,c[h+1]=s+t[h+1]*u;return c},Nd=function(t,n,s,o,u){const c=new Float64Array(t.length);for(let h=0,d=t.length;h<d;h+=2)c[h]=n+t[h+1]*o,c[h+1]=s+t[h]*u;return c},x2=function(t){const n=m(this,$t);let s=n[4],o=n[5],u=s,c=o,h=s,d=o,p=s,g=o;const b=t?Math.max:Math.min;for(let A=6,C=n.length;A<C;A+=6){if(isNaN(n[A]))u=Math.min(u,n[A+4]),c=Math.min(c,n[A+5]),h=Math.max(h,n[A+4]),d=Math.max(d,n[A+5]),g<n[A+5]?(p=n[A+4],g=n[A+5]):g===n[A+5]&&(p=b(p,n[A+4]));else{const R=Ae.bezierBoundingBox(s,o,...n.slice(A,A+6));u=Math.min(u,R[0]),c=Math.min(c,R[1]),h=Math.max(h,R[2]),d=Math.max(d,R[3]),g<R[3]?(p=R[2],g=R[3]):g===R[3]&&(p=b(p,R[2]))}s=n[A+4],o=n[A+5]}const w=u-m(this,Fr),S=c-m(this,Fr),E=h-u+2*m(this,Fr),D=d-c+2*m(this,Fr);O(this,Cl,{x:w,y:S,width:E,height:D,lastPoint:[p,g]})};var Xf,eo,bs,Kn,w2,dg,S2,E2,ox;class jT{constructor(e,t=0,n=0,s=!0){I(this,Kn);I(this,Xf);I(this,eo,[]);I(this,bs,[]);let o=1/0,u=-1/0,c=1/0,h=-1/0;const d=10**-4;for(const{x:D,y:A,width:C,height:R}of e){const N=Math.floor((D-t)/d)*d,L=Math.ceil((D+C+t)/d)*d,H=Math.floor((A-t)/d)*d,F=Math.ceil((A+R+t)/d)*d,U=[N,H,F,!0],q=[L,H,F,!1];m(this,eo).push(U,q),o=Math.min(o,N),u=Math.max(u,L),c=Math.min(c,H),h=Math.max(h,F)}const p=u-o+2*n,g=h-c+2*n,b=o-n,w=c-n,S=m(this,eo).at(s?-1:-2),E=[S[0],S[2]];for(const D of m(this,eo)){const[A,C,R]=D;D[0]=(A-b)/p,D[1]=(C-w)/g,D[2]=(R-w)/g}O(this,Xf,{x:b,y:w,width:p,height:g,lastPoint:E})}getOutlines(){m(this,eo).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of m(this,eo))t[3]?(e.push(...k(this,Kn,ox).call(this,t)),k(this,Kn,S2).call(this,t)):(k(this,Kn,E2).call(this,t),e.push(...k(this,Kn,ox).call(this,t)));return k(this,Kn,w2).call(this,e)}}Xf=new WeakMap,eo=new WeakMap,bs=new WeakMap,Kn=new WeakSet,w2=function(e){const t=[],n=new Set;for(const u of e){const[c,h,d]=u;t.push([c,h,u],[c,d,u])}t.sort((u,c)=>u[1]-c[1]||u[0]-c[0]);for(let u=0,c=t.length;u<c;u+=2){const h=t[u][2],d=t[u+1][2];h.push(d),d.push(h),n.add(h),n.add(d)}const s=[];let o;for(;n.size>0;){const u=n.values().next().value;let[c,h,d,p,g]=u;n.delete(u);let b=c,w=h;for(o=[c,d],s.push(o);;){let S;if(n.has(p))S=p;else if(n.has(g))S=g;else break;n.delete(S),[c,h,d,p,g]=S,b!==c&&(o.push(b,w,c,w===h?h:d),b=c),w=w===h?d:h}o.push(b,w)}return new JM(s,m(this,Xf))},dg=function(e){const t=m(this,bs);let n=0,s=t.length-1;for(;n<=s;){const o=n+s>>1,u=t[o][0];if(u===e)return o;u<e?n=o+1:s=o-1}return s+1},S2=function([,e,t]){const n=k(this,Kn,dg).call(this,e);m(this,bs).splice(n,0,[e,t])},E2=function([,e,t]){const n=k(this,Kn,dg).call(this,e);for(let s=n;s<m(this,bs).length;s++){const[o,u]=m(this,bs)[s];if(o!==e)break;if(o===e&&u===t){m(this,bs).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[o,u]=m(this,bs)[s];if(o!==e)break;if(o===e&&u===t){m(this,bs).splice(s,1);return}}},ox=function(e){const[t,n,s]=e,o=[[t,n,s]],u=k(this,Kn,dg).call(this,s);for(let c=0;c<u;c++){const[h,d]=m(this,bs)[c];for(let p=0,g=o.length;p<g;p++){const[,b,w]=o[p];if(!(d<=b||w<=h)){if(b>=h){if(w>d)o[p][1]=d;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=h,w>d&&o.push([t,d,w])}}}return o};var Wf,Hu;class JM extends d2{constructor(t,n){super();I(this,Wf);I(this,Hu);O(this,Hu,t),O(this,Wf,n)}toSVGPath(){const t=[];for(const n of m(this,Hu)){let[s,o]=n;t.push(`M${s} ${o}`);for(let u=2;u<n.length;u+=2){const c=n[u],h=n[u+1];c===s?(t.push(`V${h}`),o=h):h===o&&(t.push(`H${c}`),s=c)}t.push("Z")}return t.join(" ")}serialize([t,n,s,o],u){const c=[],h=s-t,d=o-n;for(const p of m(this,Hu)){const g=new Array(p.length);for(let b=0;b<p.length;b+=2)g[b]=t+p[b]*h,g[b+1]=o-p[b+1]*d;c.push(g)}return c}get box(){return m(this,Wf)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Wf=new WeakMap,Hu=new WeakMap;class lx extends Ng{newFreeDrawOutline(e,t,n,s,o,u){return new eD(e,t,n,s,o,u)}get classNamesForDrawing(){return["highlight","free"]}}class eD extends b2{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,s,o,u=0){return new lx(e,t,n,s,o,u)}}var xs,Nl,Uu,cn,Qf,zu,Kf,Zf,to,ws,qu,Jf,yt,cx,ux,hx,Io,A2,Da;const oi=class oi{constructor({editor:e=null,uiManager:t=null}){I(this,yt);I(this,xs,null);I(this,Nl,null);I(this,Uu);I(this,cn,null);I(this,Qf,!1);I(this,zu,!1);I(this,Kf,null);I(this,Zf);I(this,to,null);I(this,ws,null);I(this,qu);var n;e?(O(this,zu,!1),O(this,qu,Le.HIGHLIGHT_COLOR),O(this,Kf,e)):(O(this,zu,!0),O(this,qu,Le.HIGHLIGHT_DEFAULT_COLOR)),O(this,ws,(e==null?void 0:e._uiManager)||t),O(this,Zf,m(this,ws)._eventBus),O(this,Uu,(e==null?void 0:e.color)||((n=m(this,ws))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),m(oi,Jf)||O(oi,Jf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Xe(this,"_keyboardManager",new op([[["Escape","mac+Escape"],oi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],oi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],oi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],oi.prototype._moveToPrevious],[["Home","mac+Home"],oi.prototype._moveToBeginning],[["End","mac+End"],oi.prototype._moveToEnd]]))}renderButton(){const e=O(this,xs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,ws)._signal;e.addEventListener("click",k(this,yt,Io).bind(this),{signal:t}),e.addEventListener("keydown",k(this,yt,hx).bind(this),{signal:t});const n=O(this,Nl,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=m(this,Uu),e.append(n),e}renderMainDropdown(){const e=O(this,cn,k(this,yt,cx).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,xs)){k(this,yt,Io).call(this,e);return}const t=e.target.getAttribute("data-color");t&&k(this,yt,ux).call(this,t,e)}_moveToNext(e){var t,n;if(!m(this,yt,Da)){k(this,yt,Io).call(this,e);return}if(e.target===m(this,xs)){(t=m(this,cn).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=m(this,cn))==null?void 0:t.firstChild)||e.target===m(this,xs)){m(this,yt,Da)&&this._hideDropdownFromKeyboard();return}m(this,yt,Da)||k(this,yt,Io).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!m(this,yt,Da)){k(this,yt,Io).call(this,e);return}(t=m(this,cn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,yt,Da)){k(this,yt,Io).call(this,e);return}(t=m(this,cn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=m(this,cn))==null||e.classList.add("hidden"),(t=m(this,to))==null||t.abort(),O(this,to,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,zu)){if(!m(this,yt,Da)){(e=m(this,Kf))==null||e.unselect();return}this.hideDropdown(),m(this,xs).focus({preventScroll:!0,focusVisible:m(this,Qf)})}}updateColor(e){if(m(this,Nl)&&(m(this,Nl).style.backgroundColor=e),!m(this,cn))return;const t=m(this,ws).highlightColors.values();for(const n of m(this,cn).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,xs))==null||e.remove(),O(this,xs,null),O(this,Nl,null),(t=m(this,cn))==null||t.remove(),O(this,cn,null)}};xs=new WeakMap,Nl=new WeakMap,Uu=new WeakMap,cn=new WeakMap,Qf=new WeakMap,zu=new WeakMap,Kf=new WeakMap,Zf=new WeakMap,to=new WeakMap,ws=new WeakMap,qu=new WeakMap,Jf=new WeakMap,yt=new WeakSet,cx=function(){const e=document.createElement("div"),t=m(this,ws)._signal;e.addEventListener("contextmenu",ts,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of m(this,ws).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=n,o.setAttribute("data-l10n-id",m(oi,Jf)[n]);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=s,o.setAttribute("aria-selected",s===m(this,Uu)),o.addEventListener("click",k(this,yt,ux).bind(this,s),{signal:t}),e.append(o)}return e.addEventListener("keydown",k(this,yt,hx).bind(this),{signal:t}),e},ux=function(e,t){t.stopPropagation(),m(this,Zf).dispatch("switchannotationeditorparams",{source:this,type:m(this,qu),value:e})},hx=function(e){oi._keyboardManager.exec(this,e)},Io=function(e){if(m(this,yt,Da)){this.hideDropdown();return}if(O(this,Qf,e.detail===0),m(this,to)||(O(this,to,new AbortController),window.addEventListener("pointerdown",k(this,yt,A2).bind(this),{signal:m(this,ws).combinedSignal(m(this,to))})),m(this,cn)){m(this,cn).classList.remove("hidden");return}const t=O(this,cn,k(this,yt,cx).call(this));m(this,xs).append(t)},A2=function(e){var t;(t=m(this,cn))!=null&&t.contains(e.target)||this.hideDropdown()},Da=function(){return m(this,cn)&&!m(this,cn).classList.contains("hidden")},I(oi,Jf,null);let Rg=oi;var Gu,ep,Br,Rl,Vu,Wi,tp,np,Ml,Ss,Bn,ui,$u,Hr,un,Yu,Qi,ip,Pe,dx,fg,T2,_2,C2,fx,Fo,Ji,Wc,N2,pg,Rd,R2,M2,D2,L2,O2;const Je=class Je extends dt{constructor(t){super({...t,name:"highlightEditor"});I(this,Pe);I(this,Gu,null);I(this,ep,0);I(this,Br);I(this,Rl,null);I(this,Vu,null);I(this,Wi,null);I(this,tp,null);I(this,np,0);I(this,Ml,null);I(this,Ss,null);I(this,Bn,null);I(this,ui,!1);I(this,$u,null);I(this,Hr);I(this,un,null);I(this,Yu,"");I(this,Qi);I(this,ip,"");this.color=t.color||Je._defaultColor,O(this,Qi,t.thickness||Je._defaultThickness),O(this,Hr,t.opacity||Je._defaultOpacity),O(this,Br,t.boxes||null),O(this,ip,t.methodOfCreation||""),O(this,Yu,t.text||""),this._isDraggable=!1,t.highlightId>-1?(O(this,ui,!0),k(this,Pe,fg).call(this,t),k(this,Pe,Fo).call(this)):m(this,Br)&&(O(this,Gu,t.anchorNode),O(this,ep,t.anchorOffset),O(this,tp,t.focusNode),O(this,np,t.focusOffset),k(this,Pe,dx).call(this),k(this,Pe,Fo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Je.prototype;return Xe(this,"_keyboardManager",new op([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,ui)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,Qi),methodOfCreation:m(this,ip)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var s;dt.initialize(t,n),Je._defaultColor||(Je._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Le.HIGHLIGHT_DEFAULT_COLOR:Je._defaultColor=n;break;case Le.HIGHLIGHT_THICKNESS:Je._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return m(this,$u)}updateParams(t,n){switch(t){case Le.HIGHLIGHT_COLOR:k(this,Pe,T2).call(this,n);break;case Le.HIGHLIGHT_THICKNESS:k(this,Pe,_2).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Le.HIGHLIGHT_DEFAULT_COLOR,Je._defaultColor],[Le.HIGHLIGHT_THICKNESS,Je._defaultThickness]]}get propertiesToUpdate(){return[[Le.HIGHLIGHT_COLOR,this.color||Je._defaultColor],[Le.HIGHLIGHT_THICKNESS,m(this,Qi)||Je._defaultThickness],[Le.HIGHLIGHT_FREE,m(this,ui)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(O(this,Vu,new Rg({editor:this})),t.addColorPicker(m(this,Vu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,Pe,Rd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,k(this,Pe,Rd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){k(this,Pe,fx).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Pe,Fo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?k(this,Pe,fx).call(this):t&&(k(this,Pe,Fo).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,u,c;const{drawLayer:n}=this.parent;let s;m(this,ui)?(t=(t-this.rotation+360)%360,s=k(o=Je,Ji,Wc).call(o,m(this,Ss).box,t)):s=k(u=Je,Ji,Wc).call(u,this,t),n.rotate(m(this,Bn),t),n.rotate(m(this,un),t),n.updateBox(m(this,Bn),s),n.updateBox(m(this,un),k(c=Je,Ji,Wc).call(c,m(this,Wi).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,Yu)&&(t.setAttribute("aria-label",m(this,Yu)),t.setAttribute("role","mark")),m(this,ui)?t.classList.add("free"):this.div.addEventListener("keydown",k(this,Pe,N2).bind(this),{signal:this._uiManager._signal});const n=O(this,Ml,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=m(this,Rl);const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),_g(this,m(this,Ml),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(m(this,un),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(m(this,un),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:k(this,Pe,pg).call(this,!0);break;case 1:case 3:k(this,Pe,pg).call(this,!1);break}}select(){var t,n;super.select(),m(this,un)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,un),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(m(this,un),"selected"))}unselect(){var t;super.unselect(),m(this,un)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,un),"selected"),m(this,ui)||k(this,Pe,pg).call(this,!1))}get _mustFixPosition(){return!m(this,ui)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,Bn),t),this.parent.drawLayer.show(m(this,un),t))}static startHighlighting(t,n,{target:s,x:o,y:u}){const{x:c,y:h,width:d,height:p}=s.getBoundingClientRect(),g=new AbortController,b=t.combinedSignal(g),w=E=>{E.preventDefault(),E.stopPropagation()},S=E=>{g.abort(),k(this,Ji,L2).call(this,t,E)};window.addEventListener("blur",S,{signal:b}),window.addEventListener("pointerup",S,{signal:b}),window.addEventListener("pointerdown",w,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",ts,{signal:b}),s.addEventListener("pointermove",k(this,Ji,D2).bind(this,t),{signal:b}),this._freeHighlight=new lx({x:o,y:u},[c,h,d,p],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,s){var E,D,A,C;let o=null;if(t instanceof s2){const{data:{quadPoints:R,rect:N,rotation:L,id:H,color:F,opacity:U,popupRef:q},parent:{page:{pageNumber:te}}}=t;o=t={annotationType:Fe.HIGHLIGHT,color:Array.from(F),opacity:U,quadPoints:R,boxes:null,pageIndex:te-1,rect:N.slice(0),rotation:L,id:H,deleted:!1,popupRef:q}}else if(t instanceof tw){const{data:{inkLists:R,rect:N,rotation:L,id:H,color:F,borderStyle:{rawWidth:U},popupRef:q},parent:{page:{pageNumber:te}}}=t;o=t={annotationType:Fe.HIGHLIGHT,color:Array.from(F),thickness:U,inkLists:R,boxes:null,pageIndex:te-1,rect:N.slice(0),rotation:L,id:H,deleted:!1,popupRef:q}}const{color:u,quadPoints:c,inkLists:h,opacity:d}=t,p=await super.deserialize(t,n,s);p.color=Ae.makeHexColor(...u),O(p,Hr,d||1),h&&O(p,Qi,t.thickness),p.annotationElementId=t.id||null,p._initialData=o;const[g,b]=p.pageDimensions,[w,S]=p.pageTranslation;if(c){const R=O(p,Br,[]);for(let N=0;N<c.length;N+=8)R.push({x:(c[N]-w)/g,y:1-(c[N+1]-S)/b,width:(c[N+2]-c[N])/g,height:(c[N+1]-c[N+5])/b});k(E=p,Pe,dx).call(E),k(D=p,Pe,Fo).call(D),p.rotate(p.rotation)}else if(h){O(p,ui,!0);const R=h[0],N={x:R[0]-w,y:b-(R[1]-S)},L=new lx(N,[0,0,g,b],1,m(p,Qi)/2,!0,.001);for(let U=0,q=R.length;U<q;U+=2)N.x=R[U]-w,N.y=b-(R[U+1]-S),L.add(N);const{id:H,clipPathId:F}=n.drawLayer.draw(L,p.color,p._defaultOpacity,!0);k(A=p,Pe,fg).call(A,{highlightOutlines:L.getOutlines(),highlightId:H,clipPathId:F}),k(C=p,Pe,Fo).call(C)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=dt._colorManager.convert(this.color),o={annotationType:Fe.HIGHLIGHT,color:s,opacity:m(this,Hr),thickness:m(this,Qi),quadPoints:k(this,Pe,R2).call(this),outlines:k(this,Pe,M2).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:k(this,Pe,Rd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!k(this,Pe,O2).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Gu=new WeakMap,ep=new WeakMap,Br=new WeakMap,Rl=new WeakMap,Vu=new WeakMap,Wi=new WeakMap,tp=new WeakMap,np=new WeakMap,Ml=new WeakMap,Ss=new WeakMap,Bn=new WeakMap,ui=new WeakMap,$u=new WeakMap,Hr=new WeakMap,un=new WeakMap,Yu=new WeakMap,Qi=new WeakMap,ip=new WeakMap,Pe=new WeakSet,dx=function(){const t=new jT(m(this,Br),.001);O(this,Ss,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,Ss).box;const n=new jT(m(this,Br),.0025,.001,this._uiManager.direction==="ltr");O(this,Wi,n.getOutlines());const{lastPoint:s}=m(this,Wi).box;O(this,$u,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},fg=function({highlightOutlines:t,highlightId:n,clipPathId:s}){var g,b;if(O(this,Ss,t),O(this,Wi,t.getNewOutline(m(this,Qi)/2+1.5,.0025)),n>=0)O(this,Bn,n),O(this,Rl,s),this.parent.drawLayer.finalizeLine(n,t),O(this,un,this.parent.drawLayer.drawOutline(m(this,Wi)));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,Bn),t),this.parent.drawLayer.updateBox(m(this,Bn),k(g=Je,Ji,Wc).call(g,m(this,Ss).box,(w-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,un),m(this,Wi)),this.parent.drawLayer.updateBox(m(this,un),k(b=Je,Ji,Wc).call(b,m(this,Wi).box,w))}const{x:u,y:c,width:h,height:d}=t.box;switch(this.rotation){case 0:this.x=u,this.y=c,this.width=h,this.height=d;break;case 90:{const[w,S]=this.parentDimensions;this.x=c,this.y=1-u,this.width=h*S/w,this.height=d*w/S;break}case 180:this.x=1-u,this.y=1-c,this.width=h,this.height=d;break;case 270:{const[w,S]=this.parentDimensions;this.x=1-c,this.y=u,this.width=h*S/w,this.height=d*w/S;break}}const{lastPoint:p}=m(this,Wi).box;O(this,$u,[(p[0]-u)/h,(p[1]-c)/d])},T2=function(t){const n=(u,c)=>{var h,d,p;this.color=u,(h=this.parent)==null||h.drawLayer.changeColor(m(this,Bn),u),(d=m(this,Vu))==null||d.updateColor(u),O(this,Hr,c),(p=this.parent)==null||p.drawLayer.changeOpacity(m(this,Bn),c)},s=this.color,o=m(this,Hr);this.addCommands({cmd:n.bind(this,t,Je._defaultOpacity),undo:n.bind(this,s,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},_2=function(t){const n=m(this,Qi),s=o=>{O(this,Qi,o),k(this,Pe,C2).call(this,o)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},C2=function(t){if(!m(this,ui))return;k(this,Pe,fg).call(this,{highlightOutlines:m(this,Ss).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},fx=function(){m(this,Bn)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Bn)),O(this,Bn,null),this.parent.drawLayer.remove(m(this,un)),O(this,un,null))},Fo=function(t=this.parent){m(this,Bn)===null&&({id:Gn(this,Bn)._,clipPathId:Gn(this,Rl)._}=t.drawLayer.draw(m(this,Ss),this.color,m(this,Hr)),O(this,un,t.drawLayer.drawOutline(m(this,Wi))),m(this,Ml)&&(m(this,Ml).style.clipPath=m(this,Rl)))},Ji=new WeakSet,Wc=function({x:t,y:n,width:s,height:o},u){switch(u){case 90:return{x:1-n-o,y:t,width:o,height:s};case 180:return{x:1-t-s,y:1-n-o,width:s,height:o};case 270:return{x:n,y:1-t-s,width:o,height:s}}return{x:t,y:n,width:s,height:o}},N2=function(t){Je._keyboardManager.exec(this,t)},pg=function(t){if(!m(this,Gu))return;const n=window.getSelection();t?n.setPosition(m(this,Gu),m(this,ep)):n.setPosition(m(this,tp),m(this,np))},Rd=function(){return m(this,ui)?this.rotation:0},R2=function(){if(m(this,ui))return null;const[t,n]=this.pageDimensions,[s,o]=this.pageTranslation,u=m(this,Br),c=new Float32Array(u.length*8);let h=0;for(const{x:d,y:p,width:g,height:b}of u){const w=d*t+s,S=(1-p-b)*n+o;c[h]=c[h+4]=w,c[h+1]=c[h+3]=S,c[h+2]=c[h+6]=w+g*t,c[h+5]=c[h+7]=S+b*n,h+=8}return c},M2=function(t){return m(this,Ss).serialize(t,k(this,Pe,Rd).call(this))},D2=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},L2=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},O2=function(t){const{color:n}=this._initialData;return t.color.some((s,o)=>s!==n[o])},I(Je,Ji),pe(Je,"_defaultColor",null),pe(Je,"_defaultOpacity",1),pe(Je,"_defaultThickness",12),pe(Je,"_type","highlight"),pe(Je,"_editorType",Fe.HIGHLIGHT),pe(Je,"_freeHighlightId",-1),pe(Je,"_freeHighlight",null),pe(Je,"_freeHighlightClipId","");let Mg=Je;var Dl,Ll,qs,Ur,Ki,Ol,kl,jl,zr,Xu,Pl,Il,no,ve,k2,j2,P2,I2,mx,F2,gx,B2,H2,U2,z2,q2,Bo,vx,yx,bx,mg,gg,Qc,xx,vg,ia,G2,wx,V2,$2,Sx,yg,Md;const Dt=class Dt extends dt{constructor(t){super({...t,name:"inkEditor"});I(this,ve);I(this,Dl,0);I(this,Ll,0);I(this,qs,null);I(this,Ur,new Path2D);I(this,Ki,!1);I(this,Ol,null);I(this,kl,!1);I(this,jl,!1);I(this,zr,null);I(this,Xu,null);I(this,Pl,0);I(this,Il,0);I(this,no,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){dt.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Le.INK_THICKNESS:Dt._defaultThickness=n;break;case Le.INK_COLOR:Dt._defaultColor=n;break;case Le.INK_OPACITY:Dt._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Le.INK_THICKNESS:k(this,ve,k2).call(this,n);break;case Le.INK_COLOR:k(this,ve,j2).call(this,n);break;case Le.INK_OPACITY:k(this,ve,P2).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Le.INK_THICKNESS,Dt._defaultThickness],[Le.INK_COLOR,Dt._defaultColor||dt._defaultLineColor],[Le.INK_OPACITY,Math.round(Dt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Le.INK_THICKNESS,this.thickness||Dt._defaultThickness],[Le.INK_COLOR,this.color||Dt._defaultColor||dt._defaultLineColor],[Le.INK_OPACITY,Math.round(100*(this.opacity??Dt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(k(this,ve,mg).call(this),k(this,ve,gg).call(this)),this.isAttachedToDOM||(this.parent.add(this),k(this,ve,Qc).call(this)),k(this,ve,Md).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,qs)&&(clearTimeout(m(this,qs)),O(this,qs,null)),(t=m(this,zr))==null||t.disconnect(),O(this,zr,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,s=this.width*t,o=this.height*n;this.setDimensions(s,o)}enableEditMode(){m(this,Ki)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,k(this,ve,vx).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),k(this,ve,yx).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,Ki)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),O(this,Ki,!0),this.div.classList.add("disabled"),k(this,ve,Md).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,Ki)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),k(this,ve,F2).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),k(this,ve,gx).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),k(this,ve,bx).call(this,t)}canvasPointerleave(t){k(this,ve,bx).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,Ki)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,o,u,c]=k(this,ve,I2).call(this);if(this.setAt(s,o,0,0),this.setDims(u,c),k(this,ve,mg).call(this),this.width){const[h,d]=this.parentDimensions;this.setAspectRatio(this.width*h,this.height*d),this.setAt(t*h,n*d,this.width*h,this.height*d),O(this,jl,!0),k(this,ve,Qc).call(this),this.setDims(this.width*h,this.height*d),k(this,ve,Bo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return k(this,ve,gg).call(this),this.div}setDimensions(t,n){const s=Math.round(t),o=Math.round(n);if(m(this,Pl)===s&&m(this,Il)===o)return;O(this,Pl,s),O(this,Il,o),this.canvas.style.visibility="hidden";const[u,c]=this.parentDimensions;this.width=t/u,this.height=n/c,this.fixAndSetPosition(),m(this,Ki)&&k(this,ve,xx).call(this,t,n),k(this,ve,Qc).call(this),k(this,ve,Bo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,s){var D,A,C;if(t instanceof tw)return null;const o=await super.deserialize(t,n,s);o.thickness=t.thickness,o.color=Ae.makeHexColor(...t.color),o.opacity=t.opacity;const[u,c]=o.pageDimensions,h=o.width*u,d=o.height*c,p=o.parentScale,g=t.thickness/2;O(o,Ki,!0),O(o,Pl,Math.round(h)),O(o,Il,Math.round(d));const{paths:b,rect:w,rotation:S}=t;for(let{bezier:R}of b){R=k(D=Dt,ia,V2).call(D,R,w,S);const N=[];o.paths.push(N);let L=p*(R[0]-g),H=p*(R[1]-g);for(let U=2,q=R.length;U<q;U+=6){const te=p*(R[U]-g),V=p*(R[U+1]-g),ee=p*(R[U+2]-g),Y=p*(R[U+3]-g),oe=p*(R[U+4]-g),de=p*(R[U+5]-g);N.push([[L,H],[te,V],[ee,Y],[oe,de]]),L=oe,H=de}const F=k(this,ia,G2).call(this,N);o.bezierPath2D.push(F)}const E=k(A=o,ve,Sx).call(A);return O(o,Ll,Math.max(dt.MIN_SIZE,E[2]-E[0])),O(o,Dl,Math.max(dt.MIN_SIZE,E[3]-E[1])),k(C=o,ve,xx).call(C,h,d),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=dt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Fe.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:k(this,ve,$2).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Dl=new WeakMap,Ll=new WeakMap,qs=new WeakMap,Ur=new WeakMap,Ki=new WeakMap,Ol=new WeakMap,kl=new WeakMap,jl=new WeakMap,zr=new WeakMap,Xu=new WeakMap,Pl=new WeakMap,Il=new WeakMap,no=new WeakMap,ve=new WeakSet,k2=function(t){const n=o=>{this.thickness=o,k(this,ve,Md).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},j2=function(t){const n=o=>{this.color=o,k(this,ve,Bo).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},P2=function(t){const n=o=>{this.opacity=o,k(this,ve,Bo).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},I2=function(){const{parentRotation:t,parentDimensions:[n,s]}=this;switch(t){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},mx=function(){const{ctx:t,color:n,opacity:s,thickness:o,parentScale:u,scaleFactor:c}=this;t.lineWidth=o*u/c,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${SR(s)}`},F2=function(t,n){this.canvas.addEventListener("contextmenu",ts,{signal:this._uiManager._signal}),k(this,ve,yx).call(this),O(this,Ol,new AbortController);const s=this._uiManager.combinedSignal(m(this,Ol));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,m(this,jl)||(O(this,jl,!0),k(this,ve,Qc).call(this),this.thickness||(this.thickness=Dt._defaultThickness),this.color||(this.color=Dt._defaultColor||dt._defaultLineColor),this.opacity??(this.opacity=Dt._defaultOpacity)),this.currentPath.push([t,n]),O(this,kl,!1),k(this,ve,mx).call(this),O(this,no,()=>{k(this,ve,U2).call(this),m(this,no)&&window.requestAnimationFrame(m(this,no))}),window.requestAnimationFrame(m(this,no))},gx=function(t,n){const[s,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&n===o)return;const u=this.currentPath;let c=m(this,Ur);if(u.push([t,n]),O(this,kl,!0),u.length<=2){c.moveTo(...u[0]),c.lineTo(t,n);return}u.length===3&&(O(this,Ur,c=new Path2D),c.moveTo(...u[0])),k(this,ve,z2).call(this,c,...u.at(-3),...u.at(-2),t,n)},B2=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,Ur).lineTo(...t)},H2=function(t,n){O(this,no,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),k(this,ve,gx).call(this,t,n),k(this,ve,B2).call(this);let s;if(this.currentPath.length!==1)s=k(this,ve,q2).call(this);else{const d=[t,n];s=[[d,d.slice(),d.slice(),d]]}const o=m(this,Ur),u=this.currentPath;this.currentPath=[],O(this,Ur,new Path2D);const c=()=>{this.allRawPaths.push(u),this.paths.push(s),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},h=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(k(this,ve,mg).call(this),k(this,ve,gg).call(this)),k(this,ve,Md).call(this))};this.addCommands({cmd:c,undo:h,mustExec:!0})},U2=function(){if(!m(this,kl))return;O(this,kl,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(c=>c[0]),o=n.map(c=>c[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)u.stroke(c);u.stroke(m(this,Ur)),u.restore()},z2=function(t,n,s,o,u,c,h){const d=(n+o)/2,p=(s+u)/2,g=(o+c)/2,b=(u+h)/2;t.bezierCurveTo(d+2*(o-d)/3,p+2*(u-p)/3,g+2*(o-g)/3,b+2*(u-b)/3,g,b)},q2=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let s,[o,u]=t[0];for(s=1;s<t.length-2;s++){const[w,S]=t[s],[E,D]=t[s+1],A=(w+E)/2,C=(S+D)/2,R=[o+2*(w-o)/3,u+2*(S-u)/3],N=[A+2*(w-A)/3,C+2*(S-C)/3];n.push([[o,u],R,N,[A,C]]),[o,u]=[A,C]}const[c,h]=t[s],[d,p]=t[s+1],g=[o+2*(c-o)/3,u+2*(h-u)/3],b=[d+2*(c-d)/3,p+2*(h-p)/3];return n.push([[o,u],g,b,[d,p]]),n},Bo=function(){if(this.isEmpty()){k(this,ve,vg).call(this);return}k(this,ve,mx).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),k(this,ve,vg).call(this);for(const s of this.bezierPath2D)n.stroke(s)},vx=function(){if(m(this,Xu))return;O(this,Xu,new AbortController);const t=this._uiManager.combinedSignal(m(this,Xu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},yx=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},bx=function(t){var n;(n=m(this,Ol))==null||n.abort(),O(this,Ol,null),k(this,ve,vx).call(this),m(this,qs)&&clearTimeout(m(this,qs)),O(this,qs,setTimeout(()=>{O(this,qs,null),this.canvas.removeEventListener("contextmenu",ts)},10)),k(this,ve,H2).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},mg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},gg=function(){O(this,zr,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),m(this,zr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,zr))==null||t.disconnect(),O(this,zr,null)},{once:!0})},Qc=function(){if(!m(this,jl))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),k(this,ve,vg).call(this)},xx=function(t,n){const s=k(this,ve,yg).call(this),o=(t-s)/m(this,Ll),u=(n-s)/m(this,Dl);this.scaleFactor=Math.min(o,u)},vg=function(){const t=k(this,ve,yg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},ia=new WeakSet,G2=function(t){const n=new Path2D;for(let s=0,o=t.length;s<o;s++){const[u,c,h,d]=t[s];s===0&&n.moveTo(...u),n.bezierCurveTo(c[0],c[1],h[0],h[1],d[0],d[1])}return n},wx=function(t,n,s){const[o,u,c,h]=n;switch(s){case 0:for(let d=0,p=t.length;d<p;d+=2)t[d]+=o,t[d+1]=h-t[d+1];break;case 90:for(let d=0,p=t.length;d<p;d+=2){const g=t[d];t[d]=t[d+1]+o,t[d+1]=g+u}break;case 180:for(let d=0,p=t.length;d<p;d+=2)t[d]=c-t[d],t[d+1]+=u;break;case 270:for(let d=0,p=t.length;d<p;d+=2){const g=t[d];t[d]=c-t[d+1],t[d+1]=h-g}break;default:throw new Error("Invalid rotation")}return t},V2=function(t,n,s){const[o,u,c,h]=n;switch(s){case 0:for(let d=0,p=t.length;d<p;d+=2)t[d]-=o,t[d+1]=h-t[d+1];break;case 90:for(let d=0,p=t.length;d<p;d+=2){const g=t[d];t[d]=t[d+1]-u,t[d+1]=g-o}break;case 180:for(let d=0,p=t.length;d<p;d+=2)t[d]=c-t[d],t[d+1]-=u;break;case 270:for(let d=0,p=t.length;d<p;d+=2){const g=t[d];t[d]=h-t[d+1],t[d+1]=c-g}break;default:throw new Error("Invalid rotation")}return t},$2=function(t,n,s,o){var p,g;const u=[],c=this.thickness/2,h=t*n+c,d=t*s+c;for(const b of this.paths){const w=[],S=[];for(let E=0,D=b.length;E<D;E++){const[A,C,R,N]=b[E];if(A[0]===N[0]&&A[1]===N[1]&&D===1){const Y=t*A[0]+h,oe=t*A[1]+d;w.push(Y,oe),S.push(Y,oe);break}const L=t*A[0]+h,H=t*A[1]+d,F=t*C[0]+h,U=t*C[1]+d,q=t*R[0]+h,te=t*R[1]+d,V=t*N[0]+h,ee=t*N[1]+d;E===0&&(w.push(L,H),S.push(L,H)),w.push(F,U,q,te,V,ee),S.push(F,U),E===D-1&&S.push(V,ee)}u.push({bezier:k(p=Dt,ia,wx).call(p,w,o,this.rotation),points:k(g=Dt,ia,wx).call(g,S,o,this.rotation)})}return u},Sx=function(){let t=1/0,n=-1/0,s=1/0,o=-1/0;for(const u of this.paths)for(const[c,h,d,p]of u){const g=Ae.bezierBoundingBox(...c,...h,...d,...p);t=Math.min(t,g[0]),s=Math.min(s,g[1]),n=Math.max(n,g[2]),o=Math.max(o,g[3])}return[t,s,n,o]},yg=function(){return m(this,Ki)?Math.ceil(this.thickness*this.parentScale):0},Md=function(t=!1){if(this.isEmpty())return;if(!m(this,Ki)){k(this,ve,Bo).call(this);return}const n=k(this,ve,Sx).call(this),s=k(this,ve,yg).call(this);O(this,Ll,Math.max(dt.MIN_SIZE,n[2]-n[0])),O(this,Dl,Math.max(dt.MIN_SIZE,n[3]-n[1]));const o=Math.ceil(s+m(this,Ll)*this.scaleFactor),u=Math.ceil(s+m(this,Dl)*this.scaleFactor),[c,h]=this.parentDimensions;this.width=o/c,this.height=u/h,this.setAspectRatio(o,u);const d=this.translationX,p=this.translationY;this.translationX=-n[0],this.translationY=-n[1],k(this,ve,Qc).call(this),k(this,ve,Bo).call(this),O(this,Pl,o),O(this,Il,u),this.setDims(o,u);const g=t?s/this.scaleFactor/2:0;this.translate(d-this.translationX-g,p-this.translationY-g)},I(Dt,ia),pe(Dt,"_defaultColor",null),pe(Dt,"_defaultOpacity",1),pe(Dt,"_defaultThickness",1),pe(Dt,"_type","ink"),pe(Dt,"_editorType",Fe.INK);let px=Dt;var Ot,Rn,io,qr,so,Wu,Gs,Gr,Vs,Ci,Qu,Ye,Dd,Ld,bg,Ax,Y2,xg,Tx,wg,X2,W2;const Bd=class Bd extends dt{constructor(t){super({...t,name:"stampEditor"});I(this,Ye);I(this,Ot,null);I(this,Rn,null);I(this,io,null);I(this,qr,null);I(this,so,null);I(this,Wu,"");I(this,Gs,null);I(this,Gr,null);I(this,Vs,null);I(this,Ci,!1);I(this,Qu,!1);O(this,qr,t.bitmapUrl),O(this,so,t.bitmapFile)}static initialize(t,n){dt.initialize(t,n)}static get supportedTypes(){return Xe(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Xe(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Fe.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:u,height:c}=t||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:o,width:u,height:c,channels:o.length/(u*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t,n;m(this,Rn)&&(O(this,Ot,null),this._uiManager.imageManager.deleteId(m(this,Rn)),(t=m(this,Gs))==null||t.remove(),O(this,Gs,null),(n=m(this,Gr))==null||n.disconnect(),O(this,Gr,null),m(this,Vs)&&(clearTimeout(m(this,Vs)),O(this,Vs,null))),super.remove()}rebuild(){if(!this.parent){m(this,Rn)&&k(this,Ye,bg).call(this);return}super.rebuild(),this.div!==null&&(m(this,Rn)&&m(this,Gs)===null&&k(this,Ye,bg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,io)||m(this,Ot)||m(this,qr)||m(this,so)||m(this,Rn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),m(this,Ot)?k(this,Ye,Ax).call(this):k(this,Ye,bg).call(this),this.width&&!this.annotationElementId){const[s,o]=this.parentDimensions;this.setAt(t*s,n*o,this.width*s,this.height*o)}return this.div}copyCanvas(t,n,s=!1){var w;t||(t=224);const{width:o,height:u}=m(this,Ot),c=new bb;let h=m(this,Ot),d=o,p=u,g=null;if(n){if(o>n||u>n){const U=Math.min(n/o,n/u);d=Math.floor(o*U),p=Math.floor(u*U)}g=document.createElement("canvas");const S=g.width=Math.ceil(d*c.sx),E=g.height=Math.ceil(p*c.sy);m(this,Ci)||(h=k(this,Ye,xg).call(this,S,E));const D=g.getContext("2d");D.filter=this._uiManager.hcmFilter;let A="white",C="#cfcfd8";this._uiManager.hcmFilter!=="none"?C="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(A="#8f8f9d",C="#42414d");const R=15,N=R*c.sx,L=R*c.sy,H=new OffscreenCanvas(N*2,L*2),F=H.getContext("2d");F.fillStyle=A,F.fillRect(0,0,N*2,L*2),F.fillStyle=C,F.fillRect(0,0,N,L),F.fillRect(N,L,N,L),D.fillStyle=D.createPattern(H,"repeat"),D.fillRect(0,0,S,E),D.drawImage(h,0,0,h.width,h.height,0,0,S,E)}let b=null;if(s){let S,E;if(c.symmetric&&h.width<t&&h.height<t)S=h.width,E=h.height;else if(h=m(this,Ot),o>t||u>t){const C=Math.min(t/o,t/u);S=Math.floor(o*C),E=Math.floor(u*C),m(this,Ci)||(h=k(this,Ye,xg).call(this,S,E))}const A=new OffscreenCanvas(S,E).getContext("2d",{willReadFrequently:!0});A.drawImage(h,0,0,h.width,h.height,0,0,S,E),b={width:S,height:E,data:A.getImageData(0,0,S,E).data}}return{canvas:g,width:d,height:p,imageData:b}}getImageForAltText(){return m(this,Gs)}static async deserialize(t,n,s){var E;let o=null;if(t instanceof r2){const{data:{rect:D,rotation:A,id:C,structParent:R,popupRef:N},container:L,parent:{page:{pageNumber:H}}}=t,F=L.querySelector("canvas"),U=s.imageManager.getFromCanvas(L.id,F);F.remove();const q=((E=await n._structTree.getAriaAttributes(`${Gx}${C}`))==null?void 0:E.get("aria-label"))||"";o=t={annotationType:Fe.STAMP,bitmapId:U.id,bitmap:U.bitmap,pageIndex:H-1,rect:D.slice(0),rotation:A,id:C,deleted:!1,accessibilityData:{decorative:!1,altText:q},isSvg:!1,structParent:R,popupRef:N}}const u=await super.deserialize(t,n,s),{rect:c,bitmap:h,bitmapUrl:d,bitmapId:p,isSvg:g,accessibilityData:b}=t;p&&s.imageManager.isValidId(p)?(O(u,Rn,p),h&&O(u,Ot,h)):O(u,qr,d),O(u,Ci,g);const[w,S]=u.pageDimensions;return u.width=(c[2]-c[0])/w,u.height=(c[3]-c[1])/S,u.annotationElementId=t.id||null,b&&(u.altTextData=b),u._initialData=o,O(u,Qu,!!o),u}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Fe.STAMP,bitmapId:m(this,Rn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,Ci),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=k(this,Ye,wg).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:o,altText:u}=this.serializeAltText(!1);if(!o&&u&&(s.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const h=k(this,Ye,W2).call(this,s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const c=m(this,Ci)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(m(this,Rn)))n.stamps.set(m(this,Rn),{area:c,serialized:s}),s.bitmap=k(this,Ye,wg).call(this,!1);else if(m(this,Ci)){const h=n.stamps.get(m(this,Rn));c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=k(this,Ye,wg).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ot=new WeakMap,Rn=new WeakMap,io=new WeakMap,qr=new WeakMap,so=new WeakMap,Wu=new WeakMap,Gs=new WeakMap,Gr=new WeakMap,Vs=new WeakMap,Ci=new WeakMap,Qu=new WeakMap,Ye=new WeakSet,Dd=function(t,n=!1){if(!t){this.remove();return}O(this,Ot,t.bitmap),n||(O(this,Rn,t.id),O(this,Ci,t.isSvg)),t.file&&O(this,Wu,t.file.name),k(this,Ye,Ax).call(this)},Ld=function(){if(O(this,io,null),this._uiManager.enableWaiting(!1),!!m(this,Gs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ot)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ot)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},bg=function(){if(m(this,Rn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Rn)).then(s=>k(this,Ye,Dd).call(this,s,!0)).finally(()=>k(this,Ye,Ld).call(this));return}if(m(this,qr)){const s=m(this,qr);O(this,qr,null),this._uiManager.enableWaiting(!0),O(this,io,this._uiManager.imageManager.getFromUrl(s).then(o=>k(this,Ye,Dd).call(this,o)).finally(()=>k(this,Ye,Ld).call(this)));return}if(m(this,so)){const s=m(this,so);O(this,so,null),this._uiManager.enableWaiting(!0),O(this,io,this._uiManager.imageManager.getFromFile(s).then(o=>k(this,Ye,Dd).call(this,o)).finally(()=>k(this,Ye,Ld).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Bd.supportedTypesStr;const n=this._uiManager._signal;O(this,io,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,Ye,Dd).call(this,o)}s()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>k(this,Ye,Ld).call(this))),t.click()},Ax=function(){const{div:t}=this;let{width:n,height:s}=m(this,Ot);const[o,u]=this.pageDimensions,c=.75;if(this.width)n=this.width*o,s=this.height*u;else if(n>c*o||s>c*u){const g=Math.min(c*o/n,c*u/s);n*=g,s*=g}const[h,d]=this.parentDimensions;this.setDims(n*h/o,s*d/u),this._uiManager.enableWaiting(!1);const p=O(this,Gs,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),k(this,Ye,Tx).call(this,n,s),k(this,Ye,X2).call(this),m(this,Qu)||(this.parent.addUndoableEditor(this),O(this,Qu,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Wu)&&p.setAttribute("aria-label",m(this,Wu))},Y2=function(t,n){var c;const[s,o]=this.parentDimensions;this.width=t/s,this.height=n/o,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,Vs)!==null&&clearTimeout(m(this,Vs)),O(this,Vs,setTimeout(()=>{O(this,Vs,null),k(this,Ye,Tx).call(this,t,n)},200))},xg=function(t,n){const{width:s,height:o}=m(this,Ot);let u=s,c=o,h=m(this,Ot);for(;u>2*t||c>2*n;){const d=u,p=c;u>2*t&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const g=new OffscreenCanvas(u,c);g.getContext("2d").drawImage(h,0,0,d,p,0,0,u,c),h=g.transferToImageBitmap()}return h},Tx=function(t,n){const s=new bb,o=Math.ceil(t*s.sx),u=Math.ceil(n*s.sy),c=m(this,Gs);if(!c||c.width===o&&c.height===u)return;c.width=o,c.height=u;const h=m(this,Ci)?m(this,Ot):k(this,Ye,xg).call(this,o,u),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,o,u)},wg=function(t){if(t){if(m(this,Ci)){const o=this._uiManager.imageManager.getSvgUrl(m(this,Rn));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=m(this,Ot),n.getContext("2d").drawImage(m(this,Ot),0,0),n.toDataURL()}if(m(this,Ci)){const[n,s]=this.pageDimensions,o=Math.round(this.width*n*co.PDF_TO_CSS_UNITS),u=Math.round(this.height*s*co.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(o,u);return c.getContext("2d").drawImage(m(this,Ot),0,0,m(this,Ot).width,m(this,Ot).height,0,0,o,u),c.transferToImageBitmap()}return structuredClone(m(this,Ot))},X2=function(){this._uiManager._signal&&(O(this,Gr,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&k(this,Ye,Y2).call(this,n.width,n.height)})),m(this,Gr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,Gr))==null||t.disconnect(),O(this,Gr,null)},{once:!0}))},W2=function(t){var d;const{rect:n,pageIndex:s,accessibilityData:{altText:o}}=this._initialData,u=t.rect.every((p,g)=>Math.abs(p-n[g])<1),c=t.pageIndex===s,h=(((d=t.accessibilityData)==null?void 0:d.alt)||"")===o;return{isSame:u&&c&&h,isSameAltText:h}},pe(Bd,"_type","stamp"),pe(Bd,"_editorType",Fe.STAMP);let Ex=Bd;var Fl,Ku,$s,ro,Vr,Ni,ao,Zu,Ju,Hn,$r,_e,oo,Mn,Q2,Cx,Nx,Rx,Sg;const ls=class ls{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:s,accessibilityManager:o,annotationLayer:u,drawLayer:c,textLayer:h,viewport:d,l10n:p}){I(this,Mn);I(this,Fl);I(this,Ku,!1);I(this,$s,null);I(this,ro,null);I(this,Vr,null);I(this,Ni,new Map);I(this,ao,!1);I(this,Zu,!1);I(this,Ju,!1);I(this,Hn,null);I(this,$r,null);I(this,_e);const g=[...m(ls,oo).values()];if(!ls._initialized){ls._initialized=!0;for(const b of g)b.initialize(p,e)}e.registerEditorTypes(g),O(this,_e,e),this.pageIndex=t,this.div=n,O(this,Fl,o),O(this,$s,u),this.viewport=d,O(this,Hn,h),this.drawLayer=c,this._structTree=s,m(this,_e).addLayer(this)}get isEmpty(){return m(this,Ni).size===0}get isInvisible(){return this.isEmpty&&m(this,_e).getMode()===Fe.NONE}updateToolbar(e){m(this,_e).updateToolbar(e)}updateMode(e=m(this,_e).getMode()){switch(k(this,Mn,Sg).call(this),e){case Fe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Fe.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Fe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of m(ls,oo).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,Hn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,_e).getMode()!==Fe.INK)return;if(!e){for(const n of m(this,Ni).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,_e).setEditingState(e)}addCommands(e){m(this,_e).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,$s))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of m(this,Ni).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(m(this,_e).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!m(this,$s))return;const t=m(this,$s).getEditableAnnotations();for(const n of t){if(n.hide(),m(this,_e).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;O(this,Ju,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of m(this,Ni).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(s=this.getEditableAnnotation(o.annotationElementId))==null||s.show(),o.remove()}if(m(this,$s)){const o=m(this,$s).getEditableAnnotations();for(const u of o){const{id:c}=u.data;if(m(this,_e).isDeletedAnnotationElement(c))continue;let h=t.get(c);if(h){h.resetAnnotationElement(u),h.show(!1),u.show();continue}h=e.get(c),h&&(m(this,_e).addChangedExistingAnnotation(h),h.renderAnnotationElement(u)&&h.show(!1)),u.show()}}k(this,Mn,Sg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of m(ls,oo).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),O(this,Ju,!1)}getEditableAnnotation(e){var t;return((t=m(this,$s))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,_e).getActive()!==e&&m(this,_e).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,Hn))!=null&&e.div&&!m(this,$r)){O(this,$r,new AbortController);const t=m(this,_e).combinedSignal(m(this,$r));m(this,Hn).div.addEventListener("pointerdown",k(this,Mn,Q2).bind(this),{signal:t}),m(this,Hn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Hn))!=null&&e.div&&m(this,$r)&&(m(this,$r).abort(),O(this,$r,null),m(this,Hn).div.classList.remove("highlighting"))}enableClick(){if(m(this,ro))return;O(this,ro,new AbortController);const e=m(this,_e).combinedSignal(m(this,ro));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=m(this,ro))==null||e.abort(),O(this,ro,null)}attach(e){m(this,Ni).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,_e).isDeletedAnnotationElement(t)&&m(this,_e).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,Ni).delete(e.id),(t=m(this,Fl))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,Ju)&&e.annotationElementId&&m(this,_e).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,_e).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,Zu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,_e).addDeletedAnnotationElement(e.annotationElementId),dt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,_e).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,_e).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,Vr)&&(e._focusEventsAllowed=!1,O(this,Vr,setTimeout(()=>{O(this,Vr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,_e)._signal}),t.focus())},0))),e._structTreeParentId=(n=m(this,Fl))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return m(this,_e).getId()}combinedSignal(e){return m(this,_e).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,Mn,Cx))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,_e).updateToolbar(e),m(this,_e).updateMode(e);const{offsetX:n,offsetY:s}=k(this,Mn,Rx).call(this),o=this.getNextId(),u=k(this,Mn,Nx).call(this,{parent:this,id:o,x:n,y:s,uiManager:m(this,_e),isCentered:!0,...t});u&&this.add(u)}async deserialize(e){var t;return await((t=m(ls,oo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,_e)))||null}createAndAddNewEditor(e,t,n={}){const s=this.getNextId(),o=k(this,Mn,Nx).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:m(this,_e),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(k(this,Mn,Rx).call(this),!0)}setSelected(e){m(this,_e).setSelected(e)}toggleSelected(e){m(this,_e).toggleSelected(e)}unselect(e){m(this,_e).unselect(e)}pointerup(e){const{isMac:t}=Wn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,ao)){if(O(this,ao,!1),!m(this,Ku)){O(this,Ku,!0);return}if(m(this,_e).getMode()===Fe.STAMP){m(this,_e).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,_e).getMode()===Fe.HIGHLIGHT&&this.enableTextSelection(),m(this,ao)){O(this,ao,!1);return}const{isMac:t}=Wn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;O(this,ao,!0);const n=m(this,_e).getActive();O(this,Ku,!n||n.isEmpty())}findNewParent(e,t,n){const s=m(this,_e).findParent(t,n);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=m(this,_e).getActive())==null?void 0:e.parent)===this&&(m(this,_e).commitOrRemove(),m(this,_e).setActiveEditor(null)),m(this,Vr)&&(clearTimeout(m(this,Vr)),O(this,Vr,null));for(const n of m(this,Ni).values())(t=m(this,Fl))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,m(this,Ni).clear(),m(this,_e).removeLayer(this)}render({viewport:e}){this.viewport=e,Ul(this.div,e);for(const t of m(this,_e).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,_e).commitOrRemove(),k(this,Mn,Sg).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Ul(this.div,{rotation:n}),t!==n)for(const s of m(this,Ni).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,_e).viewParameters.realScale}};Fl=new WeakMap,Ku=new WeakMap,$s=new WeakMap,ro=new WeakMap,Vr=new WeakMap,Ni=new WeakMap,ao=new WeakMap,Zu=new WeakMap,Ju=new WeakMap,Hn=new WeakMap,$r=new WeakMap,_e=new WeakMap,oo=new WeakMap,Mn=new WeakSet,Q2=function(e){m(this,_e).unselectAll();const{target:t}=e;if(t===m(this,Hn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&m(this,Hn).div.contains(t)){const{isMac:n}=Wn.platform;if(e.button!==0||e.ctrlKey&&n)return;m(this,_e).showAllEditors("highlight",!0,!0),m(this,Hn).div.classList.add("free"),this.toggleDrawing(),Mg.startHighlighting(this,m(this,_e).direction==="ltr",{target:m(this,Hn).div,x:e.x,y:e.y}),m(this,Hn).div.addEventListener("pointerup",()=>{m(this,Hn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,_e)._signal}),e.preventDefault()}},Cx=function(){return m(ls,oo).get(m(this,_e).getMode())},Nx=function(e){const t=m(this,Mn,Cx);return t?new t.prototype.constructor(e):null},Rx=function(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,e),u=Math.max(0,t),c=Math.min(window.innerWidth,e+n),h=Math.min(window.innerHeight,t+s),d=(o+c)/2-e,p=(u+h)/2-t,[g,b]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:g,offsetY:b}},Sg=function(){O(this,Zu,!0);for(const e of m(this,Ni).values())e.isEmpty()&&e.remove();O(this,Zu,!1)},pe(ls,"_initialized",!1),I(ls,oo,new Map([rx,px,Ex,Mg].map(e=>[e._editorType,e])));let _x=ls;var Ys,sp,en,Yr,rp,Dx,Yl,Lx,K2;const _n=class _n{constructor({pageIndex:e}){I(this,Yl);I(this,Ys,null);I(this,sp,0);I(this,en,new Map);I(this,Yr,new Map);this.pageIndex=e}setParent(e){if(!m(this,Ys)){O(this,Ys,e);return}if(m(this,Ys)!==e){if(m(this,en).size>0)for(const t of m(this,en).values())t.remove(),e.append(t);O(this,Ys,e)}}static get _svgFactory(){return Xe(this,"_svgFactory",new ew)}draw(e,t,n,s=!1){const o=Gn(this,sp)._++,u=k(this,Yl,Lx).call(this,e.box);u.classList.add(...e.classNamesForDrawing);const c=_n._svgFactory.createElement("defs");u.append(c);const h=_n._svgFactory.createElement("path");c.append(h);const d=`path_p${this.pageIndex}_${o}`;h.setAttribute("id",d),h.setAttribute("d",e.toSVGPath()),s&&m(this,Yr).set(o,h);const p=k(this,Yl,K2).call(this,c,d),g=_n._svgFactory.createElement("use");return u.append(g),u.setAttribute("fill",t),u.setAttribute("fill-opacity",n),g.setAttribute("href",`#${d}`),m(this,en).set(o,u),{id:o,clipPathId:`url(#${p})`}}drawOutline(e){const t=Gn(this,sp)._++,n=k(this,Yl,Lx).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const s=_n._svgFactory.createElement("defs");n.append(s);const o=_n._svgFactory.createElement("path");s.append(o);const u=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",u),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(e.mustRemoveSelfIntersections){const p=_n._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${t}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const g=_n._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const b=_n._svgFactory.createElement("use");p.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const h=_n._svgFactory.createElement("use");n.append(h),h.setAttribute("href",`#${u}`),c&&h.setAttribute("mask",`url(#${c})`);const d=h.cloneNode();return n.append(d),h.classList.add("mainOutline"),d.classList.add("secondaryOutline"),m(this,en).set(t,n),t}finalizeLine(e,t){const n=m(this,Yr).get(e);m(this,Yr).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,en).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){m(this,Yr).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;k(n=_n,rp,Dx).call(n,m(this,en).get(e),t)}show(e,t){m(this,en).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,en).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,en).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,en).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,en).get(e).classList.add(t)}removeClass(e,t){m(this,en).get(e).classList.remove(t)}getSVGRoot(e){return m(this,en).get(e)}remove(e){m(this,Yr).delete(e),m(this,Ys)!==null&&(m(this,en).get(e).remove(),m(this,en).delete(e))}destroy(){O(this,Ys,null);for(const e of m(this,en).values())e.remove();m(this,en).clear(),m(this,Yr).clear()}};Ys=new WeakMap,sp=new WeakMap,en=new WeakMap,Yr=new WeakMap,rp=new WeakSet,Dx=function(e,{x:t=0,y:n=0,width:s=1,height:o=1}={}){const{style:u}=e;u.top=`${100*n}%`,u.left=`${100*t}%`,u.width=`${100*s}%`,u.height=`${100*o}%`},Yl=new WeakSet,Lx=function(e){var n;const t=_n._svgFactory.create(1,1,!0);return m(this,Ys).append(t),t.setAttribute("aria-hidden",!0),k(n=_n,rp,Dx).call(n,t,e),t},K2=function(e,t){const n=_n._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${t}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const o=_n._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),s},I(_n,rp);let Mx=_n;var tD=Oe.AbortException,nD=Oe.AnnotationEditorLayer,iD=Oe.AnnotationEditorParamsType,sD=Oe.AnnotationEditorType,rD=Oe.AnnotationEditorUIManager,Z2=Oe.AnnotationLayer,J2=Oe.AnnotationMode,aD=Oe.ColorPicker,oD=Oe.DOMSVGFactory,lD=Oe.DrawLayer,cD=Oe.FeatureTest,nw=Oe.GlobalWorkerOptions,uD=Oe.ImageKind,hD=Oe.InvalidPDFException,dD=Oe.MissingPDFException,fD=Oe.OPS,pD=Oe.OutputScale,mD=Oe.PDFDataRangeTransport,gD=Oe.PDFDateString,vD=Oe.PDFWorker,yD=Oe.PasswordResponses,bD=Oe.PermissionFlag,xD=Oe.PixelsPerInch,wD=Oe.RenderingCancelledException,e4=Oe.TextLayer,SD=Oe.UnexpectedResponseException,ED=Oe.Util,AD=Oe.VerbosityLevel,TD=Oe.XfaLayer,_D=Oe.build,CD=Oe.createValidAbsoluteUrl,ND=Oe.fetchData,t4=Oe.getDocument,RD=Oe.getFilenameFromUrl,MD=Oe.getPdfFilenameFromUrl,DD=Oe.getXfaPageViewport,LD=Oe.isDataScheme,OD=Oe.isPdfFile,kD=Oe.noContextMenu,jD=Oe.normalizeUnicode,PD=Oe.setLayerDimensions,ID=Oe.shadow,FD=Oe.version;const BD=Object.freeze(Object.defineProperty({__proto__:null,AbortException:tD,AnnotationEditorLayer:nD,AnnotationEditorParamsType:iD,AnnotationEditorType:sD,AnnotationEditorUIManager:rD,AnnotationLayer:Z2,AnnotationMode:J2,ColorPicker:aD,DOMSVGFactory:oD,DrawLayer:lD,FeatureTest:cD,GlobalWorkerOptions:nw,ImageKind:uD,InvalidPDFException:hD,MissingPDFException:dD,OPS:fD,OutputScale:pD,PDFDataRangeTransport:mD,PDFDateString:gD,PDFWorker:vD,PasswordResponses:yD,PermissionFlag:bD,PixelsPerInch:xD,RenderingCancelledException:wD,TextLayer:e4,UnexpectedResponseException:SD,Util:ED,VerbosityLevel:AD,XfaLayer:TD,build:_D,createValidAbsoluteUrl:CD,fetchData:ND,getDocument:t4,getFilenameFromUrl:RD,getPdfFilenameFromUrl:MD,getXfaPageViewport:DD,isDataScheme:LD,isPdfFile:OD,noContextMenu:kD,normalizeUnicode:jD,setLayerDimensions:PD,shadow:ID,version:FD},Symbol.toStringTag,{value:"Module"}));var U1={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function HD(){if(PT)return Ie;PT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function D(G,se,me){this.props=G,this.context=se,this.refs=E,this.updater=me||w}D.prototype.isReactComponent={},D.prototype.setState=function(G,se){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,se,"setState")},D.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function A(){}A.prototype=D.prototype;function C(G,se,me){this.props=G,this.context=se,this.refs=E,this.updater=me||w}var R=C.prototype=new A;R.constructor=C,S(R,D.prototype),R.isPureReactComponent=!0;var N=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function F(G,se,me,ge,xe,Me){return me=Me.ref,{$$typeof:r,type:G,key:se,ref:me!==void 0?me:null,props:Me}}function U(G,se){return F(G.type,se,void 0,void 0,void 0,G.props)}function q(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function te(G){var se={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(me){return se[me]})}var V=/\/+/g;function ee(G,se){return typeof G=="object"&&G!==null&&G.key!=null?te(""+G.key):se.toString(36)}function Y(){}function oe(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(Y,Y):(G.status="pending",G.then(function(se){G.status==="pending"&&(G.status="fulfilled",G.value=se)},function(se){G.status==="pending"&&(G.status="rejected",G.reason=se)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function de(G,se,me,ge,xe){var Me=typeof G;(Me==="undefined"||Me==="boolean")&&(G=null);var we=!1;if(G===null)we=!0;else switch(Me){case"bigint":case"string":case"number":we=!0;break;case"object":switch(G.$$typeof){case r:case e:we=!0;break;case p:return we=G._init,de(we(G._payload),se,me,ge,xe)}}if(we)return xe=xe(G),we=ge===""?"."+ee(G,0):ge,N(xe)?(me="",we!=null&&(me=we.replace(V,"$&/")+"/"),de(xe,se,me,"",function(_t){return _t})):xe!=null&&(q(xe)&&(xe=U(xe,me+(xe.key==null||G&&G.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+we)),se.push(xe)),1;we=0;var De=ge===""?".":ge+":";if(N(G))for(var ke=0;ke<G.length;ke++)ge=G[ke],Me=De+ee(ge,ke),we+=de(ge,se,me,Me,xe);else if(ke=b(G),typeof ke=="function")for(G=ke.call(G),ke=0;!(ge=G.next()).done;)ge=ge.value,Me=De+ee(ge,ke++),we+=de(ge,se,me,Me,xe);else if(Me==="object"){if(typeof G.then=="function")return de(oe(G),se,me,ge,xe);throw se=String(G),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(G,se,me){if(G==null)return G;var ge=[],xe=0;return de(G,ge,"","",function(Me){return se.call(me,Me,xe++)}),ge}function ie(G){if(G._status===-1){var se=G._result;se=se(),se.then(function(me){(G._status===0||G._status===-1)&&(G._status=1,G._result=me)},function(me){(G._status===0||G._status===-1)&&(G._status=2,G._result=me)}),G._status===-1&&(G._status=0,G._result=se)}if(G._status===1)return G._result.default;throw G._result}var ce=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function be(){}return Ie.Children={map:W,forEach:function(G,se,me){W(G,function(){se.apply(this,arguments)},me)},count:function(G){var se=0;return W(G,function(){se++}),se},toArray:function(G){return W(G,function(se){return se})||[]},only:function(G){if(!q(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ie.Component=D,Ie.Fragment=t,Ie.Profiler=s,Ie.PureComponent=C,Ie.StrictMode=n,Ie.Suspense=h,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(G){return L.H.useMemoCache(G)}},Ie.cache=function(G){return function(){return G.apply(null,arguments)}},Ie.cloneElement=function(G,se,me){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ge=S({},G.props),xe=G.key,Me=void 0;if(se!=null)for(we in se.ref!==void 0&&(Me=void 0),se.key!==void 0&&(xe=""+se.key),se)!H.call(se,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&se.ref===void 0||(ge[we]=se[we]);var we=arguments.length-2;if(we===1)ge.children=me;else if(1<we){for(var De=Array(we),ke=0;ke<we;ke++)De[ke]=arguments[ke+2];ge.children=De}return F(G.type,xe,void 0,void 0,Me,ge)},Ie.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Ie.createElement=function(G,se,me){var ge,xe={},Me=null;if(se!=null)for(ge in se.key!==void 0&&(Me=""+se.key),se)H.call(se,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(xe[ge]=se[ge]);var we=arguments.length-2;if(we===1)xe.children=me;else if(1<we){for(var De=Array(we),ke=0;ke<we;ke++)De[ke]=arguments[ke+2];xe.children=De}if(G&&G.defaultProps)for(ge in we=G.defaultProps,we)xe[ge]===void 0&&(xe[ge]=we[ge]);return F(G,Me,void 0,void 0,null,xe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(G){return{$$typeof:c,render:G}},Ie.isValidElement=q,Ie.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ie}},Ie.memo=function(G,se){return{$$typeof:d,type:G,compare:se===void 0?null:se}},Ie.startTransition=function(G){var se=L.T,me={};L.T=me;try{var ge=G(),xe=L.S;xe!==null&&xe(me,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(be,ce)}catch(Me){ce(Me)}finally{L.T=se}},Ie.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ie.use=function(G){return L.H.use(G)},Ie.useActionState=function(G,se,me){return L.H.useActionState(G,se,me)},Ie.useCallback=function(G,se){return L.H.useCallback(G,se)},Ie.useContext=function(G){return L.H.useContext(G)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(G,se){return L.H.useDeferredValue(G,se)},Ie.useEffect=function(G,se,me){var ge=L.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(G,se)},Ie.useId=function(){return L.H.useId()},Ie.useImperativeHandle=function(G,se,me){return L.H.useImperativeHandle(G,se,me)},Ie.useInsertionEffect=function(G,se){return L.H.useInsertionEffect(G,se)},Ie.useLayoutEffect=function(G,se){return L.H.useLayoutEffect(G,se)},Ie.useMemo=function(G,se){return L.H.useMemo(G,se)},Ie.useOptimistic=function(G,se){return L.H.useOptimistic(G,se)},Ie.useReducer=function(G,se,me){return L.H.useReducer(G,se,me)},Ie.useRef=function(G){return L.H.useRef(G)},Ie.useState=function(G){return L.H.useState(G)},Ie.useSyncExternalStore=function(G,se,me){return L.H.useSyncExternalStore(G,se,me)},Ie.useTransition=function(){return L.H.useTransition()},Ie.version="19.1.0",Ie}var IT;function cp(){return IT||(IT=1,U1.exports=HD()),U1.exports}var B=cp();const tn=nh(B);var vn=function(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},UD=["onCopy","onCut","onPaste"],zD=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],qD=["onFocus","onBlur"],GD=["onInput","onInvalid","onReset","onSubmit"],VD=["onLoad","onError"],$D=["onKeyDown","onKeyPress","onKeyUp"],YD=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],XD=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],WD=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],QD=["onSelect"],KD=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],ZD=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],JD=["onScroll"],eL=["onWheel"],tL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],nL=["onTransitionEnd"],iL=["onToggle"],sL=["onChange"],rL=vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn(vn([],UD,!0),zD,!0),qD,!0),GD,!0),VD,!0),$D,!0),YD,!0),XD,!0),WD,!0),QD,!0),KD,!0),ZD,!0),JD,!0),eL,!0),tL,!0),nL,!0),sL,!0),iL,!0);function n4(r,e){var t={};return rL.forEach(function(n){var s=r[n];s&&(e?t[n]=function(o){return s(o,e(n))}:t[n]=s)}),t}function up(r){var e=!1,t=new Promise(function(n,s){r.then(function(o){return!e&&n(o)}).catch(function(o){return!e&&s(o)})});return{promise:t,cancel:function(){e=!0}}}function i4(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=i4(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function u0(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=i4(r))&&(n&&(n+=" "),n+=e);return n}var aL="Invariant failed";function St(r,e){if(!r)throw new Error(aL)}var z1,FT;function oL(){if(FT)return z1;FT=1;var r=function(){};return z1=r,z1}var lL=oL();const Un=nh(lL);var BT=Object.prototype.hasOwnProperty;function HT(r,e,t){for(t of r.keys())if(eu(t,e))return t}function eu(r,e){var t,n,s;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&eu(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(s=n,s&&typeof s=="object"&&(s=HT(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(s=n[0],s&&typeof s=="object"&&(s=HT(e,s),!s)||!eu(n[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(BT.call(r,t)&&++n&&!BT.call(e,t)||!(t in e)||!eu(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}const s4=B.createContext(null);function tu({children:r,type:e}){return y.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const cL="noopener noreferrer nofollow";class uL{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return St(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){St(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{St(this.pdfDocument),St(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{St(Array.isArray(t));const n=t[0];new Promise(s=>{St(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{s(o)}).catch(()=>{St(!1)}):typeof n=="number"?s(n):St(!1)}).then(s=>{const o=s+1;St(this.pdfViewer),St(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;St(this.pdfViewer),St(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||cL,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const UT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},h0=typeof window<"u",r4=h0&&window.location.protocol==="file:";function hL(r){return typeof r<"u"}function jo(r){return hL(r)&&r!==null}function dL(r){return typeof r=="string"}function fL(r){return r instanceof ArrayBuffer}function pL(r){return St(h0),r instanceof Blob}function Ox(r){return dL(r)&&/^data:/.test(r)}function zT(r){St(Ox(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function mL(){return h0&&window.devicePixelRatio||1}const a4="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function qT(){Un(!r4,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${a4}`)}function gL(){Un(!r4,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${a4}`)}function Gl(r){r!=null&&r.cancel&&r.cancel()}function kx(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function vL(r){return r.name==="RenderingCancelledException"}function yL(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:o}=s.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}function bL(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function eh(){return B.useReducer(bL,{value:void 0,error:void 0})}var xL=function(r,e,t,n){function s(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function c(p){try{d(n.next(p))}catch(g){u(g)}}function h(p){try{d(n.throw(p))}catch(g){u(g)}}function d(p){p.done?o(p.value):s(p.value).then(c,h)}d((n=n.apply(r,e||[])).next())})},GT=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const{PDFDataRangeTransport:wL}=BD,SL=(r,e)=>{switch(e){case UT.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case UT.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function VT(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const EL=B.forwardRef(function(e,t){var{children:n,className:s,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:c,file:h,inputRef:d,imageResourcesPath:p,loading:g="Loading PDF…",noData:b="No PDF file specified.",onItemClick:w,onLoadError:S,onLoadProgress:E,onLoadSuccess:D,onPassword:A=SL,onSourceError:C,onSourceSuccess:R,options:N,renderMode:L,rotate:H}=e,F=GT(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[U,q]=eh(),{value:te,error:V}=U,[ee,Y]=eh(),{value:oe,error:de}=ee,W=B.useRef(new uL),ie=B.useRef([]),ce=B.useRef(void 0),be=B.useRef(void 0);h&&h!==ce.current&&VT(h)&&(Un(!eu(h,ce.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ce.current=h),N&&N!==be.current&&(Un(!eu(N,be.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),be.current=N);const G=B.useRef({scrollPageIntoView:Ge=>{const{dest:nt,pageNumber:Qt,pageIndex:It=Qt-1}=Ge;if(w){w({dest:nt,pageIndex:It,pageNumber:Qt});return}const qt=ie.current[It];if(qt){qt.scrollIntoView();return}Un(!1,`An internal link leading to page ${Qt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});B.useImperativeHandle(t,()=>({linkService:W,pages:ie,viewer:G}),[]);function se(){R&&R()}function me(){V&&(Un(!1,V.toString()),C&&C(V))}function ge(){q({type:"RESET"})}B.useEffect(ge,[h,q]);const xe=B.useCallback(()=>xL(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return Ox(h)?{data:zT(h)}:(qT(),{url:h});if(h instanceof wL)return{range:h};if(fL(h))return{data:h};if(h0&&pL(h))return{data:yield yL(h)};if(St(typeof h=="object"),St(VT(h)),"url"in h&&typeof h.url=="string"){if(Ox(h.url)){const{url:Ge}=h,nt=GT(h,["url"]),Qt=zT(Ge);return Object.assign({data:Qt},nt)}qT()}return h}),[h]);B.useEffect(()=>{const Ge=up(xe());return Ge.promise.then(nt=>{q({type:"RESOLVE",value:nt})}).catch(nt=>{q({type:"REJECT",error:nt})}),()=>{Gl(Ge)}},[xe,q]),B.useEffect(()=>{if(!(typeof te>"u")){if(te===!1){me();return}se()}},[te]);function Me(){oe&&(D&&D(oe),ie.current=new Array(oe.numPages),W.current.setDocument(oe))}function we(){de&&(Un(!1,de.toString()),S&&S(de))}B.useEffect(function(){Y({type:"RESET"})},[Y,te]),B.useEffect(function(){if(!te)return;const nt=N?Object.assign(Object.assign({},te),N):te,Qt=t4(nt);E&&(Qt.onProgress=E),A&&(Qt.onPassword=A);const It=Qt,qt=It.promise.then(er=>{Y({type:"RESOLVE",value:er})}).catch(er=>{It.destroyed||Y({type:"REJECT",error:er})});return()=>{qt.finally(()=>It.destroy())}},[N,Y,te]),B.useEffect(()=>{if(!(typeof oe>"u")){if(oe===!1){we();return}Me()}},[oe]),B.useEffect(function(){W.current.setViewer(G.current),W.current.setExternalLinkRel(u),W.current.setExternalLinkTarget(c)},[u,c]);const De=B.useCallback((Ge,nt)=>{ie.current[Ge]=nt},[]),ke=B.useCallback(Ge=>{delete ie.current[Ge]},[]),_t=B.useMemo(()=>({imageResourcesPath:p,linkService:W.current,onItemClick:w,pdf:oe,registerPage:De,renderMode:L,rotate:H,unregisterPage:ke}),[p,w,oe,De,L,H,ke]),Ke=B.useMemo(()=>n4(F,()=>oe),[F,oe]);function ki(){return y.jsx(s4.Provider,{value:_t,children:n})}function ji(){return h?oe==null?y.jsx(tu,{type:"loading",children:typeof g=="function"?g():g}):oe===!1?y.jsx(tu,{type:"error",children:typeof o=="function"?o():o}):ki():y.jsx(tu,{type:"no-data",children:typeof b=="function"?b():b})}return y.jsx("div",Object.assign({className:u0("react-pdf__Document",s),ref:d,style:{"--scale-factor":"1"}},Ke,{children:ji()}))});function o4(){return B.useContext(s4)}function l4(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){t.forEach(function(u){typeof u=="function"?u(o):u&&(u.current=o)})}}const c4=B.createContext(null),u4={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},AL=/^H(\d+)$/;function TL(r){return r in u4}function d0(r){return"children"in r}function h4(r){return d0(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function _L(r){const e={};if(d0(r)){const{role:t}=r,n=t.match(AL);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(TL(t)){const s=u4[t];s&&(e.role=s)}}return e}function d4(r){const e={};if(d0(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),h4(r)){const[t]=r.children;if(t){const n=d4(t);return Object.assign(Object.assign({},e),n)}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function CL(r){return r?Object.assign(Object.assign({},_L(r)),d4(r)):null}function f4({className:r,node:e}){const t=B.useMemo(()=>CL(e),[e]),n=B.useMemo(()=>!d0(e)||h4(e)?null:e.children.map((s,o)=>y.jsx(f4,{node:s},o)),[e]);return y.jsx("span",Object.assign({className:r},t,{children:n}))}function f0(){return B.useContext(c4)}function NL(){const r=f0();St(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,s]=eh(),{value:o,error:u}=n,{customTextRenderer:c,page:h}=r;function d(){o&&t&&t(o)}function p(){u&&(Un(!1,u.toString()),e&&e(u))}return B.useEffect(function(){s({type:"RESET"})},[s,h]),B.useEffect(function(){if(c||!h)return;const b=up(h.getStructTree()),w=b;return b.promise.then(S=>{s({type:"RESOLVE",value:S})}).catch(S=>{s({type:"REJECT",error:S})}),()=>Gl(w)},[c,h,s]),B.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}d()}},[o]),o?y.jsx(f4,{className:"react-pdf__Page__structTree structTree",node:o}):null}const $T=J2;function RL(r){const e=f0();St(e);const t=Object.assign(Object.assign({},e),r),{_className:n,canvasBackground:s,devicePixelRatio:o=mL(),onRenderError:u,onRenderSuccess:c,page:h,renderForms:d,renderTextLayer:p,rotate:g,scale:b}=t,{canvasRef:w}=r;St(h);const S=B.useRef(null);function E(){h&&c&&c(kx(h,b))}function D(N){vL(N)||(Un(!1,N.toString()),u&&u(N))}const A=B.useMemo(()=>h.getViewport({scale:b*o,rotation:g}),[o,h,g,b]),C=B.useMemo(()=>h.getViewport({scale:b,rotation:g}),[h,g,b]);B.useEffect(function(){if(!h)return;h.cleanup();const{current:L}=S;if(!L)return;L.width=A.width,L.height=A.height,L.style.width=`${Math.floor(C.width)}px`,L.style.height=`${Math.floor(C.height)}px`,L.style.visibility="hidden";const H={annotationMode:d?$T.ENABLE_FORMS:$T.ENABLE,canvasContext:L.getContext("2d",{alpha:!1}),viewport:A};s&&(H.background=s);const F=h.render(H),U=F;return F.promise.then(()=>{L.style.visibility="",E()}).catch(D),()=>Gl(U)},[s,h,d,A,C]);const R=B.useCallback(()=>{const{current:N}=S;N&&(N.width=0,N.height=0)},[]);return B.useEffect(()=>R,[R]),y.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:l4(w,S),style:{display:"block",userSelect:"none"},children:p?y.jsx(NL,{}):null})}function ML(r){return"str"in r}function DL(){const r=f0();St(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:o,page:u,pageIndex:c,pageNumber:h,rotate:d,scale:p}=r;St(u);const[g,b]=eh(),{value:w,error:S}=g,E=B.useRef(null);Un(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function D(){w&&n&&n(w)}function A(){S&&(Un(!1,S.toString()),t&&t(S))}B.useEffect(function(){b({type:"RESET"})},[u,b]),B.useEffect(function(){if(!u)return;const U=up(u.getTextContent()),q=U;return U.promise.then(te=>{b({type:"RESOLVE",value:te})}).catch(te=>{b({type:"REJECT",error:te})}),()=>Gl(q)},[u,b]),B.useEffect(()=>{if(w!==void 0){if(w===!1){A();return}D()}},[w]);const C=B.useCallback(()=>{o&&o()},[o]),R=B.useCallback(F=>{Un(!1,F.toString()),s&&s(F)},[s]);function N(){const F=E.current;F&&F.classList.add("selecting")}function L(){const F=E.current;F&&F.classList.remove("selecting")}const H=B.useMemo(()=>u.getViewport({scale:p,rotation:d}),[u,d,p]);return B.useLayoutEffect(function(){if(!u||!w)return;const{current:U}=E;if(!U)return;U.innerHTML="";const q=u.streamTextContent({includeMarkedContent:!0}),te={container:U,textContentSource:q,viewport:H},V=new e4(te),ee=V;return V.render().then(()=>{const Y=document.createElement("div");Y.className="endOfContent",U.append(Y);const oe=U.querySelectorAll('[role="presentation"]');if(e){let de=0;w.items.forEach((W,ie)=>{if(!ML(W))return;const ce=oe[de];if(!ce)return;const be=e(Object.assign({pageIndex:c,pageNumber:h,itemIndex:ie},W));ce.innerHTML=be,de+=W.str&&W.hasEOL?2:1})}C()}).catch(R),()=>Gl(ee)},[e,R,C,u,c,h,w,H]),y.jsx("div",{className:u0("react-pdf__Page__textContent","textLayer"),onMouseUp:L,onMouseDown:N,ref:E})}function LL(){const r=o4(),e=f0();St(e);const t=Object.assign(Object.assign({},r),e),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:h,page:d,pdf:p,renderForms:g,rotate:b,scale:w=1}=t;St(p),St(d),St(s);const[S,E]=eh(),{value:D,error:A}=S,C=B.useRef(null);Un(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){D&&u&&u(D)}function N(){A&&(Un(!1,A.toString()),o&&o(A))}B.useEffect(function(){E({type:"RESET"})},[E,d]),B.useEffect(function(){if(!d)return;const q=up(d.getAnnotations()),te=q;return q.promise.then(V=>{E({type:"RESOLVE",value:V})}).catch(V=>{E({type:"REJECT",error:V})}),()=>{Gl(te)}},[E,d]),B.useEffect(()=>{if(D!==void 0){if(D===!1){N();return}R()}},[D]);function L(){h&&h()}function H(U){Un(!1,`${U}`),c&&c(U)}const F=B.useMemo(()=>d.getViewport({scale:w,rotation:b}),[d,b,w]);return B.useEffect(function(){if(!p||!d||!s||!D)return;const{current:q}=C;if(!q)return;const te=F.clone({dontFlip:!0}),V={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:q,l10n:null,page:d,structTreeLayer:null,viewport:te},ee={annotations:D,annotationStorage:p.annotationStorage,div:q,imageResourcesPath:n,linkService:s,page:d,renderForms:g,viewport:te};q.innerHTML="";try{new Z2(V).render(ee),L()}catch(Y){H(Y)}return()=>{}},[D,n,s,d,p,g,F]),y.jsx("div",{className:u0("react-pdf__Page__annotations","annotationLayer"),ref:C})}var OL=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const YT=1;function kL(r){const e=o4(),t=Object.assign(Object.assign({},e),r),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:o,canvasRef:u,children:c,className:h,customRenderer:d,customTextRenderer:p,devicePixelRatio:g,error:b="Failed to load the page.",height:w,inputRef:S,loading:E="Loading page…",noData:D="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:C,onGetStructTreeError:R,onGetStructTreeSuccess:N,onGetTextError:L,onGetTextSuccess:H,onLoadError:F,onLoadSuccess:U,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:te,onRenderError:V,onRenderSuccess:ee,onRenderTextLayerError:Y,onRenderTextLayerSuccess:oe,pageIndex:de,pageNumber:W,pdf:ie,registerPage:ce,renderAnnotationLayer:be=!0,renderForms:G=!1,renderMode:se="canvas",renderTextLayer:me=!0,rotate:ge,scale:xe=YT,unregisterPage:Me,width:we}=t,De=OL(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ke,_t]=eh(),{value:Ke,error:ki}=ke,ji=B.useRef(null);St(ie);const Ge=jo(W)?W-1:de??null,nt=W??(jo(de)?de+1:null),Qt=ge??(Ke?Ke.rotate:null),It=B.useMemo(()=>{if(!Ke)return null;let j=1;const T=xe??YT;if(we||w){const _=Ke.getViewport({scale:1,rotation:Qt});we?j=we/_.width:w&&(j=w/_.height)}return T*j},[w,Ke,Qt,xe,we]);B.useEffect(function(){return()=>{jo(Ge)&&s&&Me&&Me(Ge)}},[s,ie,Ge,Me]);function qt(){if(U){if(!Ke||!It)return;U(kx(Ke,It))}if(s&&ce){if(!jo(Ge)||!ji.current)return;ce(Ge,ji.current)}}function er(){ki&&(Un(!1,ki.toString()),F&&F(ki))}B.useEffect(function(){_t({type:"RESET"})},[_t,ie,Ge]),B.useEffect(function(){if(!ie||!nt)return;const T=up(ie.getPage(nt)),_=T;return T.promise.then(z=>{_t({type:"RESOLVE",value:z})}).catch(z=>{_t({type:"REJECT",error:z})}),()=>Gl(_)},[_t,ie,nt]),B.useEffect(()=>{if(Ke!==void 0){if(Ke===!1){er();return}qt()}},[Ke,It]);const ec=B.useMemo(()=>Ke&&jo(Ge)&&nt&&jo(Qt)&&jo(It)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:A,onGetAnnotationsSuccess:C,onGetStructTreeError:R,onGetStructTreeSuccess:N,onGetTextError:L,onGetTextSuccess:H,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:te,onRenderError:V,onRenderSuccess:ee,onRenderTextLayerError:Y,onRenderTextLayerSuccess:oe,page:Ke,pageIndex:Ge,pageNumber:nt,renderForms:G,renderTextLayer:me,rotate:Qt,scale:It}:null,[n,o,p,g,A,C,R,N,L,H,q,te,V,ee,Y,oe,Ke,Ge,nt,G,me,Qt,It]),vo=B.useMemo(()=>n4(De,()=>Ke&&(It?kx(Ke,It):void 0)),[De,Ke,It]),Jn=`${Ge}@${It}/${Qt}`;function ei(){switch(se){case"custom":return St(d),y.jsx(d,{},`${Jn}_custom`);case"none":return null;case"canvas":default:return y.jsx(RL,{canvasRef:u},`${Jn}_canvas`)}}function sa(){return me?y.jsx(DL,{},`${Jn}_text`):null}function ch(){return be?y.jsx(LL,{},`${Jn}_annotations`):null}function Pi(){return y.jsxs(c4.Provider,{value:ec,children:[ei(),sa(),ch(),c]})}function tr(){return nt?ie===null||Ke===void 0||Ke===null?y.jsx(tu,{type:"loading",children:typeof E=="function"?E():E}):ie===!1||Ke===!1?y.jsx(tu,{type:"error",children:typeof b=="function"?b():b}):Pi():y.jsx(tu,{type:"no-data",children:typeof D=="function"?D():D})}return y.jsx("div",Object.assign({className:u0(n,h),"data-page-number":nt,ref:l4(S,ji),style:{"--scale-factor":`${It}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},vo,{children:tr()}))}gL();nw.workerSrc="pdf.worker.mjs";const jL="/assets/pdf.worker.min-GB3t0DcA.mjs";var q1={exports:{}},ud={},G1={exports:{}},V1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function PL(){return XT||(XT=1,function(r){function e(W,ie){var ce=W.length;W.push(ie);e:for(;0<ce;){var be=ce-1>>>1,G=W[be];if(0<s(G,ie))W[be]=ie,W[ce]=G,ce=be;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var ie=W[0],ce=W.pop();if(ce!==ie){W[0]=ce;e:for(var be=0,G=W.length,se=G>>>1;be<se;){var me=2*(be+1)-1,ge=W[me],xe=me+1,Me=W[xe];if(0>s(ge,ce))xe<G&&0>s(Me,ge)?(W[be]=Me,W[xe]=ce,be=xe):(W[be]=ge,W[me]=ce,be=me);else if(xe<G&&0>s(Me,ce))W[be]=Me,W[xe]=ce,be=xe;else break e}}return ie}function s(W,ie){var ce=W.sortIndex-ie.sortIndex;return ce!==0?ce:W.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();r.unstable_now=function(){return u.now()-c}}var h=[],d=[],p=1,g=null,b=3,w=!1,S=!1,E=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(W){for(var ie=t(d);ie!==null;){if(ie.callback===null)n(d);else if(ie.startTime<=W)n(d),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=t(d)}}function L(W){if(E=!1,N(W),!S)if(t(h)!==null)S=!0,H||(H=!0,ee());else{var ie=t(d);ie!==null&&de(L,ie.startTime-W)}}var H=!1,F=-1,U=5,q=-1;function te(){return D?!0:!(r.unstable_now()-q<U)}function V(){if(D=!1,H){var W=r.unstable_now();q=W;var ie=!0;try{e:{S=!1,E&&(E=!1,C(F),F=-1),w=!0;var ce=b;try{t:{for(N(W),g=t(h);g!==null&&!(g.expirationTime>W&&te());){var be=g.callback;if(typeof be=="function"){g.callback=null,b=g.priorityLevel;var G=be(g.expirationTime<=W);if(W=r.unstable_now(),typeof G=="function"){g.callback=G,N(W),ie=!0;break t}g===t(h)&&n(h),N(W)}else n(h);g=t(h)}if(g!==null)ie=!0;else{var se=t(d);se!==null&&de(L,se.startTime-W),ie=!1}}break e}finally{g=null,b=ce,w=!1}ie=void 0}}finally{ie?ee():H=!1}}}var ee;if(typeof R=="function")ee=function(){R(V)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,oe=Y.port2;Y.port1.onmessage=V,ee=function(){oe.postMessage(null)}}else ee=function(){A(V,0)};function de(W,ie){F=A(function(){W(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(W){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var ce=b;b=ie;try{return W()}finally{b=ce}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=b;b=W;try{return ie()}finally{b=ce}},r.unstable_scheduleCallback=function(W,ie,ce){var be=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?be+ce:be):ce=be,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ce+G,W={id:p++,callback:ie,priorityLevel:W,startTime:ce,expirationTime:G,sortIndex:-1},ce>be?(W.sortIndex=ce,e(d,W),t(h)===null&&W===t(d)&&(E?(C(F),F=-1):E=!0,de(L,ce-be))):(W.sortIndex=G,e(h,W),S||w||(S=!0,H||(H=!0,ee()))),W},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(W){var ie=b;return function(){var ce=b;b=ie;try{return W.apply(this,arguments)}finally{b=ce}}}}(V1)),V1}var WT;function IL(){return WT||(WT=1,G1.exports=PL()),G1.exports}var $1={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function FL(){if(QT)return On;QT=1;var r=cp();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:h,containerInfo:d,implementation:p}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,On.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,p)},On.flushSync=function(h){var d=u.T,p=n.p;try{if(u.T=null,n.p=2,h)return h()}finally{u.T=d,n.p=p,n.d.f()}},On.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},On.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},On.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&n.d.X(h,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},On.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},On.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},On.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},On.requestFormReset=function(h){n.d.r(h)},On.unstable_batchedUpdates=function(h,d){return h(d)},On.useFormState=function(h,d,p){return u.H.useFormState(h,d,p)},On.useFormStatus=function(){return u.H.useHostTransitionStatus()},On.version="19.1.0",On}var KT;function BL(){if(KT)return $1.exports;KT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$1.exports=FL(),$1.exports}var ZT;function HL(){if(ZT)return ud;ZT=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=IL(),e=cp(),t=BL();function n(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(n(188))}function h(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(n(188));return a!==i?null:i}for(var l=i,f=a;;){var v=l.return;if(v===null)break;var x=v.alternate;if(x===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===l)return c(v),i;if(x===f)return c(v),a;x=x.sibling}throw Error(n(188))}if(l.return!==f.return)l=v,f=x;else{for(var M=!1,P=v.child;P;){if(P===l){M=!0,l=v,f=x;break}if(P===f){M=!0,f=v,l=x;break}P=P.sibling}if(!M){for(P=x.child;P;){if(P===l){M=!0,l=x,f=v;break}if(P===f){M=!0,f=x,l=v;break}P=P.sibling}if(!M)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Y?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case D:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case H:return"SuspenseList";case q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case R:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case N:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return a=i.displayName||null,a!==null?a:oe(i.type)||"Memo";case U:a=i._payload,i=i._init;try{return oe(i(a))}catch{}}return null}var de=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},be=[],G=-1;function se(i){return{current:i}}function me(i){0>G||(i.current=be[G],be[G]=null,G--)}function ge(i,a){G++,be[G]=i.current,i.current=a}var xe=se(null),Me=se(null),we=se(null),De=se(null);function ke(i,a){switch(ge(we,a),ge(Me,i),ge(xe,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?IA(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=IA(a),i=FA(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(xe),ge(xe,i)}function _t(){me(xe),me(Me),me(we)}function Ke(i){i.memoizedState!==null&&ge(De,i);var a=xe.current,l=FA(a,i.type);a!==l&&(ge(Me,i),ge(xe,l))}function ki(i){Me.current===i&&(me(xe),me(Me)),De.current===i&&(me(De),ed._currentValue=ce)}var ji=Object.prototype.hasOwnProperty,Ge=r.unstable_scheduleCallback,nt=r.unstable_cancelCallback,Qt=r.unstable_shouldYield,It=r.unstable_requestPaint,qt=r.unstable_now,er=r.unstable_getCurrentPriorityLevel,ec=r.unstable_ImmediatePriority,vo=r.unstable_UserBlockingPriority,Jn=r.unstable_NormalPriority,ei=r.unstable_LowPriority,sa=r.unstable_IdlePriority,ch=r.log,Pi=r.unstable_setDisableYieldValue,tr=null,j=null;function T(i){if(typeof ch=="function"&&Pi(i),j&&typeof j.setStrictMode=="function")try{j.setStrictMode(tr,i)}catch{}}var _=Math.clz32?Math.clz32:ae,z=Math.log,Q=Math.LN2;function ae(i){return i>>>=0,i===0?32:31-(z(i)/Q|0)|0}var ue=256,je=4194304;function it(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function rt(i,a,l){var f=i.pendingLanes;if(f===0)return 0;var v=0,x=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var P=f&134217727;return P!==0?(f=P&~x,f!==0?v=it(f):(M&=P,M!==0?v=it(M):l||(l=P&~i,l!==0&&(v=it(l))))):(P=f&~x,P!==0?v=it(P):M!==0?v=it(M):l||(l=f&~i,l!==0&&(v=it(l)))),v===0?0:a!==0&&a!==v&&(a&x)===0&&(x=v&-v,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:v}function pt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function at(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xw(){var i=ue;return ue<<=1,(ue&4194048)===0&&(ue=256),i}function ww(){var i=je;return je<<=1,(je&62914560)===0&&(je=4194304),i}function x0(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function uh(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function M5(i,a,l,f,v,x){var M=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,$=i.expirationTimes,J=i.hiddenUpdates;for(l=M&~l;0<l;){var le=31-_(l),fe=1<<le;P[le]=0,$[le]=-1;var ne=J[le];if(ne!==null)for(J[le]=null,le=0;le<ne.length;le++){var re=ne[le];re!==null&&(re.lane&=-536870913)}l&=~fe}f!==0&&Sw(i,f,0),x!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=x&~(M&~a))}function Sw(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-_(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|l&4194090}function Ew(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var f=31-_(l),v=1<<f;v&a|i[f]&a&&(i[f]|=a),l&=~v}}function w0(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function S0(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Aw(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:iT(i.type))}function D5(i,a){var l=ie.p;try{return ie.p=i,a()}finally{ie.p=l}}var ra=Math.random().toString(36).slice(2),Dn="__reactFiber$"+ra,ti="__reactProps$"+ra,tc="__reactContainer$"+ra,E0="__reactEvents$"+ra,L5="__reactListeners$"+ra,O5="__reactHandles$"+ra,Tw="__reactResources$"+ra,hh="__reactMarker$"+ra;function A0(i){delete i[Dn],delete i[ti],delete i[E0],delete i[L5],delete i[O5]}function nc(i){var a=i[Dn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[tc]||l[Dn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=zA(i);i!==null;){if(l=i[Dn])return l;i=zA(i)}return a}i=l,l=i.parentNode}return null}function ic(i){if(i=i[Dn]||i[tc]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function dh(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(n(33))}function sc(i){var a=i[Tw];return a||(a=i[Tw]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function fn(i){i[hh]=!0}var _w=new Set,Cw={};function yo(i,a){rc(i,a),rc(i+"Capture",a)}function rc(i,a){for(Cw[i]=a,i=0;i<a.length;i++)_w.add(a[i])}var k5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nw={},Rw={};function j5(i){return ji.call(Rw,i)?!0:ji.call(Nw,i)?!1:k5.test(i)?Rw[i]=!0:(Nw[i]=!0,!1)}function vp(i,a,l){if(j5(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function yp(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function nr(i,a,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+f)}}var T0,Mw;function ac(i){if(T0===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);T0=a&&a[1]||"",Mw=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+T0+i+Mw}var _0=!1;function C0(i,a){if(!i||_0)return"";_0=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(re){ne=re}i.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),M=x[0],P=x[1];if(M&&P){var $=M.split(`
`),J=P.split(`
`);for(v=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(f===$.length||v===J.length)for(f=$.length-1,v=J.length-1;1<=f&&0<=v&&$[f]!==J[v];)v--;for(;1<=f&&0<=v;f--,v--)if($[f]!==J[v]){if(f!==1||v!==1)do if(f--,v--,0>v||$[f]!==J[v]){var le=`
`+$[f].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=f&&0<=v);break}}}finally{_0=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ac(l):""}function P5(i){switch(i.tag){case 26:case 27:case 5:return ac(i.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 15:return C0(i.type,!1);case 11:return C0(i.type.render,!1);case 1:return C0(i.type,!0);case 31:return ac("Activity");default:return""}}function Dw(i){try{var a="";do a+=P5(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ii(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Lw(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function I5(i){var a=Lw(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),f=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,x=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(M){f=""+M,x.call(this,M)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(M){f=""+M},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function bp(i){i._valueTracker||(i._valueTracker=I5(i))}function Ow(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),f="";return i&&(f=Lw(i)?i.checked?"true":"false":i.value),i=f,i!==l?(a.setValue(i),!0):!1}function xp(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var F5=/[\n"\\]/g;function Fi(i){return i.replace(F5,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function N0(i,a,l,f,v,x,M,P){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),a!=null?M==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Ii(a)):i.value!==""+Ii(a)&&(i.value=""+Ii(a)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),a!=null?R0(i,M,Ii(a)):l!=null?R0(i,M,Ii(l)):f!=null&&i.removeAttribute("value"),v==null&&x!=null&&(i.defaultChecked=!!x),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Ii(P):i.removeAttribute("name")}function kw(i,a,l,f,v,x,M,P){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;l=l!=null?""+Ii(l):"",a=a!=null?""+Ii(a):l,P||a===i.value||(i.value=a),i.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=P?i.checked:!!f,i.defaultChecked=!!f,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function R0(i,a,l){a==="number"&&xp(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function oc(i,a,l,f){if(i=i.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<i.length;l++)v=a.hasOwnProperty("$"+i[l].value),i[l].selected!==v&&(i[l].selected=v),v&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Ii(l),a=null,v=0;v<i.length;v++){if(i[v].value===l){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function jw(i,a,l){if(a!=null&&(a=""+Ii(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Ii(l):""}function Pw(i,a,l,f){if(a==null){if(f!=null){if(l!=null)throw Error(n(92));if(de(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),a=l}l=Ii(a),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f)}function lc(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var B5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iw(i,a,l){var f=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,l):typeof l!="number"||l===0||B5.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Fw(i,a,l){if(a!=null&&typeof a!="object")throw Error(n(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&l[v]!==f&&Iw(i,v,f)}else for(var x in a)a.hasOwnProperty(x)&&Iw(i,x,a[x])}function M0(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wp(i){return U5.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var D0=null;function L0(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cc=null,uc=null;function Bw(i){var a=ic(i);if(a&&(i=a.stateNode)){var l=i[ti]||null;e:switch(i=a.stateNode,a.type){case"input":if(N0(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Fi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var f=l[a];if(f!==i&&f.form===i.form){var v=f[ti]||null;if(!v)throw Error(n(90));N0(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)f=l[a],f.form===i.form&&Ow(f)}break e;case"textarea":jw(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&oc(i,!!l.multiple,a,!1)}}}var O0=!1;function Hw(i,a,l){if(O0)return i(a,l);O0=!0;try{var f=i(a);return f}finally{if(O0=!1,(cc!==null||uc!==null)&&(am(),cc&&(a=cc,i=uc,uc=cc=null,Bw(a),i)))for(a=0;a<i.length;a++)Bw(i[a])}}function fh(i,a){var l=i.stateNode;if(l===null)return null;var f=l[ti]||null;if(f===null)return null;l=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,a,typeof l));return l}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k0=!1;if(ir)try{var ph={};Object.defineProperty(ph,"passive",{get:function(){k0=!0}}),window.addEventListener("test",ph,ph),window.removeEventListener("test",ph,ph)}catch{k0=!1}var aa=null,j0=null,Sp=null;function Uw(){if(Sp)return Sp;var i,a=j0,l=a.length,f,v="value"in aa?aa.value:aa.textContent,x=v.length;for(i=0;i<l&&a[i]===v[i];i++);var M=l-i;for(f=1;f<=M&&a[l-f]===v[x-f];f++);return Sp=v.slice(i,1<f?1-f:void 0)}function Ep(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ap(){return!0}function zw(){return!1}function ni(i){function a(l,f,v,x,M){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=x,this.target=M,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ap:zw,this.isPropagationStopped=zw,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ap)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ap)},persist:function(){},isPersistent:Ap}),a}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=ni(bo),mh=p({},bo,{view:0,detail:0}),z5=ni(mh),P0,I0,gh,_p=p({},mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B0,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gh&&(gh&&i.type==="mousemove"?(P0=i.screenX-gh.screenX,I0=i.screenY-gh.screenY):I0=P0=0,gh=i),P0)},movementY:function(i){return"movementY"in i?i.movementY:I0}}),qw=ni(_p),q5=p({},_p,{dataTransfer:0}),G5=ni(q5),V5=p({},mh,{relatedTarget:0}),F0=ni(V5),$5=p({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),Y5=ni($5),X5=p({},bo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),W5=ni(X5),Q5=p({},bo,{data:0}),Gw=ni(Q5),K5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eN(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=J5[i])?!!a[i]:!1}function B0(){return eN}var tN=p({},mh,{key:function(i){if(i.key){var a=K5[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ep(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Z5[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B0,charCode:function(i){return i.type==="keypress"?Ep(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ep(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nN=ni(tN),iN=p({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vw=ni(iN),sN=p({},mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B0}),rN=ni(sN),aN=p({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oN=ni(aN),lN=p({},_p,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),cN=ni(lN),uN=p({},bo,{newState:0,oldState:0}),hN=ni(uN),dN=[9,13,27,32],H0=ir&&"CompositionEvent"in window,vh=null;ir&&"documentMode"in document&&(vh=document.documentMode);var fN=ir&&"TextEvent"in window&&!vh,$w=ir&&(!H0||vh&&8<vh&&11>=vh),Yw=" ",Xw=!1;function Ww(i,a){switch(i){case"keyup":return dN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var hc=!1;function pN(i,a){switch(i){case"compositionend":return Qw(a);case"keypress":return a.which!==32?null:(Xw=!0,Yw);case"textInput":return i=a.data,i===Yw&&Xw?null:i;default:return null}}function mN(i,a){if(hc)return i==="compositionend"||!H0&&Ww(i,a)?(i=Uw(),Sp=j0=aa=null,hc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return $w&&a.locale!=="ko"?null:a.data;default:return null}}var gN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kw(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!gN[i.type]:a==="textarea"}function Zw(i,a,l,f){cc?uc?uc.push(f):uc=[f]:cc=f,a=dm(a,"onChange"),0<a.length&&(l=new Tp("onChange","change",null,l,f),i.push({event:l,listeners:a}))}var yh=null,bh=null;function vN(i){LA(i,0)}function Cp(i){var a=dh(i);if(Ow(a))return i}function Jw(i,a){if(i==="change")return a}var eS=!1;if(ir){var U0;if(ir){var z0="oninput"in document;if(!z0){var tS=document.createElement("div");tS.setAttribute("oninput","return;"),z0=typeof tS.oninput=="function"}U0=z0}else U0=!1;eS=U0&&(!document.documentMode||9<document.documentMode)}function nS(){yh&&(yh.detachEvent("onpropertychange",iS),bh=yh=null)}function iS(i){if(i.propertyName==="value"&&Cp(bh)){var a=[];Zw(a,bh,i,L0(i)),Hw(vN,a)}}function yN(i,a,l){i==="focusin"?(nS(),yh=a,bh=l,yh.attachEvent("onpropertychange",iS)):i==="focusout"&&nS()}function bN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cp(bh)}function xN(i,a){if(i==="click")return Cp(a)}function wN(i,a){if(i==="input"||i==="change")return Cp(a)}function SN(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var fi=typeof Object.is=="function"?Object.is:SN;function xh(i,a){if(fi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),f=Object.keys(a);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!ji.call(a,v)||!fi(i[v],a[v]))return!1}return!0}function sS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rS(i,a){var l=sS(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=a&&f>=a)return{node:l,offset:a-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sS(l)}}function aS(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?aS(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function oS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=xp(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=xp(i.document)}return a}function q0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var EN=ir&&"documentMode"in document&&11>=document.documentMode,dc=null,G0=null,wh=null,V0=!1;function lS(i,a,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;V0||dc==null||dc!==xp(f)||(f=dc,"selectionStart"in f&&q0(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),wh&&xh(wh,f)||(wh=f,f=dm(G0,"onSelect"),0<f.length&&(a=new Tp("onSelect","select",null,a,l),i.push({event:a,listeners:f}),a.target=dc)))}function xo(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var fc={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},$0={},cS={};ir&&(cS=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function wo(i){if($0[i])return $0[i];if(!fc[i])return i;var a=fc[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in cS)return $0[i]=a[l];return i}var uS=wo("animationend"),hS=wo("animationiteration"),dS=wo("animationstart"),AN=wo("transitionrun"),TN=wo("transitionstart"),_N=wo("transitioncancel"),fS=wo("transitionend"),pS=new Map,Y0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Y0.push("scrollEnd");function is(i,a){pS.set(i,a),yo(a,[i])}var mS=new WeakMap;function Bi(i,a){if(typeof i=="object"&&i!==null){var l=mS.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Dw(a)},mS.set(i,a),a)}return{value:i,source:a,stack:Dw(a)}}var Hi=[],pc=0,X0=0;function Np(){for(var i=pc,a=X0=pc=0;a<i;){var l=Hi[a];Hi[a++]=null;var f=Hi[a];Hi[a++]=null;var v=Hi[a];Hi[a++]=null;var x=Hi[a];if(Hi[a++]=null,f!==null&&v!==null){var M=f.pending;M===null?v.next=v:(v.next=M.next,M.next=v),f.pending=v}x!==0&&gS(l,v,x)}}function Rp(i,a,l,f){Hi[pc++]=i,Hi[pc++]=a,Hi[pc++]=l,Hi[pc++]=f,X0|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function W0(i,a,l,f){return Rp(i,a,l,f),Mp(i)}function mc(i,a){return Rp(i,null,null,a),Mp(i)}function gS(i,a,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var v=!1,x=i.return;x!==null;)x.childLanes|=l,f=x.alternate,f!==null&&(f.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(v=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,v&&a!==null&&(v=31-_(l),i=x.hiddenUpdates,f=i[v],f===null?i[v]=[a]:f.push(a),a.lane=l|536870912),x):null}function Mp(i){if(50<$h)throw $h=0,t1=null,Error(n(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var gc={};function CN(i,a,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(i,a,l,f){return new CN(i,a,l,f)}function Q0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sr(i,a){var l=i.alternate;return l===null?(l=pi(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function vS(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Dp(i,a,l,f,v,x){var M=0;if(f=i,typeof i=="function")Q0(i)&&(M=1);else if(typeof i=="string")M=R6(i,l,xe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case q:return i=pi(31,l,a,v),i.elementType=q,i.lanes=x,i;case S:return So(l.children,v,x,a);case E:M=8,v|=24;break;case D:return i=pi(12,l,a,v|2),i.elementType=D,i.lanes=x,i;case L:return i=pi(13,l,a,v),i.elementType=L,i.lanes=x,i;case H:return i=pi(19,l,a,v),i.elementType=H,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case R:M=10;break e;case C:M=9;break e;case N:M=11;break e;case F:M=14;break e;case U:M=16,f=null;break e}M=29,l=Error(n(130,i===null?"null":typeof i,"")),f=null}return a=pi(M,l,a,v),a.elementType=i,a.type=f,a.lanes=x,a}function So(i,a,l,f){return i=pi(7,i,f,a),i.lanes=l,i}function K0(i,a,l){return i=pi(6,i,null,a),i.lanes=l,i}function Z0(i,a,l){return a=pi(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var vc=[],yc=0,Lp=null,Op=0,Ui=[],zi=0,Eo=null,rr=1,ar="";function Ao(i,a){vc[yc++]=Op,vc[yc++]=Lp,Lp=i,Op=a}function yS(i,a,l){Ui[zi++]=rr,Ui[zi++]=ar,Ui[zi++]=Eo,Eo=i;var f=rr;i=ar;var v=32-_(f)-1;f&=~(1<<v),l+=1;var x=32-_(a)+v;if(30<x){var M=v-v%5;x=(f&(1<<M)-1).toString(32),f>>=M,v-=M,rr=1<<32-_(a)+v|l<<v|f,ar=x+i}else rr=1<<x|l<<v|f,ar=i}function J0(i){i.return!==null&&(Ao(i,1),yS(i,1,0))}function ev(i){for(;i===Lp;)Lp=vc[--yc],vc[yc]=null,Op=vc[--yc],vc[yc]=null;for(;i===Eo;)Eo=Ui[--zi],Ui[zi]=null,ar=Ui[--zi],Ui[zi]=null,rr=Ui[--zi],Ui[zi]=null}var qn=null,Ft=null,Ze=!1,To=null,As=!1,tv=Error(n(519));function _o(i){var a=Error(n(418,""));throw Ah(Bi(a,i)),tv}function bS(i){var a=i.stateNode,l=i.type,f=i.memoizedProps;switch(a[Dn]=i,a[ti]=f,l){case"dialog":$e("cancel",a),$e("close",a);break;case"iframe":case"object":case"embed":$e("load",a);break;case"video":case"audio":for(l=0;l<Xh.length;l++)$e(Xh[l],a);break;case"source":$e("error",a);break;case"img":case"image":case"link":$e("error",a),$e("load",a);break;case"details":$e("toggle",a);break;case"input":$e("invalid",a),kw(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),bp(a);break;case"select":$e("invalid",a);break;case"textarea":$e("invalid",a),Pw(a,f.value,f.defaultValue,f.children),bp(a)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||f.suppressHydrationWarning===!0||PA(a.textContent,l)?(f.popover!=null&&($e("beforetoggle",a),$e("toggle",a)),f.onScroll!=null&&$e("scroll",a),f.onScrollEnd!=null&&$e("scrollend",a),f.onClick!=null&&(a.onclick=fm),a=!0):a=!1,a||_o(i)}function xS(i){for(qn=i.return;qn;)switch(qn.tag){case 5:case 13:As=!1;return;case 27:case 3:As=!0;return;default:qn=qn.return}}function Sh(i){if(i!==qn)return!1;if(!Ze)return xS(i),Ze=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||v1(i.type,i.memoizedProps)),l=!l),l&&Ft&&_o(i),xS(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Ft=rs(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Ft=null}}else a===27?(a=Ft,Sa(i.type)?(i=w1,w1=null,Ft=i):Ft=a):Ft=qn?rs(i.stateNode.nextSibling):null;return!0}function Eh(){Ft=qn=null,Ze=!1}function wS(){var i=To;return i!==null&&(ri===null?ri=i:ri.push.apply(ri,i),To=null),i}function Ah(i){To===null?To=[i]:To.push(i)}var nv=se(null),Co=null,or=null;function oa(i,a,l){ge(nv,a._currentValue),a._currentValue=l}function lr(i){i._currentValue=nv.current,me(nv)}function iv(i,a,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===l)break;i=i.return}}function sv(i,a,l,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var x=v.dependencies;if(x!==null){var M=v.child;x=x.firstContext;e:for(;x!==null;){var P=x;x=v;for(var $=0;$<a.length;$++)if(P.context===a[$]){x.lanes|=l,P=x.alternate,P!==null&&(P.lanes|=l),iv(x.return,l,i),f||(M=null);break e}x=P.next}}else if(v.tag===18){if(M=v.return,M===null)throw Error(n(341));M.lanes|=l,x=M.alternate,x!==null&&(x.lanes|=l),iv(M,l,i),M=null}else M=v.child;if(M!==null)M.return=v;else for(M=v;M!==null;){if(M===i){M=null;break}if(v=M.sibling,v!==null){v.return=M.return,M=v;break}M=M.return}v=M}}function Th(i,a,l,f){i=null;for(var v=a,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var M=v.alternate;if(M===null)throw Error(n(387));if(M=M.memoizedProps,M!==null){var P=v.type;fi(v.pendingProps.value,M.value)||(i!==null?i.push(P):i=[P])}}else if(v===De.current){if(M=v.alternate,M===null)throw Error(n(387));M.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(ed):i=[ed])}v=v.return}i!==null&&sv(a,i,l,f),a.flags|=262144}function kp(i){for(i=i.firstContext;i!==null;){if(!fi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function No(i){Co=i,or=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ln(i){return SS(Co,i)}function jp(i,a){return Co===null&&No(i),SS(i,a)}function SS(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},or===null){if(i===null)throw Error(n(308));or=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else or=or.next=a;return l}var NN=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},RN=r.unstable_scheduleCallback,MN=r.unstable_NormalPriority,sn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rv(){return{controller:new NN,data:new Map,refCount:0}}function _h(i){i.refCount--,i.refCount===0&&RN(MN,function(){i.controller.abort()})}var Ch=null,av=0,bc=0,xc=null;function DN(i,a){if(Ch===null){var l=Ch=[];av=0,bc=l1(),xc={status:"pending",value:void 0,then:function(f){l.push(f)}}}return av++,a.then(ES,ES),a}function ES(){if(--av===0&&Ch!==null){xc!==null&&(xc.status="fulfilled");var i=Ch;Ch=null,bc=0,xc=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function LN(i,a){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var AS=W.S;W.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&DN(i,a),AS!==null&&AS(i,a)};var Ro=se(null);function ov(){var i=Ro.current;return i!==null?i:Et.pooledCache}function Pp(i,a){a===null?ge(Ro,Ro.current):ge(Ro,a.pool)}function TS(){var i=ov();return i===null?null:{parent:sn._currentValue,pool:i}}var Nh=Error(n(460)),_S=Error(n(474)),Ip=Error(n(542)),lv={then:function(){}};function CS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fp(){}function NS(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Fp,Fp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,MS(i),i;default:if(typeof a.status=="string")a.then(Fp,Fp);else{if(i=Et,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,MS(i),i}throw Rh=a,Nh}}var Rh=null;function RS(){if(Rh===null)throw Error(n(459));var i=Rh;return Rh=null,i}function MS(i){if(i===Nh||i===Ip)throw Error(n(483))}var la=!1;function cv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uv(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ca(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ua(i,a,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(ot&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=Mp(i),gS(i,null,l),a}return Rp(i,f,a,l),Mp(i)}function Mh(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,l|=f,a.lanes=l,Ew(i,l)}}function hv(i,a){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var M={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?v=x=M:x=x.next=M,l=l.next}while(l!==null);x===null?v=x=a:x=x.next=a}else v=x=a;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var dv=!1;function Dh(){if(dv){var i=xc;if(i!==null)throw i}}function Lh(i,a,l,f){dv=!1;var v=i.updateQueue;la=!1;var x=v.firstBaseUpdate,M=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var $=P,J=$.next;$.next=null,M===null?x=J:M.next=J,M=$;var le=i.alternate;le!==null&&(le=le.updateQueue,P=le.lastBaseUpdate,P!==M&&(P===null?le.firstBaseUpdate=J:P.next=J,le.lastBaseUpdate=$))}if(x!==null){var fe=v.baseState;M=0,le=J=$=null,P=x;do{var ne=P.lane&-536870913,re=ne!==P.lane;if(re?(We&ne)===ne:(f&ne)===ne){ne!==0&&ne===bc&&(dv=!0),le!==null&&(le=le.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Re=i,Ce=P;ne=a;var vt=l;switch(Ce.tag){case 1:if(Re=Ce.payload,typeof Re=="function"){fe=Re.call(vt,fe,ne);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ce.payload,ne=typeof Re=="function"?Re.call(vt,fe,ne):Re,ne==null)break e;fe=p({},fe,ne);break e;case 2:la=!0}}ne=P.callback,ne!==null&&(i.flags|=64,re&&(i.flags|=8192),re=v.callbacks,re===null?v.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:P.tag,payload:P.payload,callback:P.callback,next:null},le===null?(J=le=re,$=fe):le=le.next=re,M|=ne;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;re=P,P=re.next,re.next=null,v.lastBaseUpdate=re,v.shared.pending=null}}while(!0);le===null&&($=fe),v.baseState=$,v.firstBaseUpdate=J,v.lastBaseUpdate=le,x===null&&(v.shared.lanes=0),ya|=M,i.lanes=M,i.memoizedState=fe}}function DS(i,a){if(typeof i!="function")throw Error(n(191,i));i.call(a)}function LS(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)DS(l[i],a)}var wc=se(null),Bp=se(0);function OS(i,a){i=mr,ge(Bp,i),ge(wc,a),mr=i|a.baseLanes}function fv(){ge(Bp,mr),ge(wc,wc.current)}function pv(){mr=Bp.current,me(wc),me(Bp)}var ha=0,He=null,mt=null,Kt=null,Hp=!1,Sc=!1,Mo=!1,Up=0,Oh=0,Ec=null,ON=0;function Gt(){throw Error(n(321))}function mv(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!fi(i[l],a[l]))return!1;return!0}function gv(i,a,l,f,v,x){return ha=x,He=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=i===null||i.memoizedState===null?gE:vE,Mo=!1,x=l(f,v),Mo=!1,Sc&&(x=jS(a,l,f,v)),kS(i),x}function kS(i){W.H=Yp;var a=mt!==null&&mt.next!==null;if(ha=0,Kt=mt=He=null,Hp=!1,Oh=0,Ec=null,a)throw Error(n(300));i===null||pn||(i=i.dependencies,i!==null&&kp(i)&&(pn=!0))}function jS(i,a,l,f){He=i;var v=0;do{if(Sc&&(Ec=null),Oh=0,Sc=!1,25<=v)throw Error(n(301));if(v+=1,Kt=mt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=HN,x=a(l,f)}while(Sc);return x}function kN(){var i=W.H,a=i.useState()[0];return a=typeof a.then=="function"?kh(a):a,i=i.useState()[0],(mt!==null?mt.memoizedState:null)!==i&&(He.flags|=1024),a}function vv(){var i=Up!==0;return Up=0,i}function yv(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function bv(i){if(Hp){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Hp=!1}ha=0,Kt=mt=He=null,Sc=!1,Oh=Up=0,Ec=null}function ii(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?He.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function Zt(){if(mt===null){var i=He.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var a=Kt===null?He.memoizedState:Kt.next;if(a!==null)Kt=a,mt=i;else{if(i===null)throw He.alternate===null?Error(n(467)):Error(n(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Kt===null?He.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function xv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kh(i){var a=Oh;return Oh+=1,Ec===null&&(Ec=[]),i=NS(Ec,i,a),a=He,(Kt===null?a.memoizedState:Kt.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?gE:vE),i}function zp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return kh(i);if(i.$$typeof===R)return Ln(i)}throw Error(n(438,String(i)))}function wv(i){var a=null,l=He.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var f=He.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=xv(),He.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),f=0;f<i;f++)l[f]=te;return a.index++,l}function cr(i,a){return typeof a=="function"?a(i):a}function qp(i){var a=Zt();return Sv(a,mt,i)}function Sv(i,a,l){var f=i.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=l;var v=i.baseQueue,x=f.pending;if(x!==null){if(v!==null){var M=v.next;v.next=x.next,x.next=M}a.baseQueue=v=x,f.pending=null}if(x=i.baseState,v===null)i.memoizedState=x;else{a=v.next;var P=M=null,$=null,J=a,le=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?(We&fe)===fe:(ha&fe)===fe){var ne=J.revertLane;if(ne===0)$!==null&&($=$.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===bc&&(le=!0);else if((ha&ne)===ne){J=J.next,ne===bc&&(le=!0);continue}else fe={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(P=$=fe,M=x):$=$.next=fe,He.lanes|=ne,ya|=ne;fe=J.action,Mo&&l(x,fe),x=J.hasEagerState?J.eagerState:l(x,fe)}else ne={lane:fe,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(P=$=ne,M=x):$=$.next=ne,He.lanes|=fe,ya|=fe;J=J.next}while(J!==null&&J!==a);if($===null?M=x:$.next=P,!fi(x,i.memoizedState)&&(pn=!0,le&&(l=xc,l!==null)))throw l;i.memoizedState=x,i.baseState=M,i.baseQueue=$,f.lastRenderedState=x}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Ev(i){var a=Zt(),l=a.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var f=l.dispatch,v=l.pending,x=a.memoizedState;if(v!==null){l.pending=null;var M=v=v.next;do x=i(x,M.action),M=M.next;while(M!==v);fi(x,a.memoizedState)||(pn=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,f]}function PS(i,a,l){var f=He,v=Zt(),x=Ze;if(x){if(l===void 0)throw Error(n(407));l=l()}else l=a();var M=!fi((mt||v).memoizedState,l);M&&(v.memoizedState=l,pn=!0),v=v.queue;var P=BS.bind(null,f,v,i);if(jh(2048,8,P,[i]),v.getSnapshot!==a||M||Kt!==null&&Kt.memoizedState.tag&1){if(f.flags|=2048,Ac(9,Gp(),FS.bind(null,f,v,l,a),null),Et===null)throw Error(n(349));x||(ha&124)!==0||IS(f,a,l)}return l}function IS(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=He.updateQueue,a===null?(a=xv(),He.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function FS(i,a,l,f){a.value=l,a.getSnapshot=f,HS(a)&&US(i)}function BS(i,a,l){return l(function(){HS(a)&&US(i)})}function HS(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!fi(i,l)}catch{return!0}}function US(i){var a=mc(i,2);a!==null&&bi(a,i,2)}function Av(i){var a=ii();if(typeof i=="function"){var l=i;if(i=l(),Mo){T(!0);try{l()}finally{T(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:i},a}function zS(i,a,l,f){return i.baseState=l,Sv(i,mt,typeof f=="function"?f:cr)}function jN(i,a,l,f,v){if($p(i))throw Error(n(485));if(i=a.action,i!==null){var x={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){x.listeners.push(M)}};W.T!==null?l(!0):x.isTransition=!1,f(x),l=a.pending,l===null?(x.next=a.pending=x,qS(a,x)):(x.next=l.next,a.pending=l.next=x)}}function qS(i,a){var l=a.action,f=a.payload,v=i.state;if(a.isTransition){var x=W.T,M={};W.T=M;try{var P=l(v,f),$=W.S;$!==null&&$(M,P),GS(i,a,P)}catch(J){Tv(i,a,J)}finally{W.T=x}}else try{x=l(v,f),GS(i,a,x)}catch(J){Tv(i,a,J)}}function GS(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){VS(i,a,f)},function(f){return Tv(i,a,f)}):VS(i,a,l)}function VS(i,a,l){a.status="fulfilled",a.value=l,$S(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,qS(i,l)))}function Tv(i,a,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=l,$S(a),a=a.next;while(a!==f)}i.action=null}function $S(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function YS(i,a){return a}function XS(i,a){if(Ze){var l=Et.formState;if(l!==null){e:{var f=He;if(Ze){if(Ft){t:{for(var v=Ft,x=As;v.nodeType!==8;){if(!x){v=null;break t}if(v=rs(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Ft=rs(v.nextSibling),f=v.data==="F!";break e}}_o(f)}f=!1}f&&(a=l[0])}}return l=ii(),l.memoizedState=l.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YS,lastRenderedState:a},l.queue=f,l=fE.bind(null,He,f),f.dispatch=l,f=Av(!1),x=Mv.bind(null,He,!1,f.queue),f=ii(),v={state:a,dispatch:null,action:i,pending:null},f.queue=v,l=jN.bind(null,He,v,x,l),v.dispatch=l,f.memoizedState=i,[a,l,!1]}function WS(i){var a=Zt();return QS(a,mt,i)}function QS(i,a,l){if(a=Sv(i,a,YS)[0],i=qp(cr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=kh(a)}catch(M){throw M===Nh?Ip:M}else f=a;a=Zt();var v=a.queue,x=v.dispatch;return l!==a.memoizedState&&(He.flags|=2048,Ac(9,Gp(),PN.bind(null,v,l),null)),[f,x,i]}function PN(i,a){i.action=a}function KS(i){var a=Zt(),l=mt;if(l!==null)return QS(a,l,i);Zt(),a=a.memoizedState,l=Zt();var f=l.queue.dispatch;return l.memoizedState=i,[a,f,!1]}function Ac(i,a,l,f){return i={tag:i,create:l,deps:f,inst:a,next:null},a=He.updateQueue,a===null&&(a=xv(),He.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,a.lastEffect=i),i}function Gp(){return{destroy:void 0,resource:void 0}}function ZS(){return Zt().memoizedState}function Vp(i,a,l,f){var v=ii();f=f===void 0?null:f,He.flags|=i,v.memoizedState=Ac(1|a,Gp(),l,f)}function jh(i,a,l,f){var v=Zt();f=f===void 0?null:f;var x=v.memoizedState.inst;mt!==null&&f!==null&&mv(f,mt.memoizedState.deps)?v.memoizedState=Ac(a,x,l,f):(He.flags|=i,v.memoizedState=Ac(1|a,x,l,f))}function JS(i,a){Vp(8390656,8,i,a)}function eE(i,a){jh(2048,8,i,a)}function tE(i,a){return jh(4,2,i,a)}function nE(i,a){return jh(4,4,i,a)}function iE(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function sE(i,a,l){l=l!=null?l.concat([i]):null,jh(4,4,iE.bind(null,a,i),l)}function _v(){}function rE(i,a){var l=Zt();a=a===void 0?null:a;var f=l.memoizedState;return a!==null&&mv(a,f[1])?f[0]:(l.memoizedState=[i,a],i)}function aE(i,a){var l=Zt();a=a===void 0?null:a;var f=l.memoizedState;if(a!==null&&mv(a,f[1]))return f[0];if(f=i(),Mo){T(!0);try{i()}finally{T(!1)}}return l.memoizedState=[f,a],f}function Cv(i,a,l){return l===void 0||(ha&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=cA(),He.lanes|=i,ya|=i,l)}function oE(i,a,l,f){return fi(l,a)?l:wc.current!==null?(i=Cv(i,l,f),fi(i,a)||(pn=!0),i):(ha&42)===0?(pn=!0,i.memoizedState=l):(i=cA(),He.lanes|=i,ya|=i,a)}function lE(i,a,l,f,v){var x=ie.p;ie.p=x!==0&&8>x?x:8;var M=W.T,P={};W.T=P,Mv(i,!1,a,l);try{var $=v(),J=W.S;if(J!==null&&J(P,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var le=LN($,f);Ph(i,a,le,yi(i))}else Ph(i,a,f,yi(i))}catch(fe){Ph(i,a,{then:function(){},status:"rejected",reason:fe},yi())}finally{ie.p=x,W.T=M}}function IN(){}function Nv(i,a,l,f){if(i.tag!==5)throw Error(n(476));var v=cE(i).queue;lE(i,v,a,ce,l===null?IN:function(){return uE(i),l(f)})}function cE(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:ce},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function uE(i){var a=cE(i).next.queue;Ph(i,a,{},yi())}function Rv(){return Ln(ed)}function hE(){return Zt().memoizedState}function dE(){return Zt().memoizedState}function FN(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=yi();i=ca(l);var f=ua(a,i,l);f!==null&&(bi(f,a,l),Mh(f,a,l)),a={cache:rv()},i.payload=a;return}a=a.return}}function BN(i,a,l){var f=yi();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},$p(i)?pE(a,l):(l=W0(i,a,l,f),l!==null&&(bi(l,i,f),mE(l,a,f)))}function fE(i,a,l){var f=yi();Ph(i,a,l,f)}function Ph(i,a,l,f){var v={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if($p(i))pE(a,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var M=a.lastRenderedState,P=x(M,l);if(v.hasEagerState=!0,v.eagerState=P,fi(P,M))return Rp(i,a,v,0),Et===null&&Np(),!1}catch{}finally{}if(l=W0(i,a,v,f),l!==null)return bi(l,i,f),mE(l,a,f),!0}return!1}function Mv(i,a,l,f){if(f={lane:2,revertLane:l1(),action:f,hasEagerState:!1,eagerState:null,next:null},$p(i)){if(a)throw Error(n(479))}else a=W0(i,l,f,2),a!==null&&bi(a,i,2)}function $p(i){var a=i.alternate;return i===He||a!==null&&a===He}function pE(i,a){Sc=Hp=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function mE(i,a,l){if((l&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,l|=f,a.lanes=l,Ew(i,l)}}var Yp={readContext:Ln,use:zp,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},gE={readContext:Ln,use:zp,useCallback:function(i,a){return ii().memoizedState=[i,a===void 0?null:a],i},useContext:Ln,useEffect:JS,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Vp(4194308,4,iE.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Vp(4194308,4,i,a)},useInsertionEffect:function(i,a){Vp(4,2,i,a)},useMemo:function(i,a){var l=ii();a=a===void 0?null:a;var f=i();if(Mo){T(!0);try{i()}finally{T(!1)}}return l.memoizedState=[f,a],f},useReducer:function(i,a,l){var f=ii();if(l!==void 0){var v=l(a);if(Mo){T(!0);try{l(a)}finally{T(!1)}}}else v=a;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=BN.bind(null,He,i),[f.memoizedState,i]},useRef:function(i){var a=ii();return i={current:i},a.memoizedState=i},useState:function(i){i=Av(i);var a=i.queue,l=fE.bind(null,He,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:_v,useDeferredValue:function(i,a){var l=ii();return Cv(l,i,a)},useTransition:function(){var i=Av(!1);return i=lE.bind(null,He,i.queue,!0,!1),ii().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var f=He,v=ii();if(Ze){if(l===void 0)throw Error(n(407));l=l()}else{if(l=a(),Et===null)throw Error(n(349));(We&124)!==0||IS(f,a,l)}v.memoizedState=l;var x={value:l,getSnapshot:a};return v.queue=x,JS(BS.bind(null,f,x,i),[i]),f.flags|=2048,Ac(9,Gp(),FS.bind(null,f,x,l,a),null),l},useId:function(){var i=ii(),a=Et.identifierPrefix;if(Ze){var l=ar,f=rr;l=(f&~(1<<32-_(f)-1)).toString(32)+l,a="«"+a+"R"+l,l=Up++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=ON++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Rv,useFormState:XS,useActionState:XS,useOptimistic:function(i){var a=ii();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Mv.bind(null,He,!0,l),l.dispatch=a,[i,a]},useMemoCache:wv,useCacheRefresh:function(){return ii().memoizedState=FN.bind(null,He)}},vE={readContext:Ln,use:zp,useCallback:rE,useContext:Ln,useEffect:eE,useImperativeHandle:sE,useInsertionEffect:tE,useLayoutEffect:nE,useMemo:aE,useReducer:qp,useRef:ZS,useState:function(){return qp(cr)},useDebugValue:_v,useDeferredValue:function(i,a){var l=Zt();return oE(l,mt.memoizedState,i,a)},useTransition:function(){var i=qp(cr)[0],a=Zt().memoizedState;return[typeof i=="boolean"?i:kh(i),a]},useSyncExternalStore:PS,useId:hE,useHostTransitionStatus:Rv,useFormState:WS,useActionState:WS,useOptimistic:function(i,a){var l=Zt();return zS(l,mt,i,a)},useMemoCache:wv,useCacheRefresh:dE},HN={readContext:Ln,use:zp,useCallback:rE,useContext:Ln,useEffect:eE,useImperativeHandle:sE,useInsertionEffect:tE,useLayoutEffect:nE,useMemo:aE,useReducer:Ev,useRef:ZS,useState:function(){return Ev(cr)},useDebugValue:_v,useDeferredValue:function(i,a){var l=Zt();return mt===null?Cv(l,i,a):oE(l,mt.memoizedState,i,a)},useTransition:function(){var i=Ev(cr)[0],a=Zt().memoizedState;return[typeof i=="boolean"?i:kh(i),a]},useSyncExternalStore:PS,useId:hE,useHostTransitionStatus:Rv,useFormState:KS,useActionState:KS,useOptimistic:function(i,a){var l=Zt();return mt!==null?zS(l,mt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:wv,useCacheRefresh:dE},Tc=null,Ih=0;function Xp(i){var a=Ih;return Ih+=1,Tc===null&&(Tc=[]),NS(Tc,i,a)}function Fh(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Wp(i,a){throw a.$$typeof===g?Error(n(525)):(i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function yE(i){var a=i._init;return a(i._payload)}function bE(i){function a(K,X){if(i){var Z=K.deletions;Z===null?(K.deletions=[X],K.flags|=16):Z.push(X)}}function l(K,X){if(!i)return null;for(;X!==null;)a(K,X),X=X.sibling;return null}function f(K){for(var X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function v(K,X){return K=sr(K,X),K.index=0,K.sibling=null,K}function x(K,X,Z){return K.index=Z,i?(Z=K.alternate,Z!==null?(Z=Z.index,Z<X?(K.flags|=67108866,X):Z):(K.flags|=67108866,X)):(K.flags|=1048576,X)}function M(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function P(K,X,Z,he){return X===null||X.tag!==6?(X=K0(Z,K.mode,he),X.return=K,X):(X=v(X,Z),X.return=K,X)}function $(K,X,Z,he){var Ee=Z.type;return Ee===S?le(K,X,Z.props.children,he,Z.key):X!==null&&(X.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===U&&yE(Ee)===X.type)?(X=v(X,Z.props),Fh(X,Z),X.return=K,X):(X=Dp(Z.type,Z.key,Z.props,null,K.mode,he),Fh(X,Z),X.return=K,X)}function J(K,X,Z,he){return X===null||X.tag!==4||X.stateNode.containerInfo!==Z.containerInfo||X.stateNode.implementation!==Z.implementation?(X=Z0(Z,K.mode,he),X.return=K,X):(X=v(X,Z.children||[]),X.return=K,X)}function le(K,X,Z,he,Ee){return X===null||X.tag!==7?(X=So(Z,K.mode,he,Ee),X.return=K,X):(X=v(X,Z),X.return=K,X)}function fe(K,X,Z){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=K0(""+X,K.mode,Z),X.return=K,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return Z=Dp(X.type,X.key,X.props,null,K.mode,Z),Fh(Z,X),Z.return=K,Z;case w:return X=Z0(X,K.mode,Z),X.return=K,X;case U:var he=X._init;return X=he(X._payload),fe(K,X,Z)}if(de(X)||ee(X))return X=So(X,K.mode,Z,null),X.return=K,X;if(typeof X.then=="function")return fe(K,Xp(X),Z);if(X.$$typeof===R)return fe(K,jp(K,X),Z);Wp(K,X)}return null}function ne(K,X,Z,he){var Ee=X!==null?X.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ee!==null?null:P(K,X,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Ee?$(K,X,Z,he):null;case w:return Z.key===Ee?J(K,X,Z,he):null;case U:return Ee=Z._init,Z=Ee(Z._payload),ne(K,X,Z,he)}if(de(Z)||ee(Z))return Ee!==null?null:le(K,X,Z,he,null);if(typeof Z.then=="function")return ne(K,X,Xp(Z),he);if(Z.$$typeof===R)return ne(K,X,jp(K,Z),he);Wp(K,Z)}return null}function re(K,X,Z,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return K=K.get(Z)||null,P(X,K,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return K=K.get(he.key===null?Z:he.key)||null,$(X,K,he,Ee);case w:return K=K.get(he.key===null?Z:he.key)||null,J(X,K,he,Ee);case U:var ze=he._init;return he=ze(he._payload),re(K,X,Z,he,Ee)}if(de(he)||ee(he))return K=K.get(Z)||null,le(X,K,he,Ee,null);if(typeof he.then=="function")return re(K,X,Z,Xp(he),Ee);if(he.$$typeof===R)return re(K,X,Z,jp(X,he),Ee);Wp(X,he)}return null}function Re(K,X,Z,he){for(var Ee=null,ze=null,Te=X,Ne=X=0,gn=null;Te!==null&&Ne<Z.length;Ne++){Te.index>Ne?(gn=Te,Te=null):gn=Te.sibling;var Qe=ne(K,Te,Z[Ne],he);if(Qe===null){Te===null&&(Te=gn);break}i&&Te&&Qe.alternate===null&&a(K,Te),X=x(Qe,X,Ne),ze===null?Ee=Qe:ze.sibling=Qe,ze=Qe,Te=gn}if(Ne===Z.length)return l(K,Te),Ze&&Ao(K,Ne),Ee;if(Te===null){for(;Ne<Z.length;Ne++)Te=fe(K,Z[Ne],he),Te!==null&&(X=x(Te,X,Ne),ze===null?Ee=Te:ze.sibling=Te,ze=Te);return Ze&&Ao(K,Ne),Ee}for(Te=f(Te);Ne<Z.length;Ne++)gn=re(Te,K,Ne,Z[Ne],he),gn!==null&&(i&&gn.alternate!==null&&Te.delete(gn.key===null?Ne:gn.key),X=x(gn,X,Ne),ze===null?Ee=gn:ze.sibling=gn,ze=gn);return i&&Te.forEach(function(Ca){return a(K,Ca)}),Ze&&Ao(K,Ne),Ee}function Ce(K,X,Z,he){if(Z==null)throw Error(n(151));for(var Ee=null,ze=null,Te=X,Ne=X=0,gn=null,Qe=Z.next();Te!==null&&!Qe.done;Ne++,Qe=Z.next()){Te.index>Ne?(gn=Te,Te=null):gn=Te.sibling;var Ca=ne(K,Te,Qe.value,he);if(Ca===null){Te===null&&(Te=gn);break}i&&Te&&Ca.alternate===null&&a(K,Te),X=x(Ca,X,Ne),ze===null?Ee=Ca:ze.sibling=Ca,ze=Ca,Te=gn}if(Qe.done)return l(K,Te),Ze&&Ao(K,Ne),Ee;if(Te===null){for(;!Qe.done;Ne++,Qe=Z.next())Qe=fe(K,Qe.value,he),Qe!==null&&(X=x(Qe,X,Ne),ze===null?Ee=Qe:ze.sibling=Qe,ze=Qe);return Ze&&Ao(K,Ne),Ee}for(Te=f(Te);!Qe.done;Ne++,Qe=Z.next())Qe=re(Te,K,Ne,Qe.value,he),Qe!==null&&(i&&Qe.alternate!==null&&Te.delete(Qe.key===null?Ne:Qe.key),X=x(Qe,X,Ne),ze===null?Ee=Qe:ze.sibling=Qe,ze=Qe);return i&&Te.forEach(function(U6){return a(K,U6)}),Ze&&Ao(K,Ne),Ee}function vt(K,X,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Ee=Z.key;X!==null;){if(X.key===Ee){if(Ee=Z.type,Ee===S){if(X.tag===7){l(K,X.sibling),he=v(X,Z.props.children),he.return=K,K=he;break e}}else if(X.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===U&&yE(Ee)===X.type){l(K,X.sibling),he=v(X,Z.props),Fh(he,Z),he.return=K,K=he;break e}l(K,X);break}else a(K,X);X=X.sibling}Z.type===S?(he=So(Z.props.children,K.mode,he,Z.key),he.return=K,K=he):(he=Dp(Z.type,Z.key,Z.props,null,K.mode,he),Fh(he,Z),he.return=K,K=he)}return M(K);case w:e:{for(Ee=Z.key;X!==null;){if(X.key===Ee)if(X.tag===4&&X.stateNode.containerInfo===Z.containerInfo&&X.stateNode.implementation===Z.implementation){l(K,X.sibling),he=v(X,Z.children||[]),he.return=K,K=he;break e}else{l(K,X);break}else a(K,X);X=X.sibling}he=Z0(Z,K.mode,he),he.return=K,K=he}return M(K);case U:return Ee=Z._init,Z=Ee(Z._payload),vt(K,X,Z,he)}if(de(Z))return Re(K,X,Z,he);if(ee(Z)){if(Ee=ee(Z),typeof Ee!="function")throw Error(n(150));return Z=Ee.call(Z),Ce(K,X,Z,he)}if(typeof Z.then=="function")return vt(K,X,Xp(Z),he);if(Z.$$typeof===R)return vt(K,X,jp(K,Z),he);Wp(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,X!==null&&X.tag===6?(l(K,X.sibling),he=v(X,Z),he.return=K,K=he):(l(K,X),he=K0(Z,K.mode,he),he.return=K,K=he),M(K)):l(K,X)}return function(K,X,Z,he){try{Ih=0;var Ee=vt(K,X,Z,he);return Tc=null,Ee}catch(Te){if(Te===Nh||Te===Ip)throw Te;var ze=pi(29,Te,null,K.mode);return ze.lanes=he,ze.return=K,ze}finally{}}}var _c=bE(!0),xE=bE(!1),qi=se(null),Ts=null;function da(i){var a=i.alternate;ge(rn,rn.current&1),ge(qi,i),Ts===null&&(a===null||wc.current!==null||a.memoizedState!==null)&&(Ts=i)}function wE(i){if(i.tag===22){if(ge(rn,rn.current),ge(qi,i),Ts===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Ts=i)}}else fa()}function fa(){ge(rn,rn.current),ge(qi,qi.current)}function ur(i){me(qi),Ts===i&&(Ts=null),me(rn)}var rn=se(0);function Qp(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||x1(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Dv(i,a,l,f){a=i.memoizedState,l=l(f,a),l=l==null?a:p({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Lv={enqueueSetState:function(i,a,l){i=i._reactInternals;var f=yi(),v=ca(f);v.payload=a,l!=null&&(v.callback=l),a=ua(i,v,f),a!==null&&(bi(a,i,f),Mh(a,i,f))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var f=yi(),v=ca(f);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=ua(i,v,f),a!==null&&(bi(a,i,f),Mh(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=yi(),f=ca(l);f.tag=2,a!=null&&(f.callback=a),a=ua(i,f,l),a!==null&&(bi(a,i,l),Mh(a,i,l))}};function SE(i,a,l,f,v,x,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,x,M):a.prototype&&a.prototype.isPureReactComponent?!xh(l,f)||!xh(v,x):!0}function EE(i,a,l,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,f),a.state!==i&&Lv.enqueueReplaceState(a,a.state,null)}function Do(i,a){var l=a;if("ref"in a){l={};for(var f in a)f!=="ref"&&(l[f]=a[f])}if(i=i.defaultProps){l===a&&(l=p({},l));for(var v in i)l[v]===void 0&&(l[v]=i[v])}return l}var Kp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function AE(i){Kp(i)}function TE(i){console.error(i)}function _E(i){Kp(i)}function Zp(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function CE(i,a,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Ov(i,a,l){return l=ca(l),l.tag=3,l.payload={element:null},l.callback=function(){Zp(i,a)},l}function NE(i){return i=ca(i),i.tag=3,i}function RE(i,a,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=f.value;i.payload=function(){return v(x)},i.callback=function(){CE(a,l,f)}}var M=l.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){CE(a,l,f),typeof v!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function UN(i,a,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=l.alternate,a!==null&&Th(a,l,v,!0),l=qi.current,l!==null){switch(l.tag){case 13:return Ts===null?i1():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===lv?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([f]):a.add(f),r1(i,f,v)),!1;case 22:return l.flags|=65536,f===lv?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([f]):l.add(f)),r1(i,f,v)),!1}throw Error(n(435,l.tag))}return r1(i,f,v),i1(),!1}if(Ze)return a=qi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==tv&&(i=Error(n(422),{cause:f}),Ah(Bi(i,l)))):(f!==tv&&(a=Error(n(423),{cause:f}),Ah(Bi(a,l))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=Bi(f,l),v=Ov(i.stateNode,f,v),hv(i,v),Bt!==4&&(Bt=2)),!1;var x=Error(n(520),{cause:f});if(x=Bi(x,l),Vh===null?Vh=[x]:Vh.push(x),Bt!==4&&(Bt=2),a===null)return!0;f=Bi(f,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=v&-v,l.lanes|=i,i=Ov(l.stateNode,f,i),hv(l,i),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ba===null||!ba.has(x))))return l.flags|=65536,v&=-v,l.lanes|=v,v=NE(v),RE(v,i,l,f),hv(l,v),!1}l=l.return}while(l!==null);return!1}var ME=Error(n(461)),pn=!1;function En(i,a,l,f){a.child=i===null?xE(a,null,l,f):_c(a,i.child,l,f)}function DE(i,a,l,f,v){l=l.render;var x=a.ref;if("ref"in f){var M={};for(var P in f)P!=="ref"&&(M[P]=f[P])}else M=f;return No(a),f=gv(i,a,l,M,x,v),P=vv(),i!==null&&!pn?(yv(i,a,v),hr(i,a,v)):(Ze&&P&&J0(a),a.flags|=1,En(i,a,f,v),a.child)}function LE(i,a,l,f,v){if(i===null){var x=l.type;return typeof x=="function"&&!Q0(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,OE(i,a,x,f,v)):(i=Dp(l.type,null,f,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(x=i.child,!Uv(i,v)){var M=x.memoizedProps;if(l=l.compare,l=l!==null?l:xh,l(M,f)&&i.ref===a.ref)return hr(i,a,v)}return a.flags|=1,i=sr(x,f),i.ref=a.ref,i.return=a,a.child=i}function OE(i,a,l,f,v){if(i!==null){var x=i.memoizedProps;if(xh(x,f)&&i.ref===a.ref)if(pn=!1,a.pendingProps=f=x,Uv(i,v))(i.flags&131072)!==0&&(pn=!0);else return a.lanes=i.lanes,hr(i,a,v)}return kv(i,a,l,f,v)}function kE(i,a,l){var f=a.pendingProps,v=f.children,x=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=x!==null?x.baseLanes|l:l,i!==null){for(v=a.child=i.child,x=0;v!==null;)x=x|v.lanes|v.childLanes,v=v.sibling;a.childLanes=x&~f}else a.childLanes=0,a.child=null;return jE(i,a,f,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Pp(a,x!==null?x.cachePool:null),x!==null?OS(a,x):fv(),wE(a);else return a.lanes=a.childLanes=536870912,jE(i,a,x!==null?x.baseLanes|l:l,l)}else x!==null?(Pp(a,x.cachePool),OS(a,x),fa(),a.memoizedState=null):(i!==null&&Pp(a,null),fv(),fa());return En(i,a,v,l),a.child}function jE(i,a,l,f){var v=ov();return v=v===null?null:{parent:sn._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},i!==null&&Pp(a,null),fv(),wE(a),i!==null&&Th(i,a,f,!0),null}function Jp(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function kv(i,a,l,f,v){return No(a),l=gv(i,a,l,f,void 0,v),f=vv(),i!==null&&!pn?(yv(i,a,v),hr(i,a,v)):(Ze&&f&&J0(a),a.flags|=1,En(i,a,l,v),a.child)}function PE(i,a,l,f,v,x){return No(a),a.updateQueue=null,l=jS(a,f,l,v),kS(i),f=vv(),i!==null&&!pn?(yv(i,a,x),hr(i,a,x)):(Ze&&f&&J0(a),a.flags|=1,En(i,a,l,x),a.child)}function IE(i,a,l,f,v){if(No(a),a.stateNode===null){var x=gc,M=l.contextType;typeof M=="object"&&M!==null&&(x=Ln(M)),x=new l(f,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Lv,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=f,x.state=a.memoizedState,x.refs={},cv(a),M=l.contextType,x.context=typeof M=="object"&&M!==null?Ln(M):gc,x.state=a.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(Dv(a,l,M,f),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(M=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),M!==x.state&&Lv.enqueueReplaceState(x,x.state,null),Lh(a,f,x,v),Dh(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){x=a.stateNode;var P=a.memoizedProps,$=Do(l,P);x.props=$;var J=x.context,le=l.contextType;M=gc,typeof le=="object"&&le!==null&&(M=Ln(le));var fe=l.getDerivedStateFromProps;le=typeof fe=="function"||typeof x.getSnapshotBeforeUpdate=="function",P=a.pendingProps!==P,le||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P||J!==M)&&EE(a,x,f,M),la=!1;var ne=a.memoizedState;x.state=ne,Lh(a,f,x,v),Dh(),J=a.memoizedState,P||ne!==J||la?(typeof fe=="function"&&(Dv(a,l,fe,f),J=a.memoizedState),($=la||SE(a,l,$,f,ne,J,M))?(le||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=J),x.props=f,x.state=J,x.context=M,f=$):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{x=a.stateNode,uv(i,a),M=a.memoizedProps,le=Do(l,M),x.props=le,fe=a.pendingProps,ne=x.context,J=l.contextType,$=gc,typeof J=="object"&&J!==null&&($=Ln(J)),P=l.getDerivedStateFromProps,(J=typeof P=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M!==fe||ne!==$)&&EE(a,x,f,$),la=!1,ne=a.memoizedState,x.state=ne,Lh(a,f,x,v),Dh();var re=a.memoizedState;M!==fe||ne!==re||la||i!==null&&i.dependencies!==null&&kp(i.dependencies)?(typeof P=="function"&&(Dv(a,l,P,f),re=a.memoizedState),(le=la||SE(a,l,le,f,ne,re,$)||i!==null&&i.dependencies!==null&&kp(i.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,re,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,re,$)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||M===i.memoizedProps&&ne===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ne===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=re),x.props=f,x.state=re,x.context=$,f=le):(typeof x.componentDidUpdate!="function"||M===i.memoizedProps&&ne===i.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ne===i.memoizedState||(a.flags|=1024),f=!1)}return x=f,Jp(i,a),f=(a.flags&128)!==0,x||f?(x=a.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,i!==null&&f?(a.child=_c(a,i.child,null,v),a.child=_c(a,null,l,v)):En(i,a,l,v),a.memoizedState=x.state,i=a.child):i=hr(i,a,v),i}function FE(i,a,l,f){return Eh(),a.flags|=256,En(i,a,l,f),a.child}var jv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pv(i){return{baseLanes:i,cachePool:TS()}}function Iv(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Gi),i}function BE(i,a,l){var f=a.pendingProps,v=!1,x=(a.flags&128)!==0,M;if((M=x)||(M=i!==null&&i.memoizedState===null?!1:(rn.current&2)!==0),M&&(v=!0,a.flags&=-129),M=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ze){if(v?da(a):fa(),Ze){var P=Ft,$;if($=P){e:{for($=P,P=As;$.nodeType!==8;){if(!P){P=null;break e}if($=rs($.nextSibling),$===null){P=null;break e}}P=$}P!==null?(a.memoizedState={dehydrated:P,treeContext:Eo!==null?{id:rr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},$=pi(18,null,null,0),$.stateNode=P,$.return=a,a.child=$,qn=a,Ft=null,$=!0):$=!1}$||_o(a)}if(P=a.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return x1(P)?a.lanes=32:a.lanes=536870912,null;ur(a)}return P=f.children,f=f.fallback,v?(fa(),v=a.mode,P=em({mode:"hidden",children:P},v),f=So(f,v,l,null),P.return=a,f.return=a,P.sibling=f,a.child=P,v=a.child,v.memoizedState=Pv(l),v.childLanes=Iv(i,M,l),a.memoizedState=jv,f):(da(a),Fv(a,P))}if($=i.memoizedState,$!==null&&(P=$.dehydrated,P!==null)){if(x)a.flags&256?(da(a),a.flags&=-257,a=Bv(i,a,l)):a.memoizedState!==null?(fa(),a.child=i.child,a.flags|=128,a=null):(fa(),v=f.fallback,P=a.mode,f=em({mode:"visible",children:f.children},P),v=So(v,P,l,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,_c(a,i.child,null,l),f=a.child,f.memoizedState=Pv(l),f.childLanes=Iv(i,M,l),a.memoizedState=jv,a=v);else if(da(a),x1(P)){if(M=P.nextSibling&&P.nextSibling.dataset,M)var J=M.dgst;M=J,f=Error(n(419)),f.stack="",f.digest=M,Ah({value:f,source:null,stack:null}),a=Bv(i,a,l)}else if(pn||Th(i,a,l,!1),M=(l&i.childLanes)!==0,pn||M){if(M=Et,M!==null&&(f=l&-l,f=(f&42)!==0?1:w0(f),f=(f&(M.suspendedLanes|l))!==0?0:f,f!==0&&f!==$.retryLane))throw $.retryLane=f,mc(i,f),bi(M,i,f),ME;P.data==="$?"||i1(),a=Bv(i,a,l)}else P.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=$.treeContext,Ft=rs(P.nextSibling),qn=a,Ze=!0,To=null,As=!1,i!==null&&(Ui[zi++]=rr,Ui[zi++]=ar,Ui[zi++]=Eo,rr=i.id,ar=i.overflow,Eo=a),a=Fv(a,f.children),a.flags|=4096);return a}return v?(fa(),v=f.fallback,P=a.mode,$=i.child,J=$.sibling,f=sr($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,J!==null?v=sr(J,v):(v=So(v,P,l,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,P=i.child.memoizedState,P===null?P=Pv(l):($=P.cachePool,$!==null?(J=sn._currentValue,$=$.parent!==J?{parent:J,pool:J}:$):$=TS(),P={baseLanes:P.baseLanes|l,cachePool:$}),v.memoizedState=P,v.childLanes=Iv(i,M,l),a.memoizedState=jv,f):(da(a),l=i.child,i=l.sibling,l=sr(l,{mode:"visible",children:f.children}),l.return=a,l.sibling=null,i!==null&&(M=a.deletions,M===null?(a.deletions=[i],a.flags|=16):M.push(i)),a.child=l,a.memoizedState=null,l)}function Fv(i,a){return a=em({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function em(i,a){return i=pi(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Bv(i,a,l){return _c(a,i.child,null,l),i=Fv(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function HE(i,a,l){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),iv(i.return,a,l)}function Hv(i,a,l,f,v){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=l,x.tailMode=v)}function UE(i,a,l){var f=a.pendingProps,v=f.revealOrder,x=f.tail;if(En(i,a,f.children,l),f=rn.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&HE(i,l,a);else if(i.tag===19)HE(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(ge(rn,f),v){case"forwards":for(l=a.child,v=null;l!==null;)i=l.alternate,i!==null&&Qp(i)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),Hv(a,!1,v,l,x);break;case"backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Qp(i)===null){a.child=v;break}i=v.sibling,v.sibling=l,l=v,v=i}Hv(a,!0,l,null,x);break;case"together":Hv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function hr(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ya|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Th(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,l=sr(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=sr(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Uv(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&kp(i)))}function zN(i,a,l){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),oa(a,sn,i.memoizedState.cache),Eh();break;case 27:case 5:Ke(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:oa(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(da(a),a.flags|=128,null):(l&a.child.childLanes)!==0?BE(i,a,l):(da(a),i=hr(i,a,l),i!==null?i.sibling:null);da(a);break;case 19:var v=(i.flags&128)!==0;if(f=(l&a.childLanes)!==0,f||(Th(i,a,l,!1),f=(l&a.childLanes)!==0),v){if(f)return UE(i,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ge(rn,rn.current),f)break;return null;case 22:case 23:return a.lanes=0,kE(i,a,l);case 24:oa(a,sn,i.memoizedState.cache)}return hr(i,a,l)}function zE(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)pn=!0;else{if(!Uv(i,l)&&(a.flags&128)===0)return pn=!1,zN(i,a,l);pn=(i.flags&131072)!==0}else pn=!1,Ze&&(a.flags&1048576)!==0&&yS(a,Op,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var f=a.elementType,v=f._init;if(f=v(f._payload),a.type=f,typeof f=="function")Q0(f)?(i=Do(f,i),a.tag=1,a=IE(null,a,f,i,l)):(a.tag=0,a=kv(null,a,f,i,l));else{if(f!=null){if(v=f.$$typeof,v===N){a.tag=11,a=DE(null,a,f,i,l);break e}else if(v===F){a.tag=14,a=LE(null,a,f,i,l);break e}}throw a=oe(f)||f,Error(n(306,a,""))}}return a;case 0:return kv(i,a,a.type,a.pendingProps,l);case 1:return f=a.type,v=Do(f,a.pendingProps),IE(i,a,f,v,l);case 3:e:{if(ke(a,a.stateNode.containerInfo),i===null)throw Error(n(387));f=a.pendingProps;var x=a.memoizedState;v=x.element,uv(i,a),Lh(a,f,null,l);var M=a.memoizedState;if(f=M.cache,oa(a,sn,f),f!==x.cache&&sv(a,[sn],l,!0),Dh(),f=M.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:M.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=FE(i,a,f,l);break e}else if(f!==v){v=Bi(Error(n(424)),a),Ah(v),a=FE(i,a,f,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ft=rs(i.firstChild),qn=a,Ze=!0,To=null,As=!0,l=xE(a,null,f,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Eh(),f===v){a=hr(i,a,l);break e}En(i,a,f,l)}a=a.child}return a;case 26:return Jp(i,a),i===null?(l=$A(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ze||(l=a.type,i=a.pendingProps,f=pm(we.current).createElement(l),f[Dn]=a,f[ti]=i,Tn(f,l,i),fn(f),a.stateNode=f):a.memoizedState=$A(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ke(a),i===null&&Ze&&(f=a.stateNode=qA(a.type,a.pendingProps,we.current),qn=a,As=!0,v=Ft,Sa(a.type)?(w1=v,Ft=rs(f.firstChild)):Ft=v),En(i,a,a.pendingProps.children,l),Jp(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ze&&((v=f=Ft)&&(f=g6(f,a.type,a.pendingProps,As),f!==null?(a.stateNode=f,qn=a,Ft=rs(f.firstChild),As=!1,v=!0):v=!1),v||_o(a)),Ke(a),v=a.type,x=a.pendingProps,M=i!==null?i.memoizedProps:null,f=x.children,v1(v,x)?f=null:M!==null&&v1(v,M)&&(a.flags|=32),a.memoizedState!==null&&(v=gv(i,a,kN,null,null,l),ed._currentValue=v),Jp(i,a),En(i,a,f,l),a.child;case 6:return i===null&&Ze&&((i=l=Ft)&&(l=v6(l,a.pendingProps,As),l!==null?(a.stateNode=l,qn=a,Ft=null,i=!0):i=!1),i||_o(a)),null;case 13:return BE(i,a,l);case 4:return ke(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=_c(a,null,f,l):En(i,a,f,l),a.child;case 11:return DE(i,a,a.type,a.pendingProps,l);case 7:return En(i,a,a.pendingProps,l),a.child;case 8:return En(i,a,a.pendingProps.children,l),a.child;case 12:return En(i,a,a.pendingProps.children,l),a.child;case 10:return f=a.pendingProps,oa(a,a.type,f.value),En(i,a,f.children,l),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,No(a),v=Ln(v),f=f(v),a.flags|=1,En(i,a,f,l),a.child;case 14:return LE(i,a,a.type,a.pendingProps,l);case 15:return OE(i,a,a.type,a.pendingProps,l);case 19:return UE(i,a,l);case 31:return f=a.pendingProps,l=a.mode,f={mode:f.mode,children:f.children},i===null?(l=em(f,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=sr(i.child,f),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return kE(i,a,l);case 24:return No(a),f=Ln(sn),i===null?(v=ov(),v===null&&(v=Et,x=rv(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=l),v=x),a.memoizedState={parent:f,cache:v},cv(a),oa(a,sn,v)):((i.lanes&l)!==0&&(uv(i,a),Lh(a,null,null,l),Dh()),v=i.memoizedState,x=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),oa(a,sn,f)):(f=x.cache,oa(a,sn,f),f!==v.cache&&sv(a,[sn],l,!0))),En(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function dr(i){i.flags|=4}function qE(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!KA(a)){if(a=qi.current,a!==null&&((We&4194048)===We?Ts!==null:(We&62914560)!==We&&(We&536870912)===0||a!==Ts))throw Rh=lv,_S;i.flags|=8192}}function tm(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ww():536870912,i.lanes|=a,Mc|=a)}function Bh(i,a){if(!Ze)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Mt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(a)for(var v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=l,a}function qN(i,a,l){var f=a.pendingProps;switch(ev(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return l=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),lr(sn),_t(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Sh(a)?dr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,wS())),Mt(a),null;case 26:return l=a.memoizedState,i===null?(dr(a),l!==null?(Mt(a),qE(a,l)):(Mt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(dr(a),Mt(a),qE(a,l)):(Mt(a),a.flags&=-16777217):(i.memoizedProps!==f&&dr(a),Mt(a),a.flags&=-16777217),null;case 27:ki(a),l=we.current;var v=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==f&&dr(a);else{if(!f){if(a.stateNode===null)throw Error(n(166));return Mt(a),null}i=xe.current,Sh(a)?bS(a):(i=qA(v,f,l),a.stateNode=i,dr(a))}return Mt(a),null;case 5:if(ki(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&dr(a);else{if(!f){if(a.stateNode===null)throw Error(n(166));return Mt(a),null}if(i=xe.current,Sh(a))bS(a);else{switch(v=pm(we.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?v.createElement(l,{is:f.is}):v.createElement(l)}}i[Dn]=a,i[ti]=f;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=i;e:switch(Tn(i,l,f),l){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&dr(a)}}return Mt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&dr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(n(166));if(i=we.current,Sh(a)){if(i=a.stateNode,l=a.memoizedProps,f=null,v=qn,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[Dn]=a,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||PA(i.nodeValue,l)),i||_o(a)}else i=pm(i).createTextNode(f),i[Dn]=a,a.stateNode=i}return Mt(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Sh(a),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Dn]=a}else Eh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),v=!1}else v=wS(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(ur(a),a):(ur(a),null)}if(ur(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=f!==null,i=i!==null&&i.memoizedState!==null,l){f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==v&&(f.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),tm(a,a.updateQueue),Mt(a),null;case 4:return _t(),i===null&&d1(a.stateNode.containerInfo),Mt(a),null;case 10:return lr(a.type),Mt(a),null;case 19:if(me(rn),v=a.memoizedState,v===null)return Mt(a),null;if(f=(a.flags&128)!==0,x=v.rendering,x===null)if(f)Bh(v,!1);else{if(Bt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(x=Qp(i),x!==null){for(a.flags|=128,Bh(v,!1),i=x.updateQueue,a.updateQueue=i,tm(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)vS(l,i),l=l.sibling;return ge(rn,rn.current&1|2),a.child}i=i.sibling}v.tail!==null&&qt()>sm&&(a.flags|=128,f=!0,Bh(v,!1),a.lanes=4194304)}else{if(!f)if(i=Qp(x),i!==null){if(a.flags|=128,f=!0,i=i.updateQueue,a.updateQueue=i,tm(a,i),Bh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!Ze)return Mt(a),null}else 2*qt()-v.renderingStartTime>sm&&l!==536870912&&(a.flags|=128,f=!0,Bh(v,!1),a.lanes=4194304);v.isBackwards?(x.sibling=a.child,a.child=x):(i=v.last,i!==null?i.sibling=x:a.child=x,v.last=x)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=qt(),a.sibling=null,i=rn.current,ge(rn,f?i&1|2:i&1),a):(Mt(a),null);case 22:case 23:return ur(a),pv(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(l&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),l=a.updateQueue,l!==null&&tm(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==l&&(a.flags|=2048),i!==null&&me(Ro),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),lr(sn),Mt(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function GN(i,a){switch(ev(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return lr(sn),_t(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ki(a),null;case 13:if(ur(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Eh()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return me(rn),null;case 4:return _t(),null;case 10:return lr(a.type),null;case 22:case 23:return ur(a),pv(),i!==null&&me(Ro),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return lr(sn),null;case 25:return null;default:return null}}function GE(i,a){switch(ev(a),a.tag){case 3:lr(sn),_t();break;case 26:case 27:case 5:ki(a);break;case 4:_t();break;case 13:ur(a);break;case 19:me(rn);break;case 10:lr(a.type);break;case 22:case 23:ur(a),pv(),i!==null&&me(Ro);break;case 24:lr(sn)}}function Hh(i,a){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&i)===i){f=void 0;var x=l.create,M=l.inst;f=x(),M.destroy=f}l=l.next}while(l!==v)}}catch(P){wt(a,a.return,P)}}function pa(i,a,l){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var x=v.next;f=x;do{if((f.tag&i)===i){var M=f.inst,P=M.destroy;if(P!==void 0){M.destroy=void 0,v=a;var $=l,J=P;try{J()}catch(le){wt(v,$,le)}}}f=f.next}while(f!==x)}}catch(le){wt(a,a.return,le)}}function VE(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{LS(a,l)}catch(f){wt(i,i.return,f)}}}function $E(i,a,l){l.props=Do(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){wt(i,a,f)}}function Uh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(v){wt(i,a,v)}}function _s(i,a){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){wt(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){wt(i,a,v)}else l.current=null}function YE(i){var a=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){wt(i,i.return,v)}}function zv(i,a,l){try{var f=i.stateNode;h6(f,i.type,l,a),f[ti]=a}catch(v){wt(i,i.return,v)}}function XE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sa(i.type)||i.tag===4}function qv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||XE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gv(i,a,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=fm));else if(f!==4&&(f===27&&Sa(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Gv(i,a,l),i=i.sibling;i!==null;)Gv(i,a,l),i=i.sibling}function nm(i,a,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(f!==4&&(f===27&&Sa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(nm(i,a,l),i=i.sibling;i!==null;)nm(i,a,l),i=i.sibling}function WE(i){var a=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Tn(a,f,l),a[Dn]=i,a[ti]=l}catch(x){wt(i,i.return,x)}}var fr=!1,Vt=!1,Vv=!1,QE=typeof WeakSet=="function"?WeakSet:Set,mn=null;function VN(i,a){if(i=i.containerInfo,m1=xm,i=oS(i),q0(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var M=0,P=-1,$=-1,J=0,le=0,fe=i,ne=null;t:for(;;){for(var re;fe!==l||v!==0&&fe.nodeType!==3||(P=M+v),fe!==x||f!==0&&fe.nodeType!==3||($=M+f),fe.nodeType===3&&(M+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===i)break t;if(ne===l&&++J===v&&(P=M),ne===x&&++le===f&&($=M),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}l=P===-1||$===-1?null:{start:P,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(g1={focusedElem:i,selectionRange:l},xm=!1,mn=a;mn!==null;)if(a=mn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,mn=i;else for(;mn!==null;){switch(a=mn,x=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=a,v=x.memoizedProps,x=x.memoizedState,f=l.stateNode;try{var Re=Do(l.type,v,l.elementType===l.type);i=f.getSnapshotBeforeUpdate(Re,x),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ce){wt(l,l.return,Ce)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)b1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":b1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=a.sibling,i!==null){i.return=a.return,mn=i;break}mn=a.return}}function KE(i,a,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:ma(i,l),f&4&&Hh(5,l);break;case 1:if(ma(i,l),f&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(M){wt(l,l.return,M)}else{var v=Do(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(M){wt(l,l.return,M)}}f&64&&VE(l),f&512&&Uh(l,l.return);break;case 3:if(ma(i,l),f&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{LS(i,a)}catch(M){wt(l,l.return,M)}}break;case 27:a===null&&f&4&&WE(l);case 26:case 5:ma(i,l),a===null&&f&4&&YE(l),f&512&&Uh(l,l.return);break;case 12:ma(i,l);break;case 13:ma(i,l),f&4&&eA(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=e6.bind(null,l),y6(i,l))));break;case 22:if(f=l.memoizedState!==null||fr,!f){a=a!==null&&a.memoizedState!==null||Vt,v=fr;var x=Vt;fr=f,(Vt=a)&&!x?ga(i,l,(l.subtreeFlags&8772)!==0):ma(i,l),fr=v,Vt=x}break;case 30:break;default:ma(i,l)}}function ZE(i){var a=i.alternate;a!==null&&(i.alternate=null,ZE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&A0(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,si=!1;function pr(i,a,l){for(l=l.child;l!==null;)JE(i,a,l),l=l.sibling}function JE(i,a,l){if(j&&typeof j.onCommitFiberUnmount=="function")try{j.onCommitFiberUnmount(tr,l)}catch{}switch(l.tag){case 26:Vt||_s(l,a),pr(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Vt||_s(l,a);var f=Ct,v=si;Sa(l.type)&&(Ct=l.stateNode,si=!1),pr(i,a,l),Qh(l.stateNode),Ct=f,si=v;break;case 5:Vt||_s(l,a);case 6:if(f=Ct,v=si,Ct=null,pr(i,a,l),Ct=f,si=v,Ct!==null)if(si)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(l.stateNode)}catch(x){wt(l,a,x)}else try{Ct.removeChild(l.stateNode)}catch(x){wt(l,a,x)}break;case 18:Ct!==null&&(si?(i=Ct,UA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),sd(i)):UA(Ct,l.stateNode));break;case 4:f=Ct,v=si,Ct=l.stateNode.containerInfo,si=!0,pr(i,a,l),Ct=f,si=v;break;case 0:case 11:case 14:case 15:Vt||pa(2,l,a),Vt||pa(4,l,a),pr(i,a,l);break;case 1:Vt||(_s(l,a),f=l.stateNode,typeof f.componentWillUnmount=="function"&&$E(l,a,f)),pr(i,a,l);break;case 21:pr(i,a,l);break;case 22:Vt=(f=Vt)||l.memoizedState!==null,pr(i,a,l),Vt=f;break;default:pr(i,a,l)}}function eA(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{sd(i)}catch(l){wt(a,a.return,l)}}function $N(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new QE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new QE),a;default:throw Error(n(435,i.tag))}}function $v(i,a){var l=$N(i);a.forEach(function(f){var v=t6.bind(null,i,f);l.has(f)||(l.add(f),f.then(v,v))})}function mi(i,a){var l=a.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],x=i,M=a,P=M;e:for(;P!==null;){switch(P.tag){case 27:if(Sa(P.type)){Ct=P.stateNode,si=!1;break e}break;case 5:Ct=P.stateNode,si=!1;break e;case 3:case 4:Ct=P.stateNode.containerInfo,si=!0;break e}P=P.return}if(Ct===null)throw Error(n(160));JE(x,M,v),Ct=null,si=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)tA(a,i),a=a.sibling}var ss=null;function tA(i,a){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mi(a,i),gi(i),f&4&&(pa(3,i,i.return),Hh(3,i),pa(5,i,i.return));break;case 1:mi(a,i),gi(i),f&512&&(Vt||l===null||_s(l,l.return)),f&64&&fr&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=ss;if(mi(a,i),gi(i),f&512&&(Vt||l===null||_s(l,l.return)),f&4){var x=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":x=v.getElementsByTagName("title")[0],(!x||x[hh]||x[Dn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(f),v.head.insertBefore(x,v.querySelector("head > title"))),Tn(x,f,l),x[Dn]=i,fn(x),f=x;break e;case"link":var M=WA("link","href",v).get(f+(l.href||""));if(M){for(var P=0;P<M.length;P++)if(x=M[P],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){M.splice(P,1);break t}}x=v.createElement(f),Tn(x,f,l),v.head.appendChild(x);break;case"meta":if(M=WA("meta","content",v).get(f+(l.content||""))){for(P=0;P<M.length;P++)if(x=M[P],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){M.splice(P,1);break t}}x=v.createElement(f),Tn(x,f,l),v.head.appendChild(x);break;default:throw Error(n(468,f))}x[Dn]=i,fn(x),f=x}i.stateNode=f}else QA(v,i.type,i.stateNode);else i.stateNode=XA(v,f,i.memoizedProps);else x!==f?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,f===null?QA(v,i.type,i.stateNode):XA(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&zv(i,i.memoizedProps,l.memoizedProps)}break;case 27:mi(a,i),gi(i),f&512&&(Vt||l===null||_s(l,l.return)),l!==null&&f&4&&zv(i,i.memoizedProps,l.memoizedProps);break;case 5:if(mi(a,i),gi(i),f&512&&(Vt||l===null||_s(l,l.return)),i.flags&32){v=i.stateNode;try{lc(v,"")}catch(re){wt(i,i.return,re)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,zv(i,v,l!==null?l.memoizedProps:v)),f&1024&&(Vv=!0);break;case 6:if(mi(a,i),gi(i),f&4){if(i.stateNode===null)throw Error(n(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(re){wt(i,i.return,re)}}break;case 3:if(vm=null,v=ss,ss=mm(a.containerInfo),mi(a,i),ss=v,gi(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{sd(a.containerInfo)}catch(re){wt(i,i.return,re)}Vv&&(Vv=!1,nA(i));break;case 4:f=ss,ss=mm(i.stateNode.containerInfo),mi(a,i),gi(i),ss=f;break;case 12:mi(a,i),gi(i);break;case 13:mi(a,i),gi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zv=qt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,$v(i,f)));break;case 22:v=i.memoizedState!==null;var $=l!==null&&l.memoizedState!==null,J=fr,le=Vt;if(fr=J||v,Vt=le||$,mi(a,i),Vt=le,fr=J,gi(i),f&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||$||fr||Vt||Lo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){$=l=a;try{if(x=$.stateNode,v)M=x.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{P=$.stateNode;var fe=$.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;P.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){wt($,$.return,re)}}}else if(a.tag===6){if(l===null){$=a;try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(re){wt($,$.return,re)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,$v(i,l))));break;case 19:mi(a,i),gi(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,$v(i,f)));break;case 30:break;case 21:break;default:mi(a,i),gi(i)}}function gi(i){var a=i.flags;if(a&2){try{for(var l,f=i.return;f!==null;){if(XE(f)){l=f;break}f=f.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var v=l.stateNode,x=qv(i);nm(i,x,v);break;case 5:var M=l.stateNode;l.flags&32&&(lc(M,""),l.flags&=-33);var P=qv(i);nm(i,P,M);break;case 3:case 4:var $=l.stateNode.containerInfo,J=qv(i);Gv(i,J,$);break;default:throw Error(n(161))}}catch(le){wt(i,i.return,le)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function nA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;nA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ma(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)KE(i,a.alternate,a),a=a.sibling}function Lo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:pa(4,a,a.return),Lo(a);break;case 1:_s(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&$E(a,a.return,l),Lo(a);break;case 27:Qh(a.stateNode);case 26:case 5:_s(a,a.return),Lo(a);break;case 22:a.memoizedState===null&&Lo(a);break;case 30:Lo(a);break;default:Lo(a)}i=i.sibling}}function ga(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=i,x=a,M=x.flags;switch(x.tag){case 0:case 11:case 15:ga(v,x,l),Hh(4,x);break;case 1:if(ga(v,x,l),f=x,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){wt(f,f.return,J)}if(f=x,v=f.updateQueue,v!==null){var P=f.stateNode;try{var $=v.shared.hiddenCallbacks;if($!==null)for(v.shared.hiddenCallbacks=null,v=0;v<$.length;v++)DS($[v],P)}catch(J){wt(f,f.return,J)}}l&&M&64&&VE(x),Uh(x,x.return);break;case 27:WE(x);case 26:case 5:ga(v,x,l),l&&f===null&&M&4&&YE(x),Uh(x,x.return);break;case 12:ga(v,x,l);break;case 13:ga(v,x,l),l&&M&4&&eA(v,x);break;case 22:x.memoizedState===null&&ga(v,x,l),Uh(x,x.return);break;case 30:break;default:ga(v,x,l)}a=a.sibling}}function Yv(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&_h(l))}function Xv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&_h(i))}function Cs(i,a,l,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)iA(i,a,l,f),a=a.sibling}function iA(i,a,l,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Cs(i,a,l,f),v&2048&&Hh(9,a);break;case 1:Cs(i,a,l,f);break;case 3:Cs(i,a,l,f),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&_h(i)));break;case 12:if(v&2048){Cs(i,a,l,f),i=a.stateNode;try{var x=a.memoizedProps,M=x.id,P=x.onPostCommit;typeof P=="function"&&P(M,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){wt(a,a.return,$)}}else Cs(i,a,l,f);break;case 13:Cs(i,a,l,f);break;case 23:break;case 22:x=a.stateNode,M=a.alternate,a.memoizedState!==null?x._visibility&2?Cs(i,a,l,f):zh(i,a):x._visibility&2?Cs(i,a,l,f):(x._visibility|=2,Cc(i,a,l,f,(a.subtreeFlags&10256)!==0)),v&2048&&Yv(M,a);break;case 24:Cs(i,a,l,f),v&2048&&Xv(a.alternate,a);break;default:Cs(i,a,l,f)}}function Cc(i,a,l,f,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=i,M=a,P=l,$=f,J=M.flags;switch(M.tag){case 0:case 11:case 15:Cc(x,M,P,$,v),Hh(8,M);break;case 23:break;case 22:var le=M.stateNode;M.memoizedState!==null?le._visibility&2?Cc(x,M,P,$,v):zh(x,M):(le._visibility|=2,Cc(x,M,P,$,v)),v&&J&2048&&Yv(M.alternate,M);break;case 24:Cc(x,M,P,$,v),v&&J&2048&&Xv(M.alternate,M);break;default:Cc(x,M,P,$,v)}a=a.sibling}}function zh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,f=a,v=f.flags;switch(f.tag){case 22:zh(l,f),v&2048&&Yv(f.alternate,f);break;case 24:zh(l,f),v&2048&&Xv(f.alternate,f);break;default:zh(l,f)}a=a.sibling}}var qh=8192;function Nc(i){if(i.subtreeFlags&qh)for(i=i.child;i!==null;)sA(i),i=i.sibling}function sA(i){switch(i.tag){case 26:Nc(i),i.flags&qh&&i.memoizedState!==null&&D6(ss,i.memoizedState,i.memoizedProps);break;case 5:Nc(i);break;case 3:case 4:var a=ss;ss=mm(i.stateNode.containerInfo),Nc(i),ss=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=qh,qh=16777216,Nc(i),qh=a):Nc(i));break;default:Nc(i)}}function rA(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Gh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];mn=f,oA(f,i)}rA(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aA(i),i=i.sibling}function aA(i){switch(i.tag){case 0:case 11:case 15:Gh(i),i.flags&2048&&pa(9,i,i.return);break;case 3:Gh(i);break;case 12:Gh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,im(i)):Gh(i);break;default:Gh(i)}}function im(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];mn=f,oA(f,i)}rA(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:pa(8,a,a.return),im(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,im(a));break;default:im(a)}i=i.sibling}}function oA(i,a){for(;mn!==null;){var l=mn;switch(l.tag){case 0:case 11:case 15:pa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:_h(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,mn=f;else e:for(l=i;mn!==null;){f=mn;var v=f.sibling,x=f.return;if(ZE(f),f===l){mn=null;break e}if(v!==null){v.return=x,mn=v;break e}mn=x}}}var YN={getCacheForType:function(i){var a=Ln(sn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},XN=typeof WeakMap=="function"?WeakMap:Map,ot=0,Et=null,Ve=null,We=0,lt=0,vi=null,va=!1,Rc=!1,Wv=!1,mr=0,Bt=0,ya=0,Oo=0,Qv=0,Gi=0,Mc=0,Vh=null,ri=null,Kv=!1,Zv=0,sm=1/0,rm=null,ba=null,An=0,xa=null,Dc=null,Lc=0,Jv=0,e1=null,lA=null,$h=0,t1=null;function yi(){if((ot&2)!==0&&We!==0)return We&-We;if(W.T!==null){var i=bc;return i!==0?i:l1()}return Aw()}function cA(){Gi===0&&(Gi=(We&536870912)===0||Ze?xw():536870912);var i=qi.current;return i!==null&&(i.flags|=32),Gi}function bi(i,a,l){(i===Et&&(lt===2||lt===9)||i.cancelPendingCommit!==null)&&(Oc(i,0),wa(i,We,Gi,!1)),uh(i,l),((ot&2)===0||i!==Et)&&(i===Et&&((ot&2)===0&&(Oo|=l),Bt===4&&wa(i,We,Gi,!1)),Ns(i))}function uA(i,a,l){if((ot&6)!==0)throw Error(n(327));var f=!l&&(a&124)===0&&(a&i.expiredLanes)===0||pt(i,a),v=f?KN(i,a):s1(i,a,!0),x=f;do{if(v===0){Rc&&!f&&wa(i,a,0,!1);break}else{if(l=i.current.alternate,x&&!WN(l)){v=s1(i,a,!1),x=!1;continue}if(v===2){if(x=a,i.errorRecoveryDisabledLanes&x)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){a=M;e:{var P=i;v=Vh;var $=P.current.memoizedState.isDehydrated;if($&&(Oc(P,M).flags|=256),M=s1(P,M,!1),M!==2){if(Wv&&!$){P.errorRecoveryDisabledLanes|=x,Oo|=x,v=4;break e}x=ri,ri=v,x!==null&&(ri===null?ri=x:ri.push.apply(ri,x))}v=M}if(x=!1,v!==2)continue}}if(v===1){Oc(i,0),wa(i,a,0,!0);break}e:{switch(f=i,x=v,x){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:wa(f,a,Gi,!va);break e;case 2:ri=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(v=Zv+300-qt(),10<v)){if(wa(f,a,Gi,!va),rt(f,0,!0)!==0)break e;f.timeoutHandle=BA(hA.bind(null,f,l,ri,rm,Kv,a,Gi,Oo,Mc,va,x,2,-0,0),v);break e}hA(f,l,ri,rm,Kv,a,Gi,Oo,Mc,va,x,0,-0,0)}}break}while(!0);Ns(i)}function hA(i,a,l,f,v,x,M,P,$,J,le,fe,ne,re){if(i.timeoutHandle=-1,fe=a.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Jh={stylesheets:null,count:0,unsuspend:M6},sA(a),fe=L6(),fe!==null)){i.cancelPendingCommit=fe(yA.bind(null,i,a,x,l,f,v,M,P,$,le,1,ne,re)),wa(i,x,M,!J);return}yA(i,a,x,l,f,v,M,P,$)}function WN(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],x=v.getSnapshot;v=v.value;try{if(!fi(x(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wa(i,a,l,f){a&=~Qv,a&=~Oo,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var v=a;0<v;){var x=31-_(v),M=1<<x;f[x]=-1,v&=~M}l!==0&&Sw(i,l,a)}function am(){return(ot&6)===0?(Yh(0),!1):!0}function n1(){if(Ve!==null){if(lt===0)var i=Ve.return;else i=Ve,or=Co=null,bv(i),Tc=null,Ih=0,i=Ve;for(;i!==null;)GE(i.alternate,i),i=i.return;Ve=null}}function Oc(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,f6(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),n1(),Et=i,Ve=l=sr(i.current,null),We=a,lt=0,vi=null,va=!1,Rc=pt(i,a),Wv=!1,Mc=Gi=Qv=Oo=ya=Bt=0,ri=Vh=null,Kv=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var v=31-_(f),x=1<<v;a|=i[v],f&=~x}return mr=a,Np(),l}function dA(i,a){He=null,W.H=Yp,a===Nh||a===Ip?(a=RS(),lt=3):a===_S?(a=RS(),lt=4):lt=a===ME?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,vi=a,Ve===null&&(Bt=1,Zp(i,Bi(a,i.current)))}function fA(){var i=W.H;return W.H=Yp,i===null?Yp:i}function pA(){var i=W.A;return W.A=YN,i}function i1(){Bt=4,va||(We&4194048)!==We&&qi.current!==null||(Rc=!0),(ya&134217727)===0&&(Oo&134217727)===0||Et===null||wa(Et,We,Gi,!1)}function s1(i,a,l){var f=ot;ot|=2;var v=fA(),x=pA();(Et!==i||We!==a)&&(rm=null,Oc(i,a)),a=!1;var M=Bt;e:do try{if(lt!==0&&Ve!==null){var P=Ve,$=vi;switch(lt){case 8:n1(),M=6;break e;case 3:case 2:case 9:case 6:qi.current===null&&(a=!0);var J=lt;if(lt=0,vi=null,kc(i,P,$,J),l&&Rc){M=0;break e}break;default:J=lt,lt=0,vi=null,kc(i,P,$,J)}}QN(),M=Bt;break}catch(le){dA(i,le)}while(!0);return a&&i.shellSuspendCounter++,or=Co=null,ot=f,W.H=v,W.A=x,Ve===null&&(Et=null,We=0,Np()),M}function QN(){for(;Ve!==null;)mA(Ve)}function KN(i,a){var l=ot;ot|=2;var f=fA(),v=pA();Et!==i||We!==a?(rm=null,sm=qt()+500,Oc(i,a)):Rc=pt(i,a);e:do try{if(lt!==0&&Ve!==null){a=Ve;var x=vi;t:switch(lt){case 1:lt=0,vi=null,kc(i,a,x,1);break;case 2:case 9:if(CS(x)){lt=0,vi=null,gA(a);break}a=function(){lt!==2&&lt!==9||Et!==i||(lt=7),Ns(i)},x.then(a,a);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:CS(x)?(lt=0,vi=null,gA(a)):(lt=0,vi=null,kc(i,a,x,7));break;case 5:var M=null;switch(Ve.tag){case 26:M=Ve.memoizedState;case 5:case 27:var P=Ve;if(!M||KA(M)){lt=0,vi=null;var $=P.sibling;if($!==null)Ve=$;else{var J=P.return;J!==null?(Ve=J,om(J)):Ve=null}break t}}lt=0,vi=null,kc(i,a,x,5);break;case 6:lt=0,vi=null,kc(i,a,x,6);break;case 8:n1(),Bt=6;break e;default:throw Error(n(462))}}ZN();break}catch(le){dA(i,le)}while(!0);return or=Co=null,W.H=f,W.A=v,ot=l,Ve!==null?0:(Et=null,We=0,Np(),Bt)}function ZN(){for(;Ve!==null&&!Qt();)mA(Ve)}function mA(i){var a=zE(i.alternate,i,mr);i.memoizedProps=i.pendingProps,a===null?om(i):Ve=a}function gA(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=PE(l,a,a.pendingProps,a.type,void 0,We);break;case 11:a=PE(l,a,a.pendingProps,a.type.render,a.ref,We);break;case 5:bv(a);default:GE(l,a),a=Ve=vS(a,mr),a=zE(l,a,mr)}i.memoizedProps=i.pendingProps,a===null?om(i):Ve=a}function kc(i,a,l,f){or=Co=null,bv(a),Tc=null,Ih=0;var v=a.return;try{if(UN(i,v,a,l,We)){Bt=1,Zp(i,Bi(l,i.current)),Ve=null;return}}catch(x){if(v!==null)throw Ve=v,x;Bt=1,Zp(i,Bi(l,i.current)),Ve=null;return}a.flags&32768?(Ze||f===1?i=!0:Rc||(We&536870912)!==0?i=!1:(va=i=!0,(f===2||f===9||f===3||f===6)&&(f=qi.current,f!==null&&f.tag===13&&(f.flags|=16384))),vA(a,i)):om(a)}function om(i){var a=i;do{if((a.flags&32768)!==0){vA(a,va);return}i=a.return;var l=qN(a.alternate,a,mr);if(l!==null){Ve=l;return}if(a=a.sibling,a!==null){Ve=a;return}Ve=a=i}while(a!==null);Bt===0&&(Bt=5)}function vA(i,a){do{var l=GN(i.alternate,i);if(l!==null){l.flags&=32767,Ve=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=l}while(i!==null);Bt=6,Ve=null}function yA(i,a,l,f,v,x,M,P,$){i.cancelPendingCommit=null;do lm();while(An!==0);if((ot&6)!==0)throw Error(n(327));if(a!==null){if(a===i.current)throw Error(n(177));if(x=a.lanes|a.childLanes,x|=X0,M5(i,l,x,M,P,$),i===Et&&(Ve=Et=null,We=0),Dc=a,xa=i,Lc=l,Jv=x,e1=v,lA=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,n6(Jn,function(){return EA(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=W.T,W.T=null,v=ie.p,ie.p=2,M=ot,ot|=4;try{VN(i,a,l)}finally{ot=M,ie.p=v,W.T=f}}An=1,bA(),xA(),wA()}}function bA(){if(An===1){An=0;var i=xa,a=Dc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var f=ie.p;ie.p=2;var v=ot;ot|=4;try{tA(a,i);var x=g1,M=oS(i.containerInfo),P=x.focusedElem,$=x.selectionRange;if(M!==P&&P&&P.ownerDocument&&aS(P.ownerDocument.documentElement,P)){if($!==null&&q0(P)){var J=$.start,le=$.end;if(le===void 0&&(le=J),"selectionStart"in P)P.selectionStart=J,P.selectionEnd=Math.min(le,P.value.length);else{var fe=P.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Re=P.textContent.length,Ce=Math.min($.start,Re),vt=$.end===void 0?Ce:Math.min($.end,Re);!re.extend&&Ce>vt&&(M=vt,vt=Ce,Ce=M);var K=rS(P,Ce),X=rS(P,vt);if(K&&X&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==X.node||re.focusOffset!==X.offset)){var Z=fe.createRange();Z.setStart(K.node,K.offset),re.removeAllRanges(),Ce>vt?(re.addRange(Z),re.extend(X.node,X.offset)):(Z.setEnd(X.node,X.offset),re.addRange(Z))}}}}for(fe=[],re=P;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<fe.length;P++){var he=fe[P];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}xm=!!m1,g1=m1=null}finally{ot=v,ie.p=f,W.T=l}}i.current=a,An=2}}function xA(){if(An===2){An=0;var i=xa,a=Dc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var f=ie.p;ie.p=2;var v=ot;ot|=4;try{KE(i,a.alternate,a)}finally{ot=v,ie.p=f,W.T=l}}An=3}}function wA(){if(An===4||An===3){An=0,It();var i=xa,a=Dc,l=Lc,f=lA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?An=5:(An=0,Dc=xa=null,SA(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(ba=null),S0(l),a=a.stateNode,j&&typeof j.onCommitFiberRoot=="function")try{j.onCommitFiberRoot(tr,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=W.T,v=ie.p,ie.p=2,W.T=null;try{for(var x=i.onRecoverableError,M=0;M<f.length;M++){var P=f[M];x(P.value,{componentStack:P.stack})}}finally{W.T=a,ie.p=v}}(Lc&3)!==0&&lm(),Ns(i),v=i.pendingLanes,(l&4194090)!==0&&(v&42)!==0?i===t1?$h++:($h=0,t1=i):$h=0,Yh(0)}}function SA(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,_h(a)))}function lm(i){return bA(),xA(),wA(),EA()}function EA(){if(An!==5)return!1;var i=xa,a=Jv;Jv=0;var l=S0(Lc),f=W.T,v=ie.p;try{ie.p=32>l?32:l,W.T=null,l=e1,e1=null;var x=xa,M=Lc;if(An=0,Dc=xa=null,Lc=0,(ot&6)!==0)throw Error(n(331));var P=ot;if(ot|=4,aA(x.current),iA(x,x.current,M,l),ot=P,Yh(0,!1),j&&typeof j.onPostCommitFiberRoot=="function")try{j.onPostCommitFiberRoot(tr,x)}catch{}return!0}finally{ie.p=v,W.T=f,SA(i,a)}}function AA(i,a,l){a=Bi(l,a),a=Ov(i.stateNode,a,2),i=ua(i,a,2),i!==null&&(uh(i,2),Ns(i))}function wt(i,a,l){if(i.tag===3)AA(i,i,l);else for(;a!==null;){if(a.tag===3){AA(a,i,l);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ba===null||!ba.has(f))){i=Bi(l,i),l=NE(2),f=ua(a,l,2),f!==null&&(RE(l,f,a,i),uh(f,2),Ns(f));break}}a=a.return}}function r1(i,a,l){var f=i.pingCache;if(f===null){f=i.pingCache=new XN;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(l)||(Wv=!0,v.add(l),i=JN.bind(null,i,a,l),a.then(i,i))}function JN(i,a,l){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Et===i&&(We&l)===l&&(Bt===4||Bt===3&&(We&62914560)===We&&300>qt()-Zv?(ot&2)===0&&Oc(i,0):Qv|=l,Mc===We&&(Mc=0)),Ns(i)}function TA(i,a){a===0&&(a=ww()),i=mc(i,a),i!==null&&(uh(i,a),Ns(i))}function e6(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),TA(i,l)}function t6(i,a){var l=0;switch(i.tag){case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(a),TA(i,l)}function n6(i,a){return Ge(i,a)}var cm=null,jc=null,a1=!1,um=!1,o1=!1,ko=0;function Ns(i){i!==jc&&i.next===null&&(jc===null?cm=jc=i:jc=jc.next=i),um=!0,a1||(a1=!0,s6())}function Yh(i,a){if(!o1&&um){o1=!0;do for(var l=!1,f=cm;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var x=0;else{var M=f.suspendedLanes,P=f.pingedLanes;x=(1<<31-_(42|i)+1)-1,x&=v&~(M&~P),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,RA(f,x))}else x=We,x=rt(f,f===Et?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||pt(f,x)||(l=!0,RA(f,x));f=f.next}while(l);o1=!1}}function i6(){_A()}function _A(){um=a1=!1;var i=0;ko!==0&&(d6()&&(i=ko),ko=0);for(var a=qt(),l=null,f=cm;f!==null;){var v=f.next,x=CA(f,a);x===0?(f.next=null,l===null?cm=v:l.next=v,v===null&&(jc=l)):(l=f,(i!==0||(x&3)!==0)&&(um=!0)),f=v}Yh(i)}function CA(i,a){for(var l=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var M=31-_(x),P=1<<M,$=v[M];$===-1?((P&l)===0||(P&f)!==0)&&(v[M]=at(P,a)):$<=a&&(i.expiredLanes|=P),x&=~P}if(a=Et,l=We,l=rt(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===a&&(lt===2||lt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&nt(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||pt(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(f!==null&&nt(f),S0(l)){case 2:case 8:l=vo;break;case 32:l=Jn;break;case 268435456:l=sa;break;default:l=Jn}return f=NA.bind(null,i),l=Ge(l,f),i.callbackPriority=a,i.callbackNode=l,a}return f!==null&&f!==null&&nt(f),i.callbackPriority=2,i.callbackNode=null,2}function NA(i,a){if(An!==0&&An!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(lm()&&i.callbackNode!==l)return null;var f=We;return f=rt(i,i===Et?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(uA(i,f,a),CA(i,qt()),i.callbackNode!=null&&i.callbackNode===l?NA.bind(null,i):null)}function RA(i,a){if(lm())return null;uA(i,a,!0)}function s6(){p6(function(){(ot&6)!==0?Ge(ec,i6):_A()})}function l1(){return ko===0&&(ko=xw()),ko}function MA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wp(""+i)}function DA(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function r6(i,a,l,f,v){if(a==="submit"&&l&&l.stateNode===v){var x=MA((v[ti]||null).action),M=f.submitter;M&&(a=(a=M[ti]||null)?MA(a.formAction):M.getAttribute("formAction"),a!==null&&(x=a,M=null));var P=new Tp("action","action",null,f,v);i.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ko!==0){var $=M?DA(v,M):new FormData(v);Nv(l,{pending:!0,data:$,method:v.method,action:x},null,$)}}else typeof x=="function"&&(P.preventDefault(),$=M?DA(v,M):new FormData(v),Nv(l,{pending:!0,data:$,method:v.method,action:x},x,$))},currentTarget:v}]})}}for(var c1=0;c1<Y0.length;c1++){var u1=Y0[c1],a6=u1.toLowerCase(),o6=u1[0].toUpperCase()+u1.slice(1);is(a6,"on"+o6)}is(uS,"onAnimationEnd"),is(hS,"onAnimationIteration"),is(dS,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(AN,"onTransitionRun"),is(TN,"onTransitionStart"),is(_N,"onTransitionCancel"),is(fS,"onTransitionEnd"),rc("onMouseEnter",["mouseout","mouseover"]),rc("onMouseLeave",["mouseout","mouseover"]),rc("onPointerEnter",["pointerout","pointerover"]),rc("onPointerLeave",["pointerout","pointerover"]),yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yo("onBeforeInput",["compositionend","keypress","textInput","paste"]),yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xh));function LA(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],v=f.event;f=f.listeners;e:{var x=void 0;if(a)for(var M=f.length-1;0<=M;M--){var P=f[M],$=P.instance,J=P.currentTarget;if(P=P.listener,$!==x&&v.isPropagationStopped())break e;x=P,v.currentTarget=J;try{x(v)}catch(le){Kp(le)}v.currentTarget=null,x=$}else for(M=0;M<f.length;M++){if(P=f[M],$=P.instance,J=P.currentTarget,P=P.listener,$!==x&&v.isPropagationStopped())break e;x=P,v.currentTarget=J;try{x(v)}catch(le){Kp(le)}v.currentTarget=null,x=$}}}}function $e(i,a){var l=a[E0];l===void 0&&(l=a[E0]=new Set);var f=i+"__bubble";l.has(f)||(OA(a,i,2,!1),l.add(f))}function h1(i,a,l){var f=0;a&&(f|=4),OA(l,i,f,a)}var hm="_reactListening"+Math.random().toString(36).slice(2);function d1(i){if(!i[hm]){i[hm]=!0,_w.forEach(function(l){l!=="selectionchange"&&(l6.has(l)||h1(l,!1,i),h1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[hm]||(a[hm]=!0,h1("selectionchange",!1,a))}}function OA(i,a,l,f){switch(iT(a)){case 2:var v=j6;break;case 8:v=P6;break;default:v=_1}l=v.bind(null,a,l,i),v=void 0,!k0||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(a,l,{capture:!0,passive:v}):i.addEventListener(a,l,!0):v!==void 0?i.addEventListener(a,l,{passive:v}):i.addEventListener(a,l,!1)}function f1(i,a,l,f,v){var x=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var M=f.tag;if(M===3||M===4){var P=f.stateNode.containerInfo;if(P===v)break;if(M===4)for(M=f.return;M!==null;){var $=M.tag;if(($===3||$===4)&&M.stateNode.containerInfo===v)return;M=M.return}for(;P!==null;){if(M=nc(P),M===null)return;if($=M.tag,$===5||$===6||$===26||$===27){f=x=M;continue e}P=P.parentNode}}f=f.return}Hw(function(){var J=x,le=L0(l),fe=[];e:{var ne=pS.get(i);if(ne!==void 0){var re=Tp,Re=i;switch(i){case"keypress":if(Ep(l)===0)break e;case"keydown":case"keyup":re=nN;break;case"focusin":Re="focus",re=F0;break;case"focusout":Re="blur",re=F0;break;case"beforeblur":case"afterblur":re=F0;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=G5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=rN;break;case uS:case hS:case dS:re=Y5;break;case fS:re=oN;break;case"scroll":case"scrollend":re=z5;break;case"wheel":re=cN;break;case"copy":case"cut":case"paste":re=W5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Vw;break;case"toggle":case"beforetoggle":re=hN}var Ce=(a&4)!==0,vt=!Ce&&(i==="scroll"||i==="scrollend"),K=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var X=J,Z;X!==null;){var he=X;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||K===null||(he=fh(X,K),he!=null&&Ce.push(Wh(X,he,Z))),vt)break;X=X.return}0<Ce.length&&(ne=new re(ne,Re,null,l,le),fe.push({event:ne,listeners:Ce}))}}if((a&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ne&&l!==D0&&(Re=l.relatedTarget||l.fromElement)&&(nc(Re)||Re[tc]))break e;if((re||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Re=l.relatedTarget||l.toElement,re=J,Re=Re?nc(Re):null,Re!==null&&(vt=o(Re),Ce=Re.tag,Re!==vt||Ce!==5&&Ce!==27&&Ce!==6)&&(Re=null)):(re=null,Re=J),re!==Re)){if(Ce=qw,he="onMouseLeave",K="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Vw,he="onPointerLeave",K="onPointerEnter",X="pointer"),vt=re==null?ne:dh(re),Z=Re==null?ne:dh(Re),ne=new Ce(he,X+"leave",re,l,le),ne.target=vt,ne.relatedTarget=Z,he=null,nc(le)===J&&(Ce=new Ce(K,X+"enter",Re,l,le),Ce.target=Z,Ce.relatedTarget=vt,he=Ce),vt=he,re&&Re)t:{for(Ce=re,K=Re,X=0,Z=Ce;Z;Z=Pc(Z))X++;for(Z=0,he=K;he;he=Pc(he))Z++;for(;0<X-Z;)Ce=Pc(Ce),X--;for(;0<Z-X;)K=Pc(K),Z--;for(;X--;){if(Ce===K||K!==null&&Ce===K.alternate)break t;Ce=Pc(Ce),K=Pc(K)}Ce=null}else Ce=null;re!==null&&kA(fe,ne,re,Ce,!1),Re!==null&&vt!==null&&kA(fe,vt,Re,Ce,!0)}}e:{if(ne=J?dh(J):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ee=Jw;else if(Kw(ne))if(eS)Ee=wN;else{Ee=bN;var ze=yN}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?J&&M0(J.elementType)&&(Ee=Jw):Ee=xN;if(Ee&&(Ee=Ee(i,J))){Zw(fe,Ee,l,le);break e}ze&&ze(i,ne,J),i==="focusout"&&J&&ne.type==="number"&&J.memoizedProps.value!=null&&R0(ne,"number",ne.value)}switch(ze=J?dh(J):window,i){case"focusin":(Kw(ze)||ze.contentEditable==="true")&&(dc=ze,G0=J,wh=null);break;case"focusout":wh=G0=dc=null;break;case"mousedown":V0=!0;break;case"contextmenu":case"mouseup":case"dragend":V0=!1,lS(fe,l,le);break;case"selectionchange":if(EN)break;case"keydown":case"keyup":lS(fe,l,le)}var Te;if(H0)e:{switch(i){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else hc?Ww(i,l)&&(Ne="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&($w&&l.locale!=="ko"&&(hc||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&hc&&(Te=Uw()):(aa=le,j0="value"in aa?aa.value:aa.textContent,hc=!0)),ze=dm(J,Ne),0<ze.length&&(Ne=new Gw(Ne,i,null,l,le),fe.push({event:Ne,listeners:ze}),Te?Ne.data=Te:(Te=Qw(l),Te!==null&&(Ne.data=Te)))),(Te=fN?pN(i,l):mN(i,l))&&(Ne=dm(J,"onBeforeInput"),0<Ne.length&&(ze=new Gw("onBeforeInput","beforeinput",null,l,le),fe.push({event:ze,listeners:Ne}),ze.data=Te)),r6(fe,i,J,l,le)}LA(fe,a)})}function Wh(i,a,l){return{instance:i,listener:a,currentTarget:l}}function dm(i,a){for(var l=a+"Capture",f=[];i!==null;){var v=i,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=fh(i,l),v!=null&&f.unshift(Wh(i,v,x)),v=fh(i,a),v!=null&&f.push(Wh(i,v,x))),i.tag===3)return f;i=i.return}return[]}function Pc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function kA(i,a,l,f,v){for(var x=a._reactName,M=[];l!==null&&l!==f;){var P=l,$=P.alternate,J=P.stateNode;if(P=P.tag,$!==null&&$===f)break;P!==5&&P!==26&&P!==27||J===null||($=J,v?(J=fh(l,x),J!=null&&M.unshift(Wh(l,J,$))):v||(J=fh(l,x),J!=null&&M.push(Wh(l,J,$)))),l=l.return}M.length!==0&&i.push({event:a,listeners:M})}var c6=/\r\n?/g,u6=/\u0000|\uFFFD/g;function jA(i){return(typeof i=="string"?i:""+i).replace(c6,`
`).replace(u6,"")}function PA(i,a){return a=jA(a),jA(i)===a}function fm(){}function gt(i,a,l,f,v,x){switch(l){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||lc(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&lc(i,""+f);break;case"className":yp(i,"class",f);break;case"tabIndex":yp(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":yp(i,l,f);break;case"style":Fw(i,f,x);break;case"data":if(a!=="object"){yp(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=wp(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&gt(i,a,"name",v.name,v,null),gt(i,a,"formEncType",v.formEncType,v,null),gt(i,a,"formMethod",v.formMethod,v,null),gt(i,a,"formTarget",v.formTarget,v,null)):(gt(i,a,"encType",v.encType,v,null),gt(i,a,"method",v.method,v,null),gt(i,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=wp(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=fm);break;case"onScroll":f!=null&&$e("scroll",i);break;case"onScrollEnd":f!=null&&$e("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=wp(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":$e("beforetoggle",i),$e("toggle",i),vp(i,"popover",f);break;case"xlinkActuate":nr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":nr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":nr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":nr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":nr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":nr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":nr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":nr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":nr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":vp(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=H5.get(l)||l,vp(i,l,f))}}function p1(i,a,l,f,v,x){switch(l){case"style":Fw(i,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof f=="string"?lc(i,f):(typeof f=="number"||typeof f=="bigint")&&lc(i,""+f);break;case"onScroll":f!=null&&$e("scroll",i);break;case"onScrollEnd":f!=null&&$e("scrollend",i);break;case"onClick":f!=null&&(i.onclick=fm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cw.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),x=i[ti]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(a,x,v),typeof f=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,f,v);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):vp(i,l,f)}}}function Tn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",i),$e("load",i);var f=!1,v=!1,x;for(x in l)if(l.hasOwnProperty(x)){var M=l[x];if(M!=null)switch(x){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:gt(i,a,x,M,l,null)}}v&&gt(i,a,"srcSet",l.srcSet,l,null),f&&gt(i,a,"src",l.src,l,null);return;case"input":$e("invalid",i);var P=x=M=v=null,$=null,J=null;for(f in l)if(l.hasOwnProperty(f)){var le=l[f];if(le!=null)switch(f){case"name":v=le;break;case"type":M=le;break;case"checked":$=le;break;case"defaultChecked":J=le;break;case"value":x=le;break;case"defaultValue":P=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,a));break;default:gt(i,a,f,le,l,null)}}kw(i,x,P,$,J,M,v,!1),bp(i);return;case"select":$e("invalid",i),f=M=x=null;for(v in l)if(l.hasOwnProperty(v)&&(P=l[v],P!=null))switch(v){case"value":x=P;break;case"defaultValue":M=P;break;case"multiple":f=P;default:gt(i,a,v,P,l,null)}a=x,l=M,i.multiple=!!f,a!=null?oc(i,!!f,a,!1):l!=null&&oc(i,!!f,l,!0);return;case"textarea":$e("invalid",i),x=v=f=null;for(M in l)if(l.hasOwnProperty(M)&&(P=l[M],P!=null))switch(M){case"value":f=P;break;case"defaultValue":v=P;break;case"children":x=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:gt(i,a,M,P,l,null)}Pw(i,f,v,x),bp(i);return;case"option":for($ in l)if(l.hasOwnProperty($)&&(f=l[$],f!=null))switch($){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:gt(i,a,$,f,l,null)}return;case"dialog":$e("beforetoggle",i),$e("toggle",i),$e("cancel",i),$e("close",i);break;case"iframe":case"object":$e("load",i);break;case"video":case"audio":for(f=0;f<Xh.length;f++)$e(Xh[f],i);break;case"image":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"embed":case"source":case"link":$e("error",i),$e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(f=l[J],f!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:gt(i,a,J,f,l,null)}return;default:if(M0(a)){for(le in l)l.hasOwnProperty(le)&&(f=l[le],f!==void 0&&p1(i,a,le,f,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(f=l[P],f!=null&&gt(i,a,P,f,l,null))}function h6(i,a,l,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,M=null,P=null,$=null,J=null,le=null;for(re in l){var fe=l[re];if(l.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":$=fe;default:f.hasOwnProperty(re)||gt(i,a,re,null,f,fe)}}for(var ne in f){var re=f[ne];if(fe=l[ne],f.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":x=re;break;case"name":v=re;break;case"checked":J=re;break;case"defaultChecked":le=re;break;case"value":M=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,a));break;default:re!==fe&&gt(i,a,ne,re,f,fe)}}N0(i,M,P,$,J,le,x,v);return;case"select":re=M=P=ne=null;for(x in l)if($=l[x],l.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":re=$;default:f.hasOwnProperty(x)||gt(i,a,x,null,f,$)}for(v in f)if(x=f[v],$=l[v],f.hasOwnProperty(v)&&(x!=null||$!=null))switch(v){case"value":ne=x;break;case"defaultValue":P=x;break;case"multiple":M=x;default:x!==$&&gt(i,a,v,x,f,$)}a=P,l=M,f=re,ne!=null?oc(i,!!l,ne,!1):!!f!=!!l&&(a!=null?oc(i,!!l,a,!0):oc(i,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(P in l)if(v=l[P],l.hasOwnProperty(P)&&v!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:gt(i,a,P,null,f,v)}for(M in f)if(v=f[M],x=l[M],f.hasOwnProperty(M)&&(v!=null||x!=null))switch(M){case"value":ne=v;break;case"defaultValue":re=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==x&&gt(i,a,M,v,f,x)}jw(i,ne,re);return;case"option":for(var Re in l)if(ne=l[Re],l.hasOwnProperty(Re)&&ne!=null&&!f.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:gt(i,a,Re,null,f,ne)}for($ in f)if(ne=f[$],re=l[$],f.hasOwnProperty($)&&ne!==re&&(ne!=null||re!=null))switch($){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:gt(i,a,$,ne,f,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in l)ne=l[Ce],l.hasOwnProperty(Ce)&&ne!=null&&!f.hasOwnProperty(Ce)&&gt(i,a,Ce,null,f,ne);for(J in f)if(ne=f[J],re=l[J],f.hasOwnProperty(J)&&ne!==re&&(ne!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,a));break;default:gt(i,a,J,ne,f,re)}return;default:if(M0(a)){for(var vt in l)ne=l[vt],l.hasOwnProperty(vt)&&ne!==void 0&&!f.hasOwnProperty(vt)&&p1(i,a,vt,void 0,f,ne);for(le in f)ne=f[le],re=l[le],!f.hasOwnProperty(le)||ne===re||ne===void 0&&re===void 0||p1(i,a,le,ne,f,re);return}}for(var K in l)ne=l[K],l.hasOwnProperty(K)&&ne!=null&&!f.hasOwnProperty(K)&&gt(i,a,K,null,f,ne);for(fe in f)ne=f[fe],re=l[fe],!f.hasOwnProperty(fe)||ne===re||ne==null&&re==null||gt(i,a,fe,ne,f,re)}var m1=null,g1=null;function pm(i){return i.nodeType===9?i:i.ownerDocument}function IA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FA(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function v1(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var y1=null;function d6(){var i=window.event;return i&&i.type==="popstate"?i===y1?!1:(y1=i,!0):(y1=null,!1)}var BA=typeof setTimeout=="function"?setTimeout:void 0,f6=typeof clearTimeout=="function"?clearTimeout:void 0,HA=typeof Promise=="function"?Promise:void 0,p6=typeof queueMicrotask=="function"?queueMicrotask:typeof HA<"u"?function(i){return HA.resolve(null).then(i).catch(m6)}:BA;function m6(i){setTimeout(function(){throw i})}function Sa(i){return i==="head"}function UA(i,a){var l=a,f=0,v=0;do{var x=l.nextSibling;if(i.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<f&&8>f){l=f;var M=i.ownerDocument;if(l&1&&Qh(M.documentElement),l&2&&Qh(M.body),l&4)for(l=M.head,Qh(l),M=l.firstChild;M;){var P=M.nextSibling,$=M.nodeName;M[hh]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&M.rel.toLowerCase()==="stylesheet"||l.removeChild(M),M=P}}if(v===0){i.removeChild(x),sd(a);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:f=l.charCodeAt(0)-48;else f=0;l=x}while(l);sd(a)}function b1(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":b1(l),A0(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function g6(i,a,l,f){for(;i.nodeType===1;){var v=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[hh])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=rs(i.nextSibling),i===null)break}return null}function v6(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=rs(i.nextSibling),i===null))return null;return i}function x1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function y6(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var f=function(){a(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function rs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var w1=null;function zA(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function qA(i,a,l){switch(a=pm(l),i){case"html":if(i=a.documentElement,!i)throw Error(n(452));return i;case"head":if(i=a.head,!i)throw Error(n(453));return i;case"body":if(i=a.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Qh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);A0(i)}var Vi=new Map,GA=new Set;function mm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gr=ie.d;ie.d={f:b6,r:x6,D:w6,C:S6,L:E6,m:A6,X:_6,S:T6,M:C6};function b6(){var i=gr.f(),a=am();return i||a}function x6(i){var a=ic(i);a!==null&&a.tag===5&&a.type==="form"?uE(a):gr.r(i)}var Ic=typeof document>"u"?null:document;function VA(i,a,l){var f=Ic;if(f&&typeof a=="string"&&a){var v=Fi(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),GA.has(v)||(GA.add(v),i={rel:i,crossOrigin:l,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),Tn(a,"link",i),fn(a),f.head.appendChild(a)))}}function w6(i){gr.D(i),VA("dns-prefetch",i,null)}function S6(i,a){gr.C(i,a),VA("preconnect",i,a)}function E6(i,a,l){gr.L(i,a,l);var f=Ic;if(f&&i&&a){var v='link[rel="preload"][as="'+Fi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Fi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Fi(l.imageSizes)+'"]')):v+='[href="'+Fi(i)+'"]';var x=v;switch(a){case"style":x=Fc(i);break;case"script":x=Bc(i)}Vi.has(x)||(i=p({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Vi.set(x,i),f.querySelector(v)!==null||a==="style"&&f.querySelector(Kh(x))||a==="script"&&f.querySelector(Zh(x))||(a=f.createElement("link"),Tn(a,"link",i),fn(a),f.head.appendChild(a)))}}function A6(i,a){gr.m(i,a);var l=Ic;if(l&&i){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Fi(f)+'"][href="'+Fi(i)+'"]',x=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Bc(i)}if(!Vi.has(x)&&(i=p({rel:"modulepreload",href:i},a),Vi.set(x,i),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zh(x)))return}f=l.createElement("link"),Tn(f,"link",i),fn(f),l.head.appendChild(f)}}}function T6(i,a,l){gr.S(i,a,l);var f=Ic;if(f&&i){var v=sc(f).hoistableStyles,x=Fc(i);a=a||"default";var M=v.get(x);if(!M){var P={loading:0,preload:null};if(M=f.querySelector(Kh(x)))P.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Vi.get(x))&&S1(i,l);var $=M=f.createElement("link");fn($),Tn($,"link",i),$._p=new Promise(function(J,le){$.onload=J,$.onerror=le}),$.addEventListener("load",function(){P.loading|=1}),$.addEventListener("error",function(){P.loading|=2}),P.loading|=4,gm(M,a,f)}M={type:"stylesheet",instance:M,count:1,state:P},v.set(x,M)}}}function _6(i,a){gr.X(i,a);var l=Ic;if(l&&i){var f=sc(l).hoistableScripts,v=Bc(i),x=f.get(v);x||(x=l.querySelector(Zh(v)),x||(i=p({src:i,async:!0},a),(a=Vi.get(v))&&E1(i,a),x=l.createElement("script"),fn(x),Tn(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(v,x))}}function C6(i,a){gr.M(i,a);var l=Ic;if(l&&i){var f=sc(l).hoistableScripts,v=Bc(i),x=f.get(v);x||(x=l.querySelector(Zh(v)),x||(i=p({src:i,async:!0,type:"module"},a),(a=Vi.get(v))&&E1(i,a),x=l.createElement("script"),fn(x),Tn(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(v,x))}}function $A(i,a,l,f){var v=(v=we.current)?mm(v):null;if(!v)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Fc(l.href),l=sc(v).hoistableStyles,f=l.get(a),f||(f={type:"style",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Fc(l.href);var x=sc(v).hoistableStyles,M=x.get(i);if(M||(v=v.ownerDocument||v,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,M),(x=v.querySelector(Kh(i)))&&!x._p&&(M.instance=x,M.state.loading=5),Vi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Vi.set(i,l),x||N6(v,i,l,M.state))),a&&f===null)throw Error(n(528,""));return M}if(a&&f!==null)throw Error(n(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bc(l),l=sc(v).hoistableScripts,f=l.get(a),f||(f={type:"script",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Fc(i){return'href="'+Fi(i)+'"'}function Kh(i){return'link[rel="stylesheet"]['+i+"]"}function YA(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function N6(i,a,l,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Tn(a,"link",l),fn(a),i.head.appendChild(a))}function Bc(i){return'[src="'+Fi(i)+'"]'}function Zh(i){return"script[async]"+i}function XA(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+Fi(l.href)+'"]');if(f)return a.instance=f,fn(f),f;var v=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),fn(f),Tn(f,"style",v),gm(f,l.precedence,i),a.instance=f;case"stylesheet":v=Fc(l.href);var x=i.querySelector(Kh(v));if(x)return a.state.loading|=4,a.instance=x,fn(x),x;f=YA(l),(v=Vi.get(v))&&S1(f,v),x=(i.ownerDocument||i).createElement("link"),fn(x);var M=x;return M._p=new Promise(function(P,$){M.onload=P,M.onerror=$}),Tn(x,"link",f),a.state.loading|=4,gm(x,l.precedence,i),a.instance=x;case"script":return x=Bc(l.src),(v=i.querySelector(Zh(x)))?(a.instance=v,fn(v),v):(f=l,(v=Vi.get(x))&&(f=p({},l),E1(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),fn(v),Tn(v,"link",f),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,gm(f,l.precedence,i));return a.instance}function gm(i,a,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,x=v,M=0;M<f.length;M++){var P=f[M];if(P.dataset.precedence===a)x=P;else if(x!==v)break}x?x.parentNode.insertBefore(i,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function S1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function E1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var vm=null;function WA(i,a,l){if(vm===null){var f=new Map,v=vm=new Map;v.set(l,f)}else v=vm,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),v=0;v<l.length;v++){var x=l[v];if(!(x[hh]||x[Dn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var M=x.getAttribute(a)||"";M=i+M;var P=f.get(M);P?P.push(x):f.set(M,[x])}}return f}function QA(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function R6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function KA(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Jh=null;function M6(){}function D6(i,a,l){if(Jh===null)throw Error(n(475));var f=Jh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=Fc(l.href),x=i.querySelector(Kh(v));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=ym.bind(f),i.then(f,f)),a.state.loading|=4,a.instance=x,fn(x);return}x=i.ownerDocument||i,l=YA(l),(v=Vi.get(v))&&S1(l,v),x=x.createElement("link"),fn(x);var M=x;M._p=new Promise(function(P,$){M.onload=P,M.onerror=$}),Tn(x,"link",l),a.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=ym.bind(f),i.addEventListener("load",a),i.addEventListener("error",a))}}function L6(){if(Jh===null)throw Error(n(475));var i=Jh;return i.stylesheets&&i.count===0&&A1(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&A1(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function ym(){if(this.count--,this.count===0){if(this.stylesheets)A1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bm=null;function A1(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bm=new Map,a.forEach(O6,i),bm=null,ym.call(i))}function O6(i,a){if(!(a.state.loading&4)){var l=bm.get(i);if(l)var f=l.get(null);else{l=new Map,bm.set(i,l);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var M=v[x];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(l.set(M.dataset.precedence,M),f=M)}f&&l.set(null,f)}v=a.instance,M=v.getAttribute("data-precedence"),x=l.get(M)||f,x===f&&l.set(null,v),l.set(M,v),this.count++,f=ym.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),x?x.parentNode.insertBefore(v,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var ed={$$typeof:R,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function k6(i,a,l,f,v,x,M,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=x0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x0(0),this.hiddenUpdates=x0(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function ZA(i,a,l,f,v,x,M,P,$,J,le,fe){return i=new k6(i,a,l,M,P,$,J,fe),a=1,x===!0&&(a|=24),x=pi(3,null,null,a),i.current=x,x.stateNode=i,a=rv(),a.refCount++,i.pooledCache=a,a.refCount++,x.memoizedState={element:f,isDehydrated:l,cache:a},cv(x),i}function JA(i){return i?(i=gc,i):gc}function eT(i,a,l,f,v,x){v=JA(v),f.context===null?f.context=v:f.pendingContext=v,f=ca(a),f.payload={element:l},x=x===void 0?null:x,x!==null&&(f.callback=x),l=ua(i,f,a),l!==null&&(bi(l,i,a),Mh(l,i,a))}function tT(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function T1(i,a){tT(i,a),(i=i.alternate)&&tT(i,a)}function nT(i){if(i.tag===13){var a=mc(i,67108864);a!==null&&bi(a,i,67108864),T1(i,67108864)}}var xm=!0;function j6(i,a,l,f){var v=W.T;W.T=null;var x=ie.p;try{ie.p=2,_1(i,a,l,f)}finally{ie.p=x,W.T=v}}function P6(i,a,l,f){var v=W.T;W.T=null;var x=ie.p;try{ie.p=8,_1(i,a,l,f)}finally{ie.p=x,W.T=v}}function _1(i,a,l,f){if(xm){var v=C1(f);if(v===null)f1(i,a,f,wm,l),sT(i,f);else if(F6(v,i,a,l,f))f.stopPropagation();else if(sT(i,f),a&4&&-1<I6.indexOf(i)){for(;v!==null;){var x=ic(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var M=it(x.pendingLanes);if(M!==0){var P=x;for(P.pendingLanes|=2,P.entangledLanes|=2;M;){var $=1<<31-_(M);P.entanglements[1]|=$,M&=~$}Ns(x),(ot&6)===0&&(sm=qt()+500,Yh(0))}}break;case 13:P=mc(x,2),P!==null&&bi(P,x,2),am(),T1(x,2)}if(x=C1(f),x===null&&f1(i,a,f,wm,l),x===v)break;v=x}v!==null&&f.stopPropagation()}else f1(i,a,f,null,l)}}function C1(i){return i=L0(i),N1(i)}var wm=null;function N1(i){if(wm=null,i=nc(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return wm=i,null}function iT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case ec:return 2;case vo:return 8;case Jn:case ei:return 32;case sa:return 268435456;default:return 32}default:return 32}}var R1=!1,Ea=null,Aa=null,Ta=null,td=new Map,nd=new Map,_a=[],I6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sT(i,a){switch(i){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":td.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(a.pointerId)}}function id(i,a,l,f,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:a,domEventName:l,eventSystemFlags:f,nativeEvent:x,targetContainers:[v]},a!==null&&(a=ic(a),a!==null&&nT(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function F6(i,a,l,f,v){switch(a){case"focusin":return Ea=id(Ea,i,a,l,f,v),!0;case"dragenter":return Aa=id(Aa,i,a,l,f,v),!0;case"mouseover":return Ta=id(Ta,i,a,l,f,v),!0;case"pointerover":var x=v.pointerId;return td.set(x,id(td.get(x)||null,i,a,l,f,v)),!0;case"gotpointercapture":return x=v.pointerId,nd.set(x,id(nd.get(x)||null,i,a,l,f,v)),!0}return!1}function rT(i){var a=nc(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,D5(i.priority,function(){if(l.tag===13){var f=yi();f=w0(f);var v=mc(l,f);v!==null&&bi(v,l,f),T1(l,f)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Sm(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=C1(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);D0=f,l.target.dispatchEvent(f),D0=null}else return a=ic(l),a!==null&&nT(a),i.blockedOn=l,!1;a.shift()}return!0}function aT(i,a,l){Sm(i)&&l.delete(a)}function B6(){R1=!1,Ea!==null&&Sm(Ea)&&(Ea=null),Aa!==null&&Sm(Aa)&&(Aa=null),Ta!==null&&Sm(Ta)&&(Ta=null),td.forEach(aT),nd.forEach(aT)}function Em(i,a){i.blockedOn===a&&(i.blockedOn=null,R1||(R1=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,B6)))}var Am=null;function oT(i){Am!==i&&(Am=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Am===i&&(Am=null);for(var a=0;a<i.length;a+=3){var l=i[a],f=i[a+1],v=i[a+2];if(typeof f!="function"){if(N1(f||l)===null)continue;break}var x=ic(l);x!==null&&(i.splice(a,3),a-=3,Nv(x,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function sd(i){function a($){return Em($,i)}Ea!==null&&Em(Ea,i),Aa!==null&&Em(Aa,i),Ta!==null&&Em(Ta,i),td.forEach(a),nd.forEach(a);for(var l=0;l<_a.length;l++){var f=_a[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<_a.length&&(l=_a[0],l.blockedOn===null);)rT(l),l.blockedOn===null&&_a.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],x=l[f+1],M=v[ti]||null;if(typeof x=="function")M||oT(l);else if(M){var P=null;if(x&&x.hasAttribute("formAction")){if(v=x,M=x[ti]||null)P=M.formAction;else if(N1(v)!==null)continue}else P=M.action;typeof P=="function"?l[f+1]=P:(l.splice(f,3),f-=3),oT(l)}}}function M1(i){this._internalRoot=i}Tm.prototype.render=M1.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));var l=a.current,f=yi();eT(l,f,i,a,null,null)},Tm.prototype.unmount=M1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;eT(i.current,2,null,i,null,null),am(),a[tc]=null}};function Tm(i){this._internalRoot=i}Tm.prototype.unstable_scheduleHydration=function(i){if(i){var a=Aw();i={blockedOn:null,target:i,priority:a};for(var l=0;l<_a.length&&a!==0&&a<_a[l].priority;l++);_a.splice(l,0,i),l===0&&rT(i)}};var lT=e.version;if(lT!=="19.1.0")throw Error(n(527,lT,"19.1.0"));ie.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var H6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_m.isDisabled&&_m.supportsFiber)try{tr=_m.inject(H6),j=_m}catch{}}return ud.createRoot=function(i,a){if(!s(i))throw Error(n(299));var l=!1,f="",v=AE,x=TE,M=_E,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks)),a=ZA(i,1,!1,null,null,l,f,v,x,M,P,null),i[tc]=a.current,d1(i),new M1(a)},ud.hydrateRoot=function(i,a,l){if(!s(i))throw Error(n(299));var f=!1,v="",x=AE,M=TE,P=_E,$=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(M=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),a=ZA(i,1,!0,a,l??null,f,v,x,M,P,$,J),a.context=JA(null),l=a.current,f=yi(),f=w0(f),v=ca(f),v.callback=null,ua(l,v,f),l=f,a.current.lanes=l,uh(a,l),Ns(a),i[tc]=a.current,d1(i),new Tm(a)},ud.version="19.1.0",ud}var JT;function UL(){if(JT)return q1.exports;JT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),q1.exports=HL(),q1.exports}var zL=UL();const qL=nh(zL);var hd={},e_;function GL(){if(e_)return hd;e_=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.parse=u,hd.serialize=d;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,w){const S=new o,E=b.length;if(E<2)return S;const D=(w==null?void 0:w.decode)||p;let A=0;do{const C=b.indexOf("=",A);if(C===-1)break;const R=b.indexOf(";",A),N=R===-1?E:R;if(C>N){A=b.lastIndexOf(";",C-1)+1;continue}const L=c(b,A,C),H=h(b,C,L),F=b.slice(L,H);if(S[F]===void 0){let U=c(b,C+1,N),q=h(b,N,U);const te=D(b.slice(U,q));S[F]=te}A=N+1}while(A<E);return S}function c(b,w,S){do{const E=b.charCodeAt(w);if(E!==32&&E!==9)return w}while(++w<S);return S}function h(b,w,S){for(;w>S;){const E=b.charCodeAt(--w);if(E!==32&&E!==9)return w+1}return S}function d(b,w,S){const E=(S==null?void 0:S.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const D=E(w);if(!e.test(D))throw new TypeError(`argument val is invalid: ${w}`);let A=b+"="+D;if(!S)return A;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);A+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);A+="; Domain="+S.domain}if(S.path){if(!n.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);A+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);A+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(A+="; HttpOnly"),S.secure&&(A+="; Secure"),S.partitioned&&(A+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return A}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return s.call(b)==="[object Date]"}return hd}GL();var t_="popstate";function VL(r={}){function e(n,s){let{pathname:o,search:u,hash:c}=n.location;return jx("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Ud(s)}return YL(e,t,null,r)}function Pt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ks(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $L(){return Math.random().toString(36).substring(2,10)}function n_(r,e){return{usr:r.state,key:r.key,idx:e}}function jx(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ih(e):e,state:t,key:e&&e.key||n||$L()}}function Ud({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ih(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function YL(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,u=s.history,c="POP",h=null,d=p();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function p(){return(u.state||{idx:null}).idx}function g(){c="POP";let D=p(),A=D==null?null:D-d;d=D,h&&h({action:c,location:E.location,delta:A})}function b(D,A){c="PUSH";let C=jx(E.location,D,A);d=p()+1;let R=n_(C,d),N=E.createHref(C);try{u.pushState(R,"",N)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(N)}o&&h&&h({action:c,location:E.location,delta:1})}function w(D,A){c="REPLACE";let C=jx(E.location,D,A);d=p();let R=n_(C,d),N=E.createHref(C);u.replaceState(R,"",N),o&&h&&h({action:c,location:E.location,delta:0})}function S(D){return XL(D)}let E={get action(){return c},get location(){return r(s,u)},listen(D){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(t_,g),h=D,()=>{s.removeEventListener(t_,g),h=null}},createHref(D){return e(s,D)},createURL:S,encodeLocation(D){let A=S(D);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:w,go(D){return u.go(D)}};return E}function XL(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Ud(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function p4(r,e,t="/"){return WL(r,e,t,!1)}function WL(r,e,t,n){let s=typeof e=="string"?ih(e):e,o=Jr(s.pathname||"/",t);if(o==null)return null;let u=m4(r);QL(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let d=o8(o);c=r8(u[h],d,n)}return c}function m4(r,e=[],t=[],n=""){let s=(o,u,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(Pt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=Qr([n,h.relativePath]),p=t.concat(h);o.children&&o.children.length>0&&(Pt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),m4(o.children,e,p,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:i8(d,o.index),routesMeta:p})};return r.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,u);else for(let h of g4(o.path))s(o,u,h)}),e}function g4(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let u=g4(n.join("/")),c=[];return c.push(...u.map(h=>h===""?o:[o,h].join("/"))),s&&c.push(...u),c.map(h=>r.startsWith("/")&&h===""?"/":h)}function QL(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:s8(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var KL=/^:[\w-]+$/,ZL=3,JL=2,e8=1,t8=10,n8=-2,i_=r=>r==="*";function i8(r,e){let t=r.split("/"),n=t.length;return t.some(i_)&&(n+=n8),e&&(n+=JL),t.filter(s=>!i_(s)).reduce((s,o)=>s+(KL.test(o)?ZL:o===""?e8:t8),n)}function s8(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function r8(r,e,t=!1){let{routesMeta:n}=r,s={},o="/",u=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=Dg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),b=h.route;if(!g&&d&&t&&!n[n.length-1].route.index&&(g=Dg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),u.push({params:s,pathname:Qr([o,g.pathname]),pathnameBase:h8(Qr([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=Qr([o,g.pathnameBase]))}return u}function Dg(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=a8(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:g},b)=>{if(p==="*"){let S=c[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=c[b];return g&&!w?d[p]=void 0:d[p]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:r}}function a8(r,e=!1,t=!0){Ks(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function o8(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ks(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Jr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function l8(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?ih(r):r;return{pathname:t?t.startsWith("/")?t:c8(t,e):e,search:d8(n),hash:f8(s)}}function c8(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Y1(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u8(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function v4(r){let e=u8(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function y4(r,e,t,n=!1){let s;typeof r=="string"?s=ih(r):(s={...r},Pt(!s.pathname||!s.pathname.includes("?"),Y1("?","pathname","search",s)),Pt(!s.pathname||!s.pathname.includes("#"),Y1("#","pathname","hash",s)),Pt(!s.search||!s.search.includes("#"),Y1("#","search","hash",s)));let o=r===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=t;else{let g=e.length-1;if(!n&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),g-=1;s.pathname=b.join("/")}c=g>=0?e[g]:"/"}let h=l8(s,c),d=u&&u!=="/"&&u.endsWith("/"),p=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var Qr=r=>r.join("/").replace(/\/\/+/g,"/"),h8=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),d8=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,f8=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function p8(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var b4=["POST","PUT","PATCH","DELETE"];new Set(b4);var m8=["GET",...b4];new Set(m8);var sh=B.createContext(null);sh.displayName="DataRouter";var p0=B.createContext(null);p0.displayName="DataRouterState";var x4=B.createContext({isTransitioning:!1});x4.displayName="ViewTransition";var g8=B.createContext(new Map);g8.displayName="Fetchers";var v8=B.createContext(null);v8.displayName="Await";var Zs=B.createContext(null);Zs.displayName="Navigation";var hp=B.createContext(null);hp.displayName="Location";var Js=B.createContext({outlet:null,matches:[],isDataRoute:!1});Js.displayName="Route";var iw=B.createContext(null);iw.displayName="RouteError";function y8(r,{relative:e}={}){Pt(dp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=B.useContext(Zs),{hash:s,pathname:o,search:u}=fp(r,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Qr([t,o])),n.createHref({pathname:c,search:u,hash:s})}function dp(){return B.useContext(hp)!=null}function Kl(){return Pt(dp(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(hp).location}var w4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S4(r){B.useContext(Zs).static||B.useLayoutEffect(r)}function rh(){let{isDataRoute:r}=B.useContext(Js);return r?L8():b8()}function b8(){Pt(dp(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(sh),{basename:e,navigator:t}=B.useContext(Zs),{matches:n}=B.useContext(Js),{pathname:s}=Kl(),o=JSON.stringify(v4(n)),u=B.useRef(!1);return S4(()=>{u.current=!0}),B.useCallback((h,d={})=>{if(Ks(u.current,w4),!u.current)return;if(typeof h=="number"){t.go(h);return}let p=y4(h,JSON.parse(o),s,d.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Qr([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,o,s,r])}B.createContext(null);function x8(){let{matches:r}=B.useContext(Js),e=r[r.length-1];return e?e.params:{}}function fp(r,{relative:e}={}){let{matches:t}=B.useContext(Js),{pathname:n}=Kl(),s=JSON.stringify(v4(t));return B.useMemo(()=>y4(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function w8(r,e){return E4(r,e)}function E4(r,e,t,n){var C;Pt(dp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=B.useContext(Zs),{matches:u}=B.useContext(Js),c=u[u.length-1],h=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";A4(d,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=Kl(),w;if(e){let R=typeof e=="string"?ih(e):e;Pt(p==="/"||((C=R.pathname)==null?void 0:C.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=b;let S=w.pathname||"/",E=S;if(p!=="/"){let R=p.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(R.length).join("/")}let D=!o&&t&&t.matches&&t.matches.length>0?t.matches:p4(r,{pathname:E});Ks(g||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ks(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=_8(D&&D.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:Qr([p,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Qr([p,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),u,t,n);return e&&A?B.createElement(hp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function S8(){let r=D8(),e=p8(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,u)}var E8=B.createElement(S8,null),A8=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(Js.Provider,{value:this.props.routeContext},B.createElement(iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T8({routeContext:r,match:e,children:t}){let n=B.useContext(sh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Js.Provider,{value:r},t)}function _8(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Pt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:g}=t,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||b){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let g,b=!1,w=null,S=null;t&&(g=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||E8,u&&(c<0&&p===0?(A4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):c===p&&(b=!0,S=d.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,p+1)),D=()=>{let A;return g?A=w:b?A=S:d.route.Component?A=B.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,B.createElement(T8,{match:d,routeContext:{outlet:h,matches:E,isDataRoute:t!=null},children:A})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?B.createElement(A8,{location:t.location,revalidation:t.revalidation,component:w,error:g,children:D(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):D()},null)}function sw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C8(r){let e=B.useContext(sh);return Pt(e,sw(r)),e}function N8(r){let e=B.useContext(p0);return Pt(e,sw(r)),e}function R8(r){let e=B.useContext(Js);return Pt(e,sw(r)),e}function rw(r){let e=R8(r),t=e.matches[e.matches.length-1];return Pt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function M8(){return rw("useRouteId")}function D8(){var n;let r=B.useContext(iw),e=N8("useRouteError"),t=rw("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function L8(){let{router:r}=C8("useNavigate"),e=rw("useNavigate"),t=B.useRef(!1);return S4(()=>{t.current=!0}),B.useCallback(async(s,o={})=>{Ks(t.current,w4),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var s_={};function A4(r,e,t){!e&&!s_[r]&&(s_[r]=!0,Ks(!1,t))}B.memo(O8);function O8({routes:r,future:e,state:t}){return E4(r,void 0,t,e)}function as(r){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k8({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:o=!1}){Pt(!dp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=ih(t));let{pathname:h="/",search:d="",hash:p="",state:g=null,key:b="default"}=t,w=B.useMemo(()=>{let S=Jr(h,u);return S==null?null:{location:{pathname:S,search:d,hash:p,state:g,key:b},navigationType:n}},[u,h,d,p,g,b,n]);return Ks(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:B.createElement(Zs.Provider,{value:c},B.createElement(hp.Provider,{children:e,value:w}))}function j8({children:r,location:e}){return w8(Px(r),e)}function Px(r,e=[]){let t=[];return B.Children.forEach(r,(n,s)=>{if(!B.isValidElement(n))return;let o=[...e,s];if(n.type===B.Fragment){t.push.apply(t,Px(n.props.children,o));return}Pt(n.type===as,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Px(n.props.children,o)),t.push(u)}),t}var Eg="get",Ag="application/x-www-form-urlencoded";function m0(r){return r!=null&&typeof r.tagName=="string"}function P8(r){return m0(r)&&r.tagName.toLowerCase()==="button"}function I8(r){return m0(r)&&r.tagName.toLowerCase()==="form"}function F8(r){return m0(r)&&r.tagName.toLowerCase()==="input"}function B8(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function H8(r,e){return r.button===0&&(!e||e==="_self")&&!B8(r)}var km=null;function U8(){if(km===null)try{new FormData(document.createElement("form"),0),km=!1}catch{km=!0}return km}var z8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X1(r){return r!=null&&!z8.has(r)?(Ks(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ag}"`),null):r}function q8(r,e){let t,n,s,o,u;if(I8(r)){let c=r.getAttribute("action");n=c?Jr(c,e):null,t=r.getAttribute("method")||Eg,s=X1(r.getAttribute("enctype"))||Ag,o=new FormData(r)}else if(P8(r)||F8(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||c.getAttribute("action");if(n=h?Jr(h,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Eg,s=X1(r.getAttribute("formenctype"))||X1(c.getAttribute("enctype"))||Ag,o=new FormData(c,r),!U8()){let{name:d,type:p,value:g}=r;if(p==="image"){let b=d?`${d}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else d&&o.append(d,g)}}else{if(m0(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Eg,n=null,s=Ag,u=r}return o&&s==="text/plain"&&(u=o,o=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:o,body:u}}function aw(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function G8(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V8(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $8(r,e,t){let n=await Promise.all(r.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await G8(o,t);return u.links?u.links():[]}return[]}));return Q8(n.flat(1).filter(V8).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function r_(r,e,t,n,s,o){let u=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var p;return t[d].pathname!==h.pathname||((p=t[d].route.path)==null?void 0:p.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,d)=>u(h,d)||c(h,d)):o==="data"?e.filter((h,d)=>{var g;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(u(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Y8(r,e,{includeHydrateFallback:t}={}){return X8(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function X8(r){return[...new Set(r)]}function W8(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function Q8(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let o=JSON.stringify(W8(s));return t.has(o)||(t.add(o),n.push({key:o,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var K8=new Set([100,101,204,205]);function Z8(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Jr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function T4(){let r=B.useContext(sh);return aw(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function J8(){let r=B.useContext(p0);return aw(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ow=B.createContext(void 0);ow.displayName="FrameworkContext";function _4(){let r=B.useContext(ow);return aw(r,"You must render this element inside a <HydratedRouter> element"),r}function eO(r,e){let t=B.useContext(ow),[n,s]=B.useState(!1),[o,u]=B.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=e,b=B.useRef(null);B.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let E=A=>{A.forEach(C=>{u(C.isIntersecting)})},D=new IntersectionObserver(E,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[r]),B.useEffect(()=>{if(n){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[n]);let w=()=>{s(!0)},S=()=>{s(!1),u(!1)};return t?r!=="intent"?[o,b,{}]:[o,b,{onFocus:dd(c,w),onBlur:dd(h,S),onMouseEnter:dd(d,w),onMouseLeave:dd(p,S),onTouchStart:dd(g,w)}]:[!1,b,{}]}function dd(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function tO({page:r,...e}){let{router:t}=T4(),n=B.useMemo(()=>p4(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?B.createElement(iO,{page:r,matches:n,...e}):null}function nO(r){let{manifest:e,routeModules:t}=_4(),[n,s]=B.useState([]);return B.useEffect(()=>{let o=!1;return $8(r,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[r,e,t]),n}function iO({page:r,matches:e,...t}){let n=Kl(),{manifest:s,routeModules:o}=_4(),{basename:u}=T4(),{loaderData:c,matches:h}=J8(),d=B.useMemo(()=>r_(r,e,h,s,n,"data"),[r,e,h,s,n]),p=B.useMemo(()=>r_(r,e,h,s,n,"assets"),[r,e,h,s,n]),g=B.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let S=new Set,E=!1;if(e.forEach(A=>{var R;let C=s.routes[A.route.id];!C||!C.hasLoader||(!d.some(N=>N.route.id===A.route.id)&&A.route.id in c&&((R=o[A.route.id])!=null&&R.shouldRevalidate)||C.hasClientLoader?E=!0:S.add(A.route.id))}),S.size===0)return[];let D=Z8(r,u);return E&&S.size>0&&D.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[D.pathname+D.search]},[u,c,n,s,d,e,r,o]),b=B.useMemo(()=>Y8(p,s),[p,s]),w=nO(p);return B.createElement(B.Fragment,null,g.map(S=>B.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),b.map(S=>B.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),w.map(({key:S,link:E})=>B.createElement("link",{key:S,...E})))}function sO(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var C4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C4&&(window.__reactRouterVersion="7.6.0")}catch{}function rO({basename:r,children:e,window:t}){let n=B.useRef();n.current==null&&(n.current=VL({window:t,v5Compat:!0}));let s=n.current,[o,u]=B.useState({action:s.action,location:s.location}),c=B.useCallback(h=>{B.startTransition(()=>u(h))},[u]);return B.useLayoutEffect(()=>s.listen(c),[s,c]),B.createElement(k8,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:s})}var N4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wr=B.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:o,replace:u,state:c,target:h,to:d,preventScrollReset:p,viewTransition:g,...b},w){let{basename:S}=B.useContext(Zs),E=typeof d=="string"&&N4.test(d),D,A=!1;if(typeof d=="string"&&E&&(D=d,C4))try{let q=new URL(window.location.href),te=d.startsWith("//")?new URL(q.protocol+d):new URL(d),V=Jr(te.pathname,S);te.origin===q.origin&&V!=null?d=V+te.search+te.hash:A=!0}catch{Ks(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=y8(d,{relative:s}),[R,N,L]=eO(n,b),H=cO(d,{replace:u,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:g});function F(q){e&&e(q),q.defaultPrevented||H(q)}let U=B.createElement("a",{...b,...L,href:D||C,onClick:A||o?e:F,ref:sO(w,N),target:h,"data-discover":!E&&t==="render"?"true":void 0});return R&&!E?B.createElement(B.Fragment,null,U,B.createElement(tO,{page:C})):U});wr.displayName="Link";var aO=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:o,to:u,viewTransition:c,children:h,...d},p){let g=fp(u,{relative:d.relative}),b=Kl(),w=B.useContext(p0),{navigator:S,basename:E}=B.useContext(Zs),D=w!=null&&pO(g)&&c===!0,A=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,C=b.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(C=C.toLowerCase(),R=R?R.toLowerCase():null,A=A.toLowerCase()),R&&E&&(R=Jr(R,E)||R);const N=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let L=C===A||!s&&C.startsWith(A)&&C.charAt(N)==="/",H=R!=null&&(R===A||!s&&R.startsWith(A)&&R.charAt(A.length)==="/"),F={isActive:L,isPending:H,isTransitioning:D},U=L?e:void 0,q;typeof n=="function"?q=n(F):q=[n,L?"active":null,H?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let te=typeof o=="function"?o(F):o;return B.createElement(wr,{...d,"aria-current":U,className:q,ref:p,style:te,to:u,viewTransition:c},typeof h=="function"?h(F):h)});aO.displayName="NavLink";var oO=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:o,method:u=Eg,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:g,...b},w)=>{let S=dO(),E=fO(c,{relative:d}),D=u.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&N4.test(c),C=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let N=R.nativeEvent.submitter,L=(N==null?void 0:N.getAttribute("formmethod"))||u;S(N||R.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:s,state:o,relative:d,preventScrollReset:p,viewTransition:g})};return B.createElement("form",{ref:w,method:D,action:E,onSubmit:n?h:C,...b,"data-discover":!A&&r==="render"?"true":void 0})});oO.displayName="Form";function lO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R4(r){let e=B.useContext(sh);return Pt(e,lO(r)),e}function cO(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:o,viewTransition:u}={}){let c=rh(),h=Kl(),d=fp(r,{relative:o});return B.useCallback(p=>{if(H8(p,e)){p.preventDefault();let g=t!==void 0?t:Ud(h)===Ud(d);c(r,{replace:g,state:n,preventScrollReset:s,relative:o,viewTransition:u})}},[h,c,d,t,n,e,r,s,o,u])}var uO=0,hO=()=>`__${String(++uO)}__`;function dO(){let{router:r}=R4("useSubmit"),{basename:e}=B.useContext(Zs),t=M8();return B.useCallback(async(n,s={})=>{let{action:o,method:u,encType:c,formData:h,body:d}=q8(n,e);if(s.navigate===!1){let p=s.fetcherKey||hO();await r.fetch(p,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await r.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function fO(r,{relative:e}={}){let{basename:t}=B.useContext(Zs),n=B.useContext(Js);Pt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...fp(r||".",{relative:e})},u=Kl();if(r==null){o.search=u.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();o.search=p?`?${p}`:""}}return(!r||r===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Qr([t,o.pathname])),Ud(o)}function pO(r,e={}){let t=B.useContext(x4);Pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=R4("useViewTransitionState"),s=fp(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Jr(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=Jr(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Dg(s.pathname,u)!=null||Dg(s.pathname,o)!=null}[...K8];const mO="/assets/file-blank-solid-240-DUMZ0WQ9.png",gO="/assets/file-css-solid-240-BHklwn9W.png",vO="/assets/file-pdf-solid-240-ANi_uwT2.png",yO="/assets/file-png-solid-240-Cd058vx6.png",ft={GetCurrentUser:async()=>{try{const e=await(await fetch(`${on}public/currentUser`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}})).json();return localStorage.setItem("userData",JSON.stringify(e||{})),e}catch(r){throw console.error("CurrentUser error:",r),r}},GetDoctorsList:async()=>{try{const r=await fetch(`${on}public/alldoctors`,{method:"GET",headers:{"Content-Type":"application/json"}}),e=await r.json();if(!r.ok)throw console.log("Failed to fetch current user:",r.status),new Error(e.message||"Failed to fetch current user");return localStorage.setItem("DoctorsList",JSON.stringify(e||{})),e}catch(r){throw console.error("DoctorsList error:",r),r}},CreatAppointment:async r=>{try{const e=await fetch(`${on}public/reservation`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`},body:JSON.stringify(r)}),t=await e.json();if(!e.ok)throw console.log("Failed to fetch current user:",e.status),new Error(t.message||"Failed to fetch current user");return t}catch(e){throw console.error("DoctorsList error:",e),e}},AddPatientInfo:async r=>{try{const e=await fetch(`${on}public/patient/Info`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`},body:JSON.stringify(r)}),t=await e.json();if(!e.ok)throw console.log("Failed to fetch current user:",e.status),new Error(t.message||"Failed to fetch current user");return t}catch(e){throw console.error("DoctorsList error:",e),e}},CancelAppointment:async r=>{try{const e=await fetch(`${on}public/Cancel-reservation`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`},body:JSON.stringify(r)}),t=await e.json();if(!e.ok)throw console.log("Failed to fetch current user:",e.status),new Error(t.message||"Failed to fetch current user");return t}catch(e){throw console.error("DoctorsList error:",e),e}},UpdateUser:async r=>{const e=await fetch(`${on}public/Update-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`},body:JSON.stringify(r)});if(!e.ok){const t=await e.text();let n="Something went wrong";try{n=JSON.parse(t).message||n}catch{t&&(n=t)}throw new Error(n)}return await e.json()},uploadProfilePicture:async r=>{await fetch(`${on}public/uploadProfilePicture`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`},body:r})},DoctorReservations:async()=>{try{const e=await(await fetch(`${on}public/doctor-reservation`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}})).json();localStorage.setItem("DoctorReservations",JSON.stringify(e||{}))}catch(r){throw console.error("DoctorReservations error:",r),r}},PatientReservations:async()=>{try{const e=await(await fetch(`${on}public/patient-reservation`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}})).json();localStorage.setItem("PatientReservations",JSON.stringify(e||{}))}catch(r){throw console.error("PatientReservations error:",r),r}},uploadDocument:async(r,e)=>{await fetch(`${on}public/uploadDocument/${e}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`},body:r})},changePasswordSecure:async r=>{try{const e=await fetch(`${on}/auth/change-password-secure`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(r)});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to change password")}return await e.json()}catch(e){throw new Error(e.message||"Network error occurred")}},GetAllUsers:async()=>{try{const e=await(await fetch(`${on}public/user`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}})).json();localStorage.setItem("allUsers",JSON.stringify(e||{}))}catch(r){throw console.error("PatientReservations error:",r),r}},GetReservationCount:async(r,e)=>{try{return await(await fetch(`${on}public/reservation/count?date=${r}&doctorId=${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}})).json()}catch(t){throw console.error("PatientReservations error:",t),t}},UpdateOrCreateDoctorInfo:async r=>{try{const e=await fetch(`${on}public/doctor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(r)});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to change password")}return await e.json()}catch(e){throw new Error(e.message||"Network error occurred")}},GetDoctorsByStatus:async r=>{try{const t=await(await fetch(`${on}public/doctors-by-status/${r}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}})).json();return localStorage.setItem("DoctorsList",JSON.stringify(t||{})),t}catch(e){throw console.error("GetDoctors error:",e),e}},UpdateDoctorStatus:async(r,e)=>{const t=await fetch(`${on}public/doctor/status/${r}?status=${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});t.ok||console.error("Failed to update doctor status",t.statusText);const n=await t.json();return localStorage.setItem("DoctorsList",JSON.stringify(n||{})),n},UpdateAppointmentStatus:async(r,e)=>{try{await fetch(`${on}public/reservation/updatestatus?id=${r}&status=${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}})}catch(t){throw console.error("PatientReservations error:",t),t}}},on="https://medicareb.work.gd/api/",M4={0:"https://mighty.tools/mockmind-api/content/human/99.jpg",1:"https://mighty.tools/mockmind-api/content/human/80.jpg",2:"https://mighty.tools/mockmind-api/content/human/104.jpg",3:"https://mighty.tools/mockmind-api/content/human/91.jpg",4:"https://mighty.tools/mockmind-api/content/human/92.jpg",5:"https://mighty.tools/mockmind-api/content/human/102.jpg",6:"https://mighty.tools/mockmind-api/content/human/57.jpg",7:"https://mighty.tools/mockmind-api/content/human/112.jpg",8:"https://mighty.tools/mockmind-api/content/human/99.jpg",9:"https://mighty.tools/mockmind-api/content/human/80.jpg",10:"https://mighty.tools/mockmind-api/content/human/104.jpg",11:"https://mighty.tools/mockmind-api/content/human/91.jpg",12:"https://mighty.tools/mockmind-api/content/human/92.jpg",13:"https://mighty.tools/mockmind-api/content/human/102.jpg",14:"https://mighty.tools/mockmind-api/content/human/57.jpg",15:"https://mighty.tools/mockmind-api/content/human/112.jpg",16:"https://mighty.tools/mockmind-api/content/human/99.jpg",17:"https://mighty.tools/mockmind-api/content/human/80.jpg",18:"https://mighty.tools/mockmind-api/content/human/104.jpg",19:"https://mighty.tools/mockmind-api/content/human/91.jpg",20:"https://mighty.tools/mockmind-api/content/human/92.jpg",21:"https://mighty.tools/mockmind-api/content/human/102.jpg",22:"https://mighty.tools/mockmind-api/content/human/57.jpg",23:"https://mighty.tools/mockmind-api/content/human/112.jpg",24:"https://mighty.tools/mockmind-api/content/human/99.jpg",25:"https://mighty.tools/mockmind-api/content/human/80.jpg",26:"https://mighty.tools/mockmind-api/content/human/104.jpg",27:"https://mighty.tools/mockmind-api/content/human/91.jpg",28:"https://mighty.tools/mockmind-api/content/human/92.jpg",29:"https://mighty.tools/mockmind-api/content/human/102.jpg",30:"https://mighty.tools/mockmind-api/content/human/57.jpg",31:"https://mighty.tools/mockmind-api/content/human/112.jpg"},D4={0:"https://mighty.tools/mockmind-api/content/human/97.jpg",1:"https://mighty.tools/mockmind-api/content/human/125.jpg",2:"https://mighty.tools/mockmind-api/content/human/116.jpg",3:"https://mighty.tools/mockmind-api/content/human/123.jpg",4:"https://mighty.tools/mockmind-api/content/human/128.jpg",5:"https://mighty.tools/mockmind-api/content/human/129.jpg",6:"https://mighty.tools/mockmind-api/content/human/87.jpg",7:"https://mighty.tools/mockmind-api/content/human/111.jpg",8:"https://mighty.tools/mockmind-api/content/human/97.jpg",9:"https://mighty.tools/mockmind-api/content/human/125.jpg",10:"https://mighty.tools/mockmind-api/content/human/116.jpg",11:"https://mighty.tools/mockmind-api/content/human/123.jpg",12:"https://mighty.tools/mockmind-api/content/human/128.jpg",13:"https://mighty.tools/mockmind-api/content/human/129.jpg",14:"https://mighty.tools/mockmind-api/content/human/87.jpg",15:"https://mighty.tools/mockmind-api/content/human/111.jpg",16:"https://mighty.tools/mockmind-api/content/human/97.jpg",17:"https://mighty.tools/mockmind-api/content/human/125.jpg",18:"https://mighty.tools/mockmind-api/content/human/116.jpg",19:"https://mighty.tools/mockmind-api/content/human/123.jpg",20:"https://mighty.tools/mockmind-api/content/human/128.jpg",21:"https://mighty.tools/mockmind-api/content/human/129.jpg",22:"https://mighty.tools/mockmind-api/content/human/87.jpg",23:"https://mighty.tools/mockmind-api/content/human/111.jpg",24:"https://mighty.tools/mockmind-api/content/human/97.jpg",25:"https://mighty.tools/mockmind-api/content/human/125.jpg",26:"https://mighty.tools/mockmind-api/content/human/116.jpg",27:"https://mighty.tools/mockmind-api/content/human/123.jpg",28:"https://mighty.tools/mockmind-api/content/human/128.jpg",29:"https://mighty.tools/mockmind-api/content/human/129.jpg",30:"https://mighty.tools/mockmind-api/content/human/87.jpg",31:"https://mighty.tools/mockmind-api/content/human/111.jpg"};JSON.parse(localStorage.getItem("userData"));const bO="BG4RexXOjw1VP-aLtSrCVCva4p5rk9crSInF8848SvWXGESDpZRqBb3YNNEtmRGI0VANCYft2DojG8QhHIhCPnU",ea="src/assets/userProfilePictures/default-female.jpg",ta="src/assets/userProfilePictures/default-male.jpg",L4=["Cairo","elsheikhZayed","Alexandria","Giza","Mansoura","Tanta","Asyut","Suez","PortSaid","Ismailia","Dakahlia","Qalyubia","Gharbia","Sharqia","KafrElSheikh","Beheira","Matrouh","BeniSuef","Minya","Fayoum","Qena","Luxor","Aswan","RedSea","SouthSinai","NorthSinai","NewValley","Sohag"],Lg={default:mO,pdf:vO,png:yO,css:gO};function xO({children:r,trigger:e}){const[t,n]=B.useState(!1),s=B.useRef(null),o=()=>{clearTimeout(s.current),n(!0)},u=()=>{s.current=setTimeout(()=>{n(!1)},400)};return y.jsxs("div",{onMouseEnter:o,onMouseLeave:u,className:"relative inline-block",children:[y.jsx("div",{className:`w-full pr-10 ${t?"bg-white rounded-t-xl":""}`,children:e}),t&&y.jsx("ul",{className:`absolute w-full  z-11\r
            bg-white divide-y divide-gray-100 rounded-b-lg shadow-2xl shadow-black overflow-hidden`,children:r})]})}function a_({children:r}){return y.jsx("li",{className:`flex gap-3 items-center px-4 py-2 text-gray-800 hover:bg-gray-50\r
        cursor-pointer `,children:r})}const Bl={signup:async r=>{try{const e=await fetch(`${on}auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",accept:"*/*"},body:JSON.stringify(r)}),t=await e.json();if(!e.ok)throw new Error(t.message||"Signup failed");return t}catch(e){throw console.error("Signup error:",e),e}},login:async r=>{try{const e=await fetch(`${on}auth/signin`,{method:"POST",headers:{"Content-Type":"application/json",accept:"*/*"},body:JSON.stringify(r)});console.log(e.status);const t=await e.json();if(!e.ok)throw new Error(t.message||"Login failed");return t.token&&(localStorage.setItem("authToken",t.token),await ft.GetCurrentUser()),t}catch(e){throw console.error("Login error:",e),e}},logout:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),localStorage.removeItem("DoctorsList"),localStorage.removeItem("loglevel"),localStorage.removeItem("PatientReservations"),localStorage.removeItem("DoctorReservations")},getToken:()=>localStorage.getItem("authToken"),isLoggedIn:()=>!!localStorage.getItem("authToken")};function g0(){const r=localStorage.getItem("userData"),e=r?JSON.parse(r):null,[t,n]=B.useState(!1),s=rh();return B.useEffect(()=>{n(e!==null)},[]),y.jsx("div",{children:y.jsxs("header",{className:"flex justify-between items-center text-black py-6 px-8 md:px-32",children:[y.jsx("div",{className:"flex items-center",children:y.jsx(wr,{to:"/",className:"text-lg hover:text-blue-500",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",alt:"Logo",className:"w-12 h-12 mr-2",viewBox:"0 0 122.88 112.33",children:[y.jsx("defs",{}),y.jsx("title",{children:"medical"}),y.jsx("path",{className:"cls-1",d:"M15.09,8.48a7.6,7.6,0,0,1-1-3.08c-.07-1.7.8-3.11,2.71-4.31A7.9,7.9,0,0,1,18.3.37,5.67,5.67,0,0,1,25.53,8a6,6,0,0,1-5.38,3.64,6.75,6.75,0,0,1-5.06-3.11Z"}),y.jsx("path",{className:"cls-1",d:"M43.57,8.48a7.45,7.45,0,0,0,1-3.08c.07-1.7-.79-3.11-2.71-4.31A7.9,7.9,0,0,0,40.36.37,5.67,5.67,0,0,0,33.13,8a6,6,0,0,0,5.38,3.64,6.75,6.75,0,0,0,5.06-3.11Z"}),y.jsx("path",{className:"cls-1",d:"M102.74,4.26a20.14,20.14,0,0,1,4.92,39.67c0,1.37.09,1.24.15,3.46.11,3.85.23,7.94.23,11.31h0c0,25.13-4.4,53.63-40.84,53.63-13.52,0-23.42-6.48-30.35-15.52-8.17-10.66-12-25-12.73-35.91a35.48,35.48,0,0,1-6.4-6A84.69,84.69,0,0,1,9,42.4a4.62,4.62,0,0,1-.24-4.15l-.43-.83C2.47,26-1.36,13.43.46,8c.85-2.57,2.89-4.26,5.91-5.2A28.32,28.32,0,0,1,16,2a3.2,3.2,0,1,1-.33,6.4,22.39,22.39,0,0,0-7.38.53c-1,.31-1.59.67-1.73,1.09C5.25,13.81,8.83,24.34,14,34.5c.21.42.42.83.64,1.24a4.61,4.61,0,0,1,2.36,2,74.84,74.84,0,0,0,7.7,11.11,29.83,29.83,0,0,0,3.93,3.9l.47,0A25.36,25.36,0,0,0,33,49.24a70.59,70.59,0,0,0,8.13-11.36,4.62,4.62,0,0,1,2.34-2c5.42-10,9.34-20.78,8.54-25-.18-1-1-1.59-2.28-2a24.72,24.72,0,0,0-7.43-.81,3.2,3.2,0,0,1,0-6.4,30.17,30.17,0,0,1,9.47,1.14c3.41,1.15,5.85,3.25,6.54,6.9,1,5.5-3,17.68-8.91,28.7a4.65,4.65,0,0,1-.27,4.19,81.46,81.46,0,0,1-9.26,12.88A32.1,32.1,0,0,1,33.43,61c.69,9.32,4,21.28,10.79,30.15C49.51,98.08,57,103,67.19,103c28.18,0,31.57-23.56,31.57-44.33h0c0-4.35-.1-7.81-.19-11.06-.07-2.2-.13-2.84-.17-3.58a20.14,20.14,0,0,1,4.36-39.8Zm0,7.24a12.9,12.9,0,1,1-12.9,12.9,12.89,12.89,0,0,1,12.9-12.9Z"}),y.jsx("path",{className:"cls-2",d:"M62.52,50.17h8.14a2.77,2.77,0,0,1,2.76,2.76v9.4h9.4a2.77,2.77,0,0,1,2.76,2.76v8.14A2.77,2.77,0,0,1,82.82,76h-9.4v9.39a2.77,2.77,0,0,1-2.76,2.77H62.52a2.78,2.78,0,0,1-2.77-2.77V76H50.36a2.78,2.78,0,0,1-2.77-2.77V65.09a2.78,2.78,0,0,1,2.77-2.77h9.4V52.93a2.77,2.77,0,0,1,2.76-2.76Z"})]})})}),y.jsxs("nav",{className:"space-x-4  flex flex-row items-center",children:[y.jsx(wr,{to:"/",className:"text-lg hover:text-blue-500 mt-3",children:"Home"}),(e==null?void 0:e.roles[0].name)==="ROLE_DOCTOR"&&y.jsx(wr,{to:"/dashboard",className:"text-lg hover:text-blue-500 mt-3",children:"Dashboard"}),t===!0?y.jsxs(xO,{trigger:y.jsxs(wr,{to:"/settings",className:"text-lg w-[190px] hover:text-blue-500 flex flex-row items-center space-x-3 ",children:[y.jsx("img",{src:e.imageUrl!=null?e.imageUrl:e.gender==="male"?ta:ea,alt:e.gender==="male"?ta:ea,className:"w-[50px] h-[50px]  mb-1 rounded-full ml-3 mt-3 object-cover"}),y.jsxs("div",{className:"flex flex-col ",children:[y.jsxs("p",{className:"leading-4 mt-3 font-[Poppins] ",children:[e==null?void 0:e.username," "]}),y.jsxs("p",{className:"font-[Poppins] text-gray-800 text-sm pr-3 max-w-[160px] overflow-hidden text-ellipsis whitespace-nowrap",children:[e==null?void 0:e.email," "]})]})]}),children:[y.jsx(a_,{children:y.jsx("button",{className:"text-lg hover:text-blue-500",onClick:()=>{Bl.logout(),n(!1),s("/")},children:"Logout"})}),y.jsx(a_,{children:y.jsx(wr,{to:"/settings",className:"text-lg hover:text-blue-500",children:"Profile"})})]}):y.jsx(y.Fragment,{}),t===!1?y.jsx(wr,{to:"/signup",children:y.jsx("button",{className:"bg-[#DFDFDF] text-[#373637] w-40 h-11 rounded-lg font-bold pt-1 hover:bg-[rgba(0,0,0,0.2)] transition duration-300 ease-in-out",children:y.jsxs("span",{className:"inline-flex items-center space-x-2",children:[y.jsx("svg",{className:"w-5 h-5",width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M11.3334 13V11.6667C11.3334 10.9594 11.0525 10.2811 10.5524 9.78105C10.0523 9.28095 9.37399 9 8.66675 9H3.33341C2.62617 9 1.94789 9.28095 1.4478 9.78105C0.9477 10.2811 0.666748 10.9594 0.666748 11.6667V13M15.3334 13V11.6667C15.333 11.0758 15.1363 10.5018 14.7743 10.0349C14.4123 9.5679 13.9055 9.23438 13.3334 9.08667M10.6667 1.08667C11.2404 1.23353 11.7488 1.56713 12.1118 2.03487C12.4749 2.50261 12.672 3.07789 12.672 3.67C12.672 4.26211 12.4749 4.83739 12.1118 5.30513C11.7488 5.77287 11.2404 6.10647 10.6667 6.25333M8.66675 3.66667C8.66675 5.13943 7.47284 6.33333 6.00008 6.33333C4.52732 6.33333 3.33341 5.13943 3.33341 3.66667C3.33341 2.19391 4.52732 1 6.00008 1C7.47284 1 8.66675 2.19391 8.66675 3.66667Z",stroke:"#8A226F",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})}),y.jsx("span",{className:"font-[Poppins]  text-sm",children:"  Create Account"})]})})}):y.jsx(y.Fragment,{}),t===!1?y.jsx(wr,{to:"/login",children:y.jsx("button",{className:"bg-[#DFDFDF] text-[#373637] w-35 h-11 rounded-lg font-bold pt-1 hover:bg-[rgba(0,0,0,0.2)] transition duration-300 ease-in-out",children:y.jsxs("span",{className:"inline-flex items-center space-x-2",children:[y.jsx("svg",{className:"w-5 h-5",width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M11.3334 13V11.6667C11.3334 10.9594 11.0525 10.2811 10.5524 9.78105C10.0523 9.28095 9.37399 9 8.66675 9H3.33341C2.62617 9 1.94789 9.28095 1.4478 9.78105C0.9477 10.2811 0.666748 10.9594 0.666748 11.6667V13M15.3334 13V11.6667C15.333 11.0758 15.1363 10.5018 14.7743 10.0349C14.4123 9.5679 13.9055 9.23438 13.3334 9.08667M10.6667 1.08667C11.2404 1.23353 11.7488 1.56713 12.1118 2.03487C12.4749 2.50261 12.672 3.07789 12.672 3.67C12.672 4.26211 12.4749 4.83739 12.1118 5.30513C11.7488 5.77287 11.2404 6.10647 10.6667 6.25333M8.66675 3.66667C8.66675 5.13943 7.47284 6.33333 6.00008 6.33333C4.52732 6.33333 3.33341 5.13943 3.33341 3.66667C3.33341 2.19391 4.52732 1 6.00008 1C7.47284 1 8.66675 2.19391 8.66675 3.66667Z",stroke:"#8A226F",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})}),y.jsx("span",{className:"font-[Poppins]  text-sm",children:" Sign in"})]})})}):y.jsx(y.Fragment,{})]})]})})}function O4({text:r,Input:e,change:t,width:n}){return y.jsxs("div",{className:"flex rounded-2xl ",children:[y.jsxs("svg",{width:"56",height:"59",viewBox:"0 0 56 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"z-10 ",children:[y.jsx("path",{d:"M0 10C0 4.47715 4.47715 0 10 0H46C51.5229 0 56 4.47715 56 10V49C56 54.5228 51.5229 59 46 59H10C4.47715 59 0 54.5228 0 49V10Z",fill:"#95D2FF"}),y.jsx("path",{d:"M36.625 40.5L31.7312 35.425M34.375 28.8333C34.375 33.988 30.3456 38.1667 25.375 38.1667C20.4044 38.1667 16.375 33.988 16.375 28.8333C16.375 23.6787 20.4044 19.5 25.375 19.5C30.3456 19.5 34.375 23.6787 34.375 28.8333Z",stroke:"#444444",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}),y.jsx("input",{style:{width:n},className:"flex max-w-[600px] h-[59px] bg-[rgb(120,111,173,17%)] text-[Poppins] font-bold text-[#7B7B7B] rounded-xl  absolute z-0  pl-20 items-center justify-start focus:border-gray-400 focus:border-2 outline-0  ",type:"text",placeholder:r,value:e,onChange:t})]})}function k4({location:r,width:e}){return y.jsxs("div",{className:"flex rounded-2xl ",children:[y.jsxs("svg",{width:"56",height:"59",viewBox:"0 0 56 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"z-10 ",children:[y.jsx("path",{d:"M0 10C0 4.47715 4.47715 0 10 0H46C51.5229 0 56 4.47715 56 10V49C56 54.5228 51.5229 59 46 59H10C4.47715 59 0 54.5228 0 49V10Z",fill:"#95D2FF"}),y.jsx("path",{d:"M27.5 44.1667C27.1597 44.1667 26.868 44.0722 26.625 43.8833C26.3819 43.6944 26.1996 43.4465 26.0781 43.1396C25.6163 41.8174 25.0329 40.5778 24.3281 39.4208C23.6475 38.2639 22.6875 36.9062 21.4479 35.3479C20.2083 33.7896 19.1996 32.3021 18.4218 30.8854C17.6684 29.4687 17.2916 27.7569 17.2916 25.75C17.2916 22.9875 18.276 20.65 20.2448 18.7375C22.2378 16.8014 24.6562 15.8333 27.5 15.8333C30.3437 15.8333 32.75 16.8014 34.7187 18.7375C36.7118 20.65 37.7083 22.9875 37.7083 25.75C37.7083 27.8986 37.2829 29.6931 36.4323 31.1333C35.6059 32.55 34.6458 33.9549 33.552 35.3479C32.2395 37.0479 31.243 38.4646 30.5625 39.5979C29.9062 40.7076 29.3593 41.8882 28.9218 43.1396C28.8003 43.4701 28.6059 43.7299 28.3385 43.9187C28.0954 44.084 27.8159 44.1667 27.5 44.1667ZM27.5 39.1021C27.9132 38.2993 28.375 37.5083 28.8854 36.7292C29.4201 35.95 30.1979 34.9111 31.2187 33.6125C32.2638 32.2903 33.1145 31.0743 33.7708 29.9646C34.4513 28.8312 34.7916 27.4264 34.7916 25.75C34.7916 23.7903 34.0746 22.1257 32.6406 20.7562C31.2309 19.3632 29.5173 18.6667 27.5 18.6667C25.4826 18.6667 23.7569 19.3632 22.3229 20.7562C20.9132 22.1257 20.2083 23.7903 20.2083 25.75C20.2083 27.4264 20.5364 28.8312 21.1927 29.9646C21.8732 31.0743 22.7361 32.2903 23.7812 33.6125C24.802 34.9111 25.5677 35.95 26.0781 36.7292C26.6128 37.5083 27.0868 38.2993 27.5 39.1021ZM27.5 29.2917C28.5208 29.2917 29.3836 28.9493 30.0885 28.2646C30.7934 27.5799 31.1458 26.7417 31.1458 25.75C31.1458 24.7583 30.7934 23.9201 30.0885 23.2354C29.3836 22.5507 28.5208 22.2083 27.5 22.2083C26.4791 22.2083 25.6163 22.5507 24.9114 23.2354C24.2066 23.9201 23.8541 24.7583 23.8541 25.75C23.8541 26.7417 24.2066 27.5799 24.9114 28.2646C25.6163 28.9493 26.4791 29.2917 27.5 29.2917Z",fill:"#4A4458"})]}),y.jsxs("div",{style:{width:e},className:"flex max-w-[600px] h-[59px] bg-[rgb(120,111,173,17%)] text-[Poppins] font-bold text-[#7B7B7B] rounded-lg  absolute z-0  pl-20 items-center justify-start ",children:[" ",r]})]})}const j4=6048e5,wO=864e5,SO=6e4,EO=36e5,AO=1e3,o_=Symbol.for("constructDateFrom");function Rt(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&o_ in r?r[o_](e):r instanceof Date?new r.constructor(e):new Date(e)}function xt(r,e){return Rt(e||r,r)}function lw(r,e,t){const n=xt(r,t==null?void 0:t.in);return isNaN(e)?Rt((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function TO(r,e,t){const n=xt(r,t==null?void 0:t.in);if(isNaN(e))return Rt(r,NaN);if(!e)return n;const s=n.getDate(),o=Rt(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const u=o.getDate();return s>=u?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function l_(r,e,t){const{years:n=0,months:s=0,weeks:o=0,days:u=0,hours:c=0,minutes:h=0,seconds:d=0}=e,p=xt(r,t==null?void 0:t.in),g=s||n?TO(p,s+n*12):p,b=u||o?lw(g,u+o*7):g,w=h+c*60,E=(d+w*60)*1e3;return Rt(r,+b+E)}let _O={};function ah(){return _O}function ho(r,e){var c,h,d,p;const t=ah(),n=(e==null?void 0:e.weekStartsOn)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((p=(d=t.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,s=xt(r,e==null?void 0:e.in),o=s.getDay(),u=(o<n?7:0)+o-n;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function th(r,e){return ho(r,{...e,weekStartsOn:1})}function P4(r,e){const t=xt(r,e==null?void 0:e.in),n=t.getFullYear(),s=Rt(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=th(s),u=Rt(t,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const c=th(u);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function Og(r){const e=xt(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function v0(r,...e){const t=Rt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function zd(r,e){const t=xt(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function CO(r,e,t){const[n,s]=v0(t==null?void 0:t.in,r,e),o=zd(n),u=zd(s),c=+o-Og(o),h=+u-Og(u);return Math.round((c-h)/wO)}function NO(r,e){const t=P4(r,e),n=Rt(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),th(n)}function RO(r){return Rt(r,Date.now())}function I4(r,e,t){const[n,s]=v0(t==null?void 0:t.in,r,e);return+zd(n)==+zd(s)}function MO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function DO(r){return!(!MO(r)&&typeof r!="number"||isNaN(+xt(r)))}function LO(r,e){const t=xt(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function OO(r,e){const[t,n]=v0(r,e.start,e.end);return{start:t,end:n}}function kO(r,e){const{start:t,end:n}=OO(e==null?void 0:e.in,r);let s=+t>+n;const o=s?+t:+n,u=s?n:t;u.setHours(0,0,0,0);let c=1;const h=[];for(;+u<=o;)h.push(Rt(t,u)),u.setDate(u.getDate()+c),u.setHours(0,0,0,0);return s?h.reverse():h}function jO(r,e){const t=xt(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const PO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IO=(r,e,t)=>{let n;const s=PO[r];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function W1(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const FO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UO={date:W1({formats:FO,defaultWidth:"full"}),time:W1({formats:BO,defaultWidth:"full"}),dateTime:W1({formats:HO,defaultWidth:"full"})},zO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qO=(r,e,t,n)=>zO[r];function fd(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let s;if(n==="formatting"&&r.formattingValues){const u=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):u;s=r.formattingValues[c]||r.formattingValues[u]}else{const u=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;s=r.values[c]||r.values[u]}const o=r.argumentCallback?r.argumentCallback(e):e;return s[o]}}const GO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$O={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},YO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},XO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QO=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},KO={ordinalNumber:QO,era:fd({values:GO,defaultWidth:"wide"}),quarter:fd({values:VO,defaultWidth:"wide",argumentCallback:r=>r-1}),month:fd({values:$O,defaultWidth:"wide"}),day:fd({values:YO,defaultWidth:"wide"}),dayPeriod:fd({values:XO,defaultWidth:"wide",formattingValues:WO,defaultFormattingWidth:"wide"})};function pd(r){return(e,t={})=>{const n=t.width,s=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(s);if(!o)return null;const u=o[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],h=Array.isArray(c)?JO(c,g=>g.test(u)):ZO(c,g=>g.test(u));let d;d=r.valueCallback?r.valueCallback(h):h,d=t.valueCallback?t.valueCallback(d):d;const p=e.slice(u.length);return{value:d,rest:p}}}function ZO(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function JO(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function ek(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const s=n[0],o=e.match(r.parsePattern);if(!o)return null;let u=r.valueCallback?r.valueCallback(o[0]):o[0];u=t.valueCallback?t.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}const tk=/^(\d+)(th|st|nd|rd)?/i,nk=/\d+/i,ik={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sk={any:[/^b/i,/^(a|c)/i]},rk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ak={any:[/1/i,/2/i,/3/i,/4/i]},ok={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ck={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fk={ordinalNumber:ek({matchPattern:tk,parsePattern:nk,valueCallback:r=>parseInt(r,10)}),era:pd({matchPatterns:ik,defaultMatchWidth:"wide",parsePatterns:sk,defaultParseWidth:"any"}),quarter:pd({matchPatterns:rk,defaultMatchWidth:"wide",parsePatterns:ak,defaultParseWidth:"any",valueCallback:r=>r+1}),month:pd({matchPatterns:ok,defaultMatchWidth:"wide",parsePatterns:lk,defaultParseWidth:"any"}),day:pd({matchPatterns:ck,defaultMatchWidth:"wide",parsePatterns:uk,defaultParseWidth:"any"}),dayPeriod:pd({matchPatterns:hk,defaultMatchWidth:"any",parsePatterns:dk,defaultParseWidth:"any"})},F4={code:"en-US",formatDistance:IO,formatLong:UO,formatRelative:qO,localize:KO,match:fk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pk(r,e){const t=xt(r,e==null?void 0:e.in);return CO(t,jO(t))+1}function B4(r,e){const t=xt(r,e==null?void 0:e.in),n=+th(t)-+NO(t);return Math.round(n/j4)+1}function cw(r,e){var p,g,b,w;const t=xt(r,e==null?void 0:e.in),n=t.getFullYear(),s=ah(),o=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(b=s.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,u=Rt((e==null?void 0:e.in)||r,0);u.setFullYear(n+1,0,o),u.setHours(0,0,0,0);const c=ho(u,e),h=Rt((e==null?void 0:e.in)||r,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);const d=ho(h,e);return+t>=+c?n+1:+t>=+d?n:n-1}function mk(r,e){var c,h,d,p;const t=ah(),n=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(d=t.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,s=cw(r,e),o=Rt((e==null?void 0:e.in)||r,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),ho(o,e)}function H4(r,e){const t=xt(r,e==null?void 0:e.in),n=+ho(t,e)-+mk(t,e);return Math.round(n/j4)+1}function ht(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Na={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return ht(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):ht(t+1,2)},d(r,e){return ht(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return ht(r.getHours()%12||12,e.length)},H(r,e){return ht(r.getHours(),e.length)},m(r,e){return ht(r.getMinutes(),e.length)},s(r,e){return ht(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return ht(s,e.length)}},Hc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},c_={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return Na.y(r,e)},Y:function(r,e,t,n){const s=cw(r,n),o=s>0?s:1-s;if(e==="YY"){const u=o%100;return ht(u,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):ht(o,e.length)},R:function(r,e){const t=P4(r);return ht(t,e.length)},u:function(r,e){const t=r.getFullYear();return ht(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ht(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ht(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Na.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return ht(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const s=H4(r,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):ht(s,e.length)},I:function(r,e,t){const n=B4(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):ht(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Na.d(r,e)},D:function(r,e,t){const n=pk(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):ht(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const s=r.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ht(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const s=r.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ht(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return ht(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const s=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let s;switch(n===12?s=Hc.noon:n===0?s=Hc.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let s;switch(n>=17?s=Hc.evening:n>=12?s=Hc.afternoon:n>=4?s=Hc.morning:s=Hc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Na.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Na.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):ht(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):ht(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Na.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Na.s(r,e)},S:function(r,e){return Na.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return h_(n);case"XXXX":case"XX":return Ho(n);case"XXXXX":case"XXX":default:return Ho(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return h_(n);case"xxxx":case"xx":return Ho(n);case"xxxxx":case"xxx":default:return Ho(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+u_(n,":");case"OOOO":default:return"GMT"+Ho(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+u_(n,":");case"zzzz":default:return"GMT"+Ho(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return ht(n,e.length)},T:function(r,e,t){return ht(+r,e.length)}};function u_(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=Math.trunc(n/60),o=n%60;return o===0?t+String(s):t+String(s)+e+ht(o,2)}function h_(r,e){return r%60===0?(r>0?"-":"+")+ht(Math.abs(r)/60,2):Ho(r,e)}function Ho(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=ht(Math.trunc(n/60),2),o=ht(n%60,2);return t+s+e+o}const d_=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},U4=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gk=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return d_(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",d_(n,e)).replace("{{time}}",U4(s,e))},Ix={p:U4,P:gk},vk=/^D+$/,yk=/^Y+$/,bk=["D","DD","YY","YYYY"];function z4(r){return vk.test(r)}function q4(r){return yk.test(r)}function Fx(r,e,t){const n=xk(r,e,t);if(console.warn(n),bk.includes(r))throw new RangeError(n)}function xk(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ek=/^'([^]*?)'?$/,Ak=/''/g,Tk=/[a-zA-Z]/;function Pn(r,e,t){var p,g,b,w;const n=ah(),s=n.locale??F4,o=n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,u=n.weekStartsOn??((w=(b=n.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??0,c=xt(r,t==null?void 0:t.in);if(!DO(c))throw new RangeError("Invalid time value");let h=e.match(Sk).map(S=>{const E=S[0];if(E==="p"||E==="P"){const D=Ix[E];return D(S,s.formatLong)}return S}).join("").match(wk).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const E=S[0];if(E==="'")return{isToken:!1,value:_k(S)};if(c_[E])return{isToken:!0,value:S};if(E.match(Tk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const d={firstWeekContainsDate:o,weekStartsOn:u,locale:s};return h.map(S=>{if(!S.isToken)return S.value;const E=S.value;(q4(E)||z4(E))&&Fx(E,e,String(r));const D=c_[E[0]];return D(c,E,s.localize,d)}).join("")}function _k(r){const e=r.match(Ek);return e?e[1].replace(Ak,"'"):r}function jm(r,e){return xt(r,e==null?void 0:e.in).getDay()}function Ck(){return Object.assign({},ah())}function Nk(r,e){const t=xt(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Q1(r,e){return+xt(r)<+xt(e)}function Ra(r,e){return+xt(r)==+xt(e)}function Rk(r,e){const t=Mk(e)?new e(0):Rt(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function Mk(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const Dk=10;class G4{constructor(){pe(this,"subPriority",0)}validate(e,t){return!0}}class Lk extends G4{constructor(e,t,n,s,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Ok extends G4{constructor(t,n){super();pe(this,"priority",Dk);pe(this,"subPriority",-1);this.context=t||(s=>Rt(n,s))}set(t,n){return n.timestampIsSet?t:Rt(t,Rk(t,this.context))}}let et=class{run(e,t,n,s){const o=this.parse(e,t,n,s);return o?{setter:new Lk(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}};class kk extends et{constructor(){super(...arguments);pe(this,"priority",140);pe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,n,s){return n.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const Yt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xt(r,e){return r&&{value:e(r.value),rest:r.rest}}function jt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ws(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:n*(s*EO+o*SO+u*AO),rest:e.slice(t[0].length)}}function V4(r){return jt(Yt.anyDigitsSigned,r)}function zt(r,e){switch(r){case 1:return jt(Yt.singleDigit,e);case 2:return jt(Yt.twoDigits,e);case 3:return jt(Yt.threeDigits,e);case 4:return jt(Yt.fourDigits,e);default:return jt(new RegExp("^\\d{1,"+r+"}"),e)}}function kg(r,e){switch(r){case 1:return jt(Yt.singleDigitSigned,e);case 2:return jt(Yt.twoDigitsSigned,e);case 3:return jt(Yt.threeDigitsSigned,e);case 4:return jt(Yt.fourDigitsSigned,e);default:return jt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function uw(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function $4(r,e){const t=e>0,n=t?e:1-e;let s;if(n<=50)s=r||100;else{const o=n+50,u=Math.trunc(o/100)*100,c=r>=o%100;s=r+u-(c?100:0)}return t?s:1-s}function Y4(r){return r%400===0||r%4===0&&r%100!==0}class jk extends et{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,s){const o=u=>({year:u,isTwoDigitYear:n==="yy"});switch(n){case"y":return Xt(zt(4,t),o);case"yo":return Xt(s.ordinalNumber(t,{unit:"year"}),o);default:return Xt(zt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,s){const o=t.getFullYear();if(s.isTwoDigitYear){const c=$4(s.year,o);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const u=!("era"in n)||n.era===1?s.year:1-s.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class Pk extends et{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,s){const o=u=>({year:u,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Xt(zt(4,t),o);case"Yo":return Xt(s.ordinalNumber(t,{unit:"year"}),o);default:return Xt(zt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,s,o){const u=cw(t,o);if(s.isTwoDigitYear){const h=$4(s.year,u);return t.setFullYear(h,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),ho(t,o)}const c=!("era"in n)||n.era===1?s.year:1-s.year;return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),ho(t,o)}}class Ik extends et{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return kg(n==="R"?4:n.length,t)}set(t,n,s){const o=Rt(t,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),th(o)}}class Fk extends et{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return kg(n==="u"?4:n.length,t)}set(t,n,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class Bk extends et{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,s){switch(n){case"Q":case"QQ":return zt(n.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class Hk extends et{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,s){switch(n){case"q":case"qq":return zt(n.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class Uk extends et{constructor(){super(...arguments);pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);pe(this,"priority",110)}parse(t,n,s){const o=u=>u-1;switch(n){case"M":return Xt(jt(Yt.month,t),o);case"MM":return Xt(zt(2,t),o);case"Mo":return Xt(s.ordinalNumber(t,{unit:"month"}),o);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class zk extends et{constructor(){super(...arguments);pe(this,"priority",110);pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,s){const o=u=>u-1;switch(n){case"L":return Xt(jt(Yt.month,t),o);case"LL":return Xt(zt(2,t),o);case"Lo":return Xt(s.ordinalNumber(t,{unit:"month"}),o);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function qk(r,e,t){const n=xt(r,t==null?void 0:t.in),s=H4(n,t)-e;return n.setDate(n.getDate()-s*7),xt(n,t==null?void 0:t.in)}class Gk extends et{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,s){switch(n){case"w":return jt(Yt.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return zt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,s,o){return ho(qk(t,s,o),o)}}function Vk(r,e,t){const n=xt(r,t==null?void 0:t.in),s=B4(n,t)-e;return n.setDate(n.getDate()-s*7),n}class $k extends et{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,s){switch(n){case"I":return jt(Yt.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return zt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,s){return th(Vk(t,s))}}const Yk=[31,28,31,30,31,30,31,31,30,31,30,31],Xk=[31,29,31,30,31,30,31,31,30,31,30,31];class Wk extends et{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subPriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,s){switch(n){case"d":return jt(Yt.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return zt(n.length,t)}}validate(t,n){const s=t.getFullYear(),o=Y4(s),u=t.getMonth();return o?n>=1&&n<=Xk[u]:n>=1&&n<=Yk[u]}set(t,n,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class Qk extends et{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subpriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,s){switch(n){case"D":case"DD":return jt(Yt.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return zt(n.length,t)}}validate(t,n){const s=t.getFullYear();return Y4(s)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function hw(r,e,t){var g,b,w,S;const n=ah(),s=(t==null?void 0:t.weekStartsOn)??((b=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((S=(w=n.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??0,o=xt(r,t==null?void 0:t.in),u=o.getDay(),h=(e%7+7)%7,d=7-s,p=e<0||e>6?e-(u+d)%7:(h+d)%7-(u+d)%7;return lw(o,p,t)}class Kk extends et{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,o){return t=hw(t,s,o),t.setHours(0,0,0,0),t}}class Zk extends et{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,s,o){const u=c=>{const h=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+h};switch(n){case"e":case"ee":return Xt(zt(n.length,t),u);case"eo":return Xt(s.ordinalNumber(t,{unit:"day"}),u);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,o){return t=hw(t,s,o),t.setHours(0,0,0,0),t}}class Jk extends et{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,s,o){const u=c=>{const h=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+h};switch(n){case"c":case"cc":return Xt(zt(n.length,t),u);case"co":return Xt(s.ordinalNumber(t,{unit:"day"}),u);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,s,o){return t=hw(t,s,o),t.setHours(0,0,0,0),t}}function ej(r,e,t){const n=xt(r,t==null?void 0:t.in),s=Nk(n,t),o=e-s;return lw(n,o,t)}class tj extends et{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,s){const o=u=>u===0?7:u;switch(n){case"i":case"ii":return zt(n.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Xt(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Xt(s.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Xt(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Xt(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,s){return t=ej(t,s),t.setHours(0,0,0,0),t}}class nj extends et{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(uw(s),0,0,0),t}}class ij extends et{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(uw(s),0,0,0),t}}class sj extends et{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,s){return t.setHours(uw(s),0,0,0),t}}class rj extends et{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,s){switch(n){case"h":return jt(Yt.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return zt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,s){const o=t.getHours()>=12;return o&&s<12?t.setHours(s+12,0,0,0):!o&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class aj extends et{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,s){switch(n){case"H":return jt(Yt.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return zt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,s){return t.setHours(s,0,0,0),t}}class oj extends et{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,s){switch(n){case"K":return jt(Yt.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return zt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class lj extends et{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,s){switch(n){case"k":return jt(Yt.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return zt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,s){const o=s<=24?s%24:s;return t.setHours(o,0,0,0),t}}class cj extends et{constructor(){super(...arguments);pe(this,"priority",60);pe(this,"incompatibleTokens",["t","T"])}parse(t,n,s){switch(n){case"m":return jt(Yt.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return zt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,s){return t.setMinutes(s,0,0),t}}class uj extends et{constructor(){super(...arguments);pe(this,"priority",50);pe(this,"incompatibleTokens",["t","T"])}parse(t,n,s){switch(n){case"s":return jt(Yt.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return zt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,s){return t.setSeconds(s,0),t}}class hj extends et{constructor(){super(...arguments);pe(this,"priority",30);pe(this,"incompatibleTokens",["t","T"])}parse(t,n){const s=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Xt(zt(n.length,t),s)}set(t,n,s){return t.setMilliseconds(s),t}}class dj extends et{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Ws(Xs.basicOptionalMinutes,t);case"XX":return Ws(Xs.basic,t);case"XXXX":return Ws(Xs.basicOptionalSeconds,t);case"XXXXX":return Ws(Xs.extendedOptionalSeconds,t);case"XXX":default:return Ws(Xs.extended,t)}}set(t,n,s){return n.timestampIsSet?t:Rt(t,t.getTime()-Og(t)-s)}}class fj extends et{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Ws(Xs.basicOptionalMinutes,t);case"xx":return Ws(Xs.basic,t);case"xxxx":return Ws(Xs.basicOptionalSeconds,t);case"xxxxx":return Ws(Xs.extendedOptionalSeconds,t);case"xxx":default:return Ws(Xs.extended,t)}}set(t,n,s){return n.timestampIsSet?t:Rt(t,t.getTime()-Og(t)-s)}}class pj extends et{constructor(){super(...arguments);pe(this,"priority",40);pe(this,"incompatibleTokens","*")}parse(t){return V4(t)}set(t,n,s){return[Rt(t,s*1e3),{timestampIsSet:!0}]}}class mj extends et{constructor(){super(...arguments);pe(this,"priority",20);pe(this,"incompatibleTokens","*")}parse(t){return V4(t)}set(t,n,s){return[Rt(t,s),{timestampIsSet:!0}]}}const gj={G:new kk,y:new jk,Y:new Pk,R:new Ik,u:new Fk,Q:new Bk,q:new Hk,M:new Uk,L:new zk,w:new Gk,I:new $k,d:new Wk,D:new Qk,E:new Kk,e:new Zk,c:new Jk,i:new tj,a:new nj,b:new ij,B:new sj,h:new rj,H:new aj,K:new oj,k:new lj,m:new cj,s:new uj,S:new hj,X:new dj,x:new fj,t:new pj,T:new mj},vj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bj=/^'([^]*?)'?$/,xj=/''/g,wj=/\S/,Sj=/[a-zA-Z]/;function Id(r,e,t,n){var D,A,C,R;const s=()=>Rt(t,NaN),o=Ck(),u=o.locale??F4,c=o.firstWeekContainsDate??((A=(D=o.locale)==null?void 0:D.options)==null?void 0:A.firstWeekContainsDate)??1,h=o.weekStartsOn??((R=(C=o.locale)==null?void 0:C.options)==null?void 0:R.weekStartsOn)??0;if(!e)return r?s():xt(t,n==null?void 0:n.in);const d={firstWeekContainsDate:c,weekStartsOn:h,locale:u},p=[new Ok(n==null?void 0:n.in,t)],g=e.match(yj).map(N=>{const L=N[0];if(L in Ix){const H=Ix[L];return H(N,u.formatLong)}return N}).join("").match(vj),b=[];for(let N of g){q4(N)&&Fx(N,e,r),z4(N)&&Fx(N,e,r);const L=N[0],H=gj[L];if(H){const{incompatibleTokens:F}=H;if(Array.isArray(F)){const q=b.find(te=>F.includes(te.token)||te.token===L);if(q)throw new RangeError(`The format string mustn't contain \`${q.fullToken}\` and \`${N}\` at the same time`)}else if(H.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);b.push({token:L,fullToken:N});const U=H.run(r,N,u.match,d);if(!U)return s();p.push(U.setter),r=U.rest}else{if(L.match(Sj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(N==="''"?N="'":L==="'"&&(N=Ej(N)),r.indexOf(N)===0)r=r.slice(N.length);else return s()}}if(r.length>0&&wj.test(r))return s();const w=p.map(N=>N.priority).sort((N,L)=>L-N).filter((N,L,H)=>H.indexOf(N)===L).map(N=>p.filter(L=>L.priority===N).sort((L,H)=>H.subPriority-L.subPriority)).map(N=>N[0]);let S=xt(t,n==null?void 0:n.in);if(isNaN(+S))return s();const E={};for(const N of w){if(!N.validate(S,d))return s();const L=N.set(S,E,d);Array.isArray(L)?(S=L[0],Object.assign(E,L[1])):S=L}return S}function Ej(r){return r.match(bj)[1].replace(xj,"'")}function Pm(r,e,t){const[n,s]=v0(t==null?void 0:t.in,r,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function Uc(r,e){return I4(Rt(r,r),RO(r))}function Aj(r){return zd(Date.now(),r)}function Tj(r,e){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},r),B.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))}const _j=B.forwardRef(Tj);function Cj(r,e){return B.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},r),B.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const Nj=B.forwardRef(Cj),Rj={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};function f_(...r){return r.filter(Boolean).join(" ")}function Mj({onDaySelect:r,Doctor:e}){let t=Aj(),[n,s]=B.useState(t),[o,u]=B.useState(t),[c,h]=B.useState(Pn(t,"MMM-yyyy")),d=Id(c,"MMM-yyyy",new Date),p=kO({start:d,end:LO(d)});function g(A){u(A),r&&r(Lj(n,A))}function b(){let A=l_(d,{months:-1});h(Pn(A,"MMM-yyyy"))}function w(){let A=l_(d,{months:1});h(Pn(A,"MMM-yyyy"))}let S=p.filter(A=>I4(A,n));const E=D(e.startTime,e.endTime,e.workingDays.map(A=>Rj[A]));function D(A,C,R){const N=Id(A,"HH:mm:ss",new Date),L=Id(C,"HH:mm:ss",new Date),H=30,F=[];let U=1;for(;N<L;){const q=Pn(N,"HH:mm");N.setMinutes(N.getMinutes()+H);const te=Pn(N,"HH:mm");F.push({id:U++,startTime:q,endTime:te,day:R.map(V=>V)})}return F}return y.jsx("div",{className:"pt-16",children:y.jsx("div",{className:"max-w-md px-4 mx-auto sm:px-7 md:max-w-4xl md:px-6",children:y.jsxs("div",{className:"md:grid md:grid-cols-2 md:divide-x md:divide-gray-200",children:[y.jsxs("div",{className:"md:pr-14",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("h2",{className:"flex-auto font-semibold text-gray-900",children:Pn(d,"MMMM yyyy")}),y.jsxs("button",{type:"button",onClick:b,className:"-my-1.5 flex flex-none items-center justify-center p-1.5 text-gray-400 hover:text-gray-500",children:[y.jsx("span",{className:"sr-only",children:"Previous month"}),y.jsx(_j,{className:"w-5 h-5","aria-hidden":"true"})]}),y.jsxs("button",{onClick:w,type:"button",className:"-my-1.5 -mr-1.5 ml-2 flex flex-none items-center justify-center p-1.5 text-gray-400 hover:text-gray-500",children:[y.jsx("span",{className:"sr-only",children:"Next month"}),y.jsx(Nj,{className:"w-5 h-5","aria-hidden":"true"})]})]}),y.jsxs("div",{className:"grid grid-cols-7 mt-10 text-xs leading-6 text-center text-gray-500",children:[y.jsx("div",{children:"SUN"}),y.jsx("div",{children:"MON"}),y.jsx("div",{children:"TUE"}),y.jsx("div",{children:"WED"}),y.jsx("div",{children:"THU"}),y.jsx("div",{children:"FRI"}),y.jsx("div",{children:"SAT"})]}),y.jsx("div",{className:"grid grid-cols-7 mt-2 text-sm ",children:p.map((A,C)=>y.jsxs("div",{className:f_(C===0&&Oj[jm(A)],"py-1.5"),children:[y.jsx("button",{type:"button",onClick:async()=>{s(A);const R=await ft.GetReservationCount(A.toLocaleString().split(",")[0],e.doctorId);console.log("count number :",R)},disabled:!Pm(A,d)||Q1(A,t)||!E[0].day.includes(jm(A))||e.vacations.includes(Pn(A,"yyyy-MM-dd")),className:f_(Ra(A,n)&&"text-white",!Ra(A,n)&&Uc(A)&&"text-red-500",!Ra(A,n)&&!Uc(A)&&Pm(A,d)&&"text-gray-900",!Ra(A,n)&&!Uc(A)&&!Pm(A,d)&&"text-gray-400",Ra(A,n)&&Uc(A)&&"bg-red-500",Ra(A,n)&&!Uc(A)&&"bg-gray-900",!Ra(A,n)&&"hover:bg-gray-200",(Ra(A,n)||Uc(A))&&"font-semibold","mx-auto flex h-8 w-8 items-center justify-center rounded-full",(!Pm(A,d)||Q1(A,t)||e.vacations.includes(Pn(A,"yyyy-MM-dd"))||!E[0].day.includes(jm(A)))&&"opacity-50 cursor-not-allowed"),children:y.jsx("time",{dateTime:Pn(A,"yyyy-MM-dd"),children:Pn(A,"d")})}),y.jsx("div",{className:"w-1 h-1 mx-auto mt-1",children:!Q1(A,t)&&E[0].day.includes(jm(A))&&!e.vacations.includes(Pn(A,"yyyy-MM-dd"))&&y.jsx("div",{className:"w-1 h-1 rounded-full bg-sky-500"})})]},A.toString()))})]}),y.jsxs("section",{className:"mt-12 md:mt-0 md:pl-14",children:[y.jsxs("h2",{className:"font-semibold text-gray-900",children:["Available Times for"," ",y.jsx("time",{dateTime:Pn(n,"yyyy-MM-dd"),children:Pn(n,"MMM dd, yyy")})]}),y.jsx("ol",{className:"mt-4 space-y-1 text-sm leading-6  text-gray-500",children:S.length>0?y.jsx("div",{className:"h-75 overflow-y-auto",children:E.map(A=>y.jsx(Dj,{availableAppointments:A,onTimeClick:g},A.id))}):y.jsx("p",{children:"No Reservations for today."})})]})]})})})}function Dj({availableAppointments:r,onTimeClick:e}){return y.jsxs("button",{type:"button",onClick:()=>e(r.startTime),className:"flex items-center px-4 py-2 space-x-4 group rounded-xl focus-within:bg-gray-100 hover:bg-gray-100",children:[y.jsx("span",{className:"material-symbols-outlined",children:"calendar_today"}),y.jsxs("div",{className:"flex-auto",children:[y.jsx("p",{className:"text-gray-900",children:r.id}),y.jsxs("p",{className:"mt-0.5",children:[y.jsx("time",{dateTime:r.startTime,children:Pn(Id(r.startTime,"HH:mm",new Date),"h:mm a")})," ","-"," ",y.jsx("time",{dateTime:r.endTime,children:Pn(Id(r.endTime,"HH:mm",new Date),"h:mm a")})]})]})]})}function Lj(r,e){const t=Pn(r,"yyyy-MM-dd");return console.log(e),`${t}T${e}:00`}let Oj=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"];const kj=({onLoginSuccess:r,onLogin:e})=>{const[t,n]=B.useState({username:"",password:""}),s=rh(),[o,u]=B.useState(!1),[c,h]=B.useState(""),d=g=>{const{name:b,value:w}=g.target;n(S=>({...S,[b]:w}))},p=async g=>{g.preventDefault(),u(!0),h("");try{const b=e?await e(t):await Bl.login(t);s("/settings")}catch(b){h(b.message||"Invalid username or password. Please try again.")}finally{u(!1)}};return y.jsxs("div",{className:"login-container",children:[y.jsx("h2",{children:"Login to Your Account"}),c&&y.jsx("div",{className:"error-message",children:c}),y.jsxs("form",{onSubmit:p,className:"login-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"userName",children:"userName"}),y.jsx("input",{type:"text",id:"userName",name:"username",value:t.username,onChange:d,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:d,required:!0})]}),y.jsx("button",{type:"submit",className:"submit-btn",disabled:o,children:o?"Logging In...":"Login"})]}),y.jsxs("div",{className:"login-footer",children:[y.jsxs("p",{children:["Don't have an account? ",y.jsx("a",{href:"/signup",children:"Sign up"})]}),y.jsx("p",{children:y.jsx("a",{href:"/forgot-password",children:"Forgot password?"})})]})]})},X4=B.createContext(),jj=()=>B.useContext(X4),Pj=({children:r})=>{const[e,t]=B.useState(!1),[n,s]=B.useState(null),[o,u]=B.useState(!0);B.useEffect(()=>{(()=>{const g=Bl.isLoggedIn();if(t(g),g)try{const b=localStorage.getItem("userData");b&&s(JSON.parse(b))}catch(b){console.error("Error parsing user data",b)}u(!1)})()},[]);const d={isLoggedIn:e,user:n,loading:o,login:async p=>{const g=await Bl.login(p);return t(!0),s(g.user||{}),g},logout:()=>{Bl.logout(),t(!1),s(null)}};return y.jsx(X4.Provider,{value:d,children:r})},W4=({setLoginForm:r})=>{const{isLoggedIn:e,login:t}=jj();return y.jsx("div",{className:"login-page",children:y.jsxs("div",{className:"login-content",children:[y.jsx("div",{className:"login-header"}),y.jsx(kj,{onLogin:t})]})})};function Ij({isFilled:r}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`h-5 w-5 ${r?"text-yellow-700":"text-gray-400"}`,children:y.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})})}function Fj({rating:r}){return y.jsx("div",{className:"flex",children:Array.from({length:5},(t,n)=>y.jsx(Ij,{isFilled:n<r},n))})}function Bj({selectedDoctor:r,setSelectedDoctor:e,setIsPopupOpen:t}){const n=()=>{t(!1),e(null)},[s,o]=B.useState({status:"Pending",doctorId:r.doctorId,date:"",duration:30,visitPurpose:"",createdAt:new Date().toISOString()}),[u,c]=B.useState([]),[h,d]=B.useState(!1),p=b=>{const{name:w,value:S}=b.target;o(E=>({...E,[w]:S}))},g=async b=>{b.preventDefault(),c(w=>[...w,s]);try{await ft.CreatAppointment(s)}catch(w){console.log(w)}finally{await ft.GetCurrentUser()}n(),o({date:"",visitPurpose:"",createdAt:""})};return y.jsx(y.Fragment,{children:h===!1||localStorage.getItem("authToken")!=null?y.jsx("div",{className:"fixed inset-0 bg-[rgba(64,64,64,61%)] flex justify-center items-center z-10",children:y.jsxs("div",{className:"p-4 md:p-6 rounded-2xl w-[90vw] md:w-[60vw]",style:{background:"linear-gradient(to bottom, #D8DBAC 20%, #FFFFFF 32%)",backgroundSize:"100% 100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",...window.innerWidth<768&&{background:"linear-gradient(to bottom, #D8DBAC 40%, #FFFFFF 50%)"}},children:[y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start",children:[y.jsx("img",{src:r.gender==="male"?M4[r.index]:D4[r.index],alt:"Doctor",className:"w-[30vw] md:w-[12vw] h-auto rounded-full mx-auto md:ml-3 mt-2 max-w-[230px]"}),y.jsxs("div",{className:"flex flex-col mt-4 md:mt-0 md:ml-5",children:[y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start",children:[y.jsx("h2",{className:"text-lg md:text-xl mb-2 md:mb-4 font-Montserrat-Alternates text-center md:text-left",children:r.fullName}),y.jsx("p",{className:"font-[Poppins] font-medium text-sm md:text-[13px] leading-6 md:leading-8 mt-2 md:mt-0 md:ml-5 text-center md:text-left",children:r.specialty}),y.jsx("p",{className:"font-[Poppins] text-sm md:text-[13px] leading-6 md:leading-8 mt-2 md:mt-0 md:ml-5 text-center md:text-left",children:r.specialityDetails})]}),y.jsxs("p",{className:"ml-0  font-[Poppins] text-sm md:text-[13px] leading-6 md:leading-8 mt-4 md:mt-0 text-center md:text-left md:w-[40vw] w-[80vw]",children:["bio :",r.bio===null?"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce consequat lobortis lorem. Praesent interdum justo ut purus tempor tincidunt. Morbi ut ultrices magna, et efficitur justo. Ut auctor pulvinar odio quis fringilla.":r.bio]}),y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mt-4 ",children:[y.jsx(Fj,{rating:r.rating}),y.jsxs("p",{className:"ml-0 md:ml-2 text-sm md:text-[13px] leading-5 mt-2 md:mt-0 text-center md:text-left",children:[Math.floor(Math.random()*200)," Reviews"]})]}),y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mt-4 ",children:[y.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M12 22C11.7667 22 11.5667 21.9333 11.4 21.8C11.2333 21.6667 11.1083 21.4917 11.025 21.275C10.7083 20.3417 10.3083 19.4667 9.825 18.65C9.35833 17.8333 8.7 16.875 7.85 15.775C7 14.675 6.30833 13.625 5.775 12.625C5.25833 11.625 5 10.4167 5 9C5 7.05 5.675 5.4 7.025 4.05C8.39167 2.68333 10.05 2 12 2C13.95 2 15.6 2.68333 16.95 4.05C18.3167 5.4 19 7.05 19 9C19 10.5167 18.7083 11.7833 18.125 12.8C17.5583 13.8 16.9 14.7917 16.15 15.775C15.25 16.975 14.5667 17.975 14.1 18.775C13.65 19.5583 13.275 20.3917 12.975 21.275C12.8917 21.5083 12.7583 21.6917 12.575 21.825C12.4083 21.9417 12.2167 22 12 22ZM12 11.5C12.7 11.5 13.2917 11.2583 13.775 10.775C14.2583 10.2917 14.5 9.7 14.5 9C14.5 8.3 14.2583 7.70833 13.775 7.225C13.2917 6.74167 12.7 6.5 12 6.5C11.3 6.5 10.7083 6.74167 10.225 7.225C9.74167 7.70833 9.5 8.3 9.5 9C9.5 9.7 9.74167 10.2917 10.225 10.775C10.7083 11.2583 11.3 11.5 12 11.5Z",fill:"#79747E"})}),y.jsx("p",{className:"ml-1 text-sm text-center md:text-left",children:r.city})]}),y.jsx("div",{className:"flex flex-col md:flex-row items-center md:items-start mt-2 md:ml-2",children:y.jsx("p",{className:"text-sm text-center md:text-left",children:r.address})})]})]}),y.jsxs("form",{onSubmit:g,children:[y.jsx(Mj,{onDaySelect:b=>o(w=>({...w,date:b})),Doctor:r}),localStorage.getItem("authToken")!=null?y.jsxs("div",{className:"flex flex-col md:flex-row",children:[y.jsxs("label",{className:"flex flex-col",children:[y.jsx("span",{className:"mb-1 md:ml-10 mt-5",children:"complaint"}),y.jsx("textarea",{className:"border border-gray-300 rounded-lg p-2 md:ml-10 w-full md:w-[32vw] h-[100px] md:h-[100px] resize-none",placeholder:"Enter your complaint here",name:"visitPurpose",onChange:p,value:s.visitPurpose,required:!0})]}),y.jsxs("p",{className:"flex flex-row justify-center items-end rounded-lg text-center md:w-full md:h-[120px] ",children:["Fees  ",y.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M14 13C13.1667 13 12.4583 12.7083 11.875 12.125C11.2917 11.5417 11 10.8333 11 10C11 9.16667 11.2917 8.45833 11.875 7.875C12.4583 7.29167 13.1667 7 14 7C14.8333 7 15.5417 7.29167 16.125 7.875C16.7083 8.45833 17 9.16667 17 10C17 10.8333 16.7083 11.5417 16.125 12.125C15.5417 12.7083 14.8333 13 14 13ZM7 16C6.45 16 5.97917 15.8042 5.5875 15.4125C5.19583 15.0208 5 14.55 5 14V6C5 5.45 5.19583 4.97917 5.5875 4.5875C5.97917 4.19583 6.45 4 7 4H21C21.55 4 22.0208 4.19583 22.4125 4.5875C22.8042 4.97917 23 5.45 23 6V14C23 14.55 22.8042 15.0208 22.4125 15.4125C22.0208 15.8042 21.55 16 21 16H7ZM9 14H19C19 13.45 19.1958 12.9792 19.5875 12.5875C19.9792 12.1958 20.45 12 21 12V8C20.45 8 19.9792 7.80417 19.5875 7.4125C19.1958 7.02083 19 6.55 19 6H9C9 6.55 8.80417 7.02083 8.4125 7.4125C8.02083 7.80417 7.55 8 7 8V12C7.55 12 8.02083 12.1958 8.4125 12.5875C8.80417 12.9792 9 13.45 9 14ZM20 20H3C2.45 20 1.97917 19.8042 1.5875 19.4125C1.19583 19.0208 1 18.55 1 18V7H3V18H20V20Z",fill:"#79A85F"})}),"  ",r.fees," EGP"]})]}):y.jsxs("div",{className:"flex flex-row justify-center items-center space-x-5 mt-6",children:[y.jsx("p",{children:"please sign in to continue"}),y.jsx("button",{onClick:()=>{d(!0)},type:"button",className:"flex flex-row bg-blue-50 px-4 py-2 justify-center items-center rounded-lg w-full md:w-auto",children:"Login"})]}),y.jsx("div",{className:"flex flex-col items-center md:items-end mt-6",children:localStorage.getItem("authToken")!=null?y.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-5 my-5",children:[y.jsx("button",{type:"submit",className:"flex flex-row bg-[#C6FFA7] px-4 py-2 justify-center items-center rounded-lg w-full md:w-auto",children:"Confirm Reservation"}),y.jsx("button",{type:"button",className:"bg-blue-500 text-white px-4 py-2 rounded w-full md:w-auto",onClick:n,children:"Cancel"})]}):y.jsx("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-5 my-1",children:y.jsx("button",{type:"button",className:"bg-blue-500 text-white px-4 py-2 rounded w-full md:w-auto",onClick:n,children:"Cancel"})})})]}),y.jsx("h3",{children:"Submitted Data:"}),y.jsx("ul",{children:u.map((b,w)=>y.jsxs("li",{children:[b.date," - ",b.visitPurpose," - ",b.createdAt]},w))})]})}):y.jsxs("div",{className:"fixed inset-0 bg-[rgba(64,64,64,61%)] flex flex-col justify-center items-center z-10",children:[y.jsx(W4,{setLoginForm:d}),y.jsx("button",{type:"button",className:"bg-blue-500 text-white px-4 py-2 rounded w-full md:w-auto",onClick:n,children:"Cancel"})]})})}function p_(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function dw(r,e){r===void 0&&(r={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof r[t]>"u"?r[t]=e[t]:p_(e[t])&&p_(r[t])&&Object.keys(e[t]).length>0&&dw(r[t],e[t])})}const Q4={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Zl(){const r=typeof document<"u"?document:{};return dw(r,Q4),r}const Hj={document:Q4,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function Oi(){const r=typeof window<"u"?window:{};return dw(r,Hj),r}function Uj(r){const e=r;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Bx(r,e){return e===void 0&&(e=0),setTimeout(r,e)}function jg(){return Date.now()}function zj(r){const e=Oi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(r,null)),!t&&r.currentStyle&&(t=r.currentStyle),t||(t=r.style),t}function qj(r,e){e===void 0&&(e="x");const t=Oi();let n,s,o;const u=zj(r);return t.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(c=>c.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:n.length===16?s=parseFloat(n[12]):s=parseFloat(n[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:n.length===16?s=parseFloat(n[13]):s=parseFloat(n[5])),s||0}function Im(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"}function Gj(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(r.nodeType===1||r.nodeType===11)}function Mi(){const r=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const n=t<0||arguments.length<=t?void 0:arguments[t];if(n!=null&&!Gj(n)){const s=Object.keys(Object(n)).filter(o=>e.indexOf(o)<0);for(let o=0,u=s.length;o<u;o+=1){const c=s[o],h=Object.getOwnPropertyDescriptor(n,c);h!==void 0&&h.enumerable&&(Im(r[c])&&Im(n[c])?n[c].__swiper__?r[c]=n[c]:Mi(r[c],n[c]):!Im(r[c])&&Im(n[c])?(r[c]={},n[c].__swiper__?r[c]=n[c]:Mi(r[c],n[c])):r[c]=n[c])}}}return r}function Fm(r,e,t){r.style.setProperty(e,t)}function K4(r){let{swiper:e,targetPosition:t,side:n}=r;const s=Oi(),o=-e.translate;let u=null,c;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const d=t>o?"next":"prev",p=(b,w)=>d==="next"&&b>=w||d==="prev"&&b<=w,g=()=>{c=new Date().getTime(),u===null&&(u=c);const b=Math.max(Math.min((c-u)/h,1),0),w=.5-Math.cos(b*Math.PI)/2;let S=o+w*(t-o);if(p(S,t)&&(S=t),e.wrapperEl.scrollTo({[n]:S}),p(S,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:S})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(g)};g()}function Qs(r,e){return e===void 0&&(e=""),[...r.children].filter(t=>t.matches(e))}function Z4(r,e){e===void 0&&(e=[]);const t=document.createElement(r);return t.classList.add(...Array.isArray(e)?e:[e]),t}function Vj(r,e){const t=[];for(;r.previousElementSibling;){const n=r.previousElementSibling;e?n.matches(e)&&t.push(n):t.push(n),r=n}return t}function $j(r,e){const t=[];for(;r.nextElementSibling;){const n=r.nextElementSibling;e?n.matches(e)&&t.push(n):t.push(n),r=n}return t}function lo(r,e){return Oi().getComputedStyle(r,null).getPropertyValue(e)}function Pg(r){let e=r,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function J4(r,e){const t=[];let n=r.parentElement;for(;n;)e?n.matches(e)&&t.push(n):t.push(n),n=n.parentElement;return t}function Hx(r,e,t){const n=Oi();return r[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(r,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(r,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}let K1;function Yj(){const r=Oi(),e=Zl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&e instanceof r.DocumentTouch)}}function e5(){return K1||(K1=Yj()),K1}let Z1;function Xj(r){let{userAgent:e}=r===void 0?{}:r;const t=e5(),n=Oi(),s=n.navigator.platform,o=e||n.navigator.userAgent,u={ios:!1,android:!1},c=n.screen.width,h=n.screen.height,d=o.match(/(Android);?[\s\/]+([\d.]+)?/);let p=o.match(/(iPad).*OS\s([\d_]+)/);const g=o.match(/(iPod)(.*OS\s([\d_]+))?/),b=!p&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w=s==="Win32";let S=s==="MacIntel";const E=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&S&&t.touch&&E.indexOf(`${c}x${h}`)>=0&&(p=o.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),S=!1),d&&!w&&(u.os="android",u.android=!0),(p||b||g)&&(u.os="ios",u.ios=!0),u}function Wj(r){return r===void 0&&(r={}),Z1||(Z1=Xj(r)),Z1}let J1;function Qj(){const r=Oi();let e=!1;function t(){const n=r.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}if(t()){const n=String(r.navigator.userAgent);if(n.includes("Version/")){const[s,o]=n.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));e=s<16||s===16&&o<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent)}}function Kj(){return J1||(J1=Qj()),J1}function Zj(r){let{swiper:e,on:t,emit:n}=r;const s=Oi();let o=null,u=null;const c=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(g=>{u=s.requestAnimationFrame(()=>{const{width:b,height:w}=e;let S=b,E=w;g.forEach(D=>{let{contentBoxSize:A,contentRect:C,target:R}=D;R&&R!==e.el||(S=C?C.width:(A[0]||A).inlineSize,E=C?C.height:(A[0]||A).blockSize)}),(S!==b||E!==w)&&c()})}),o.observe(e.el))},d=()=>{u&&s.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},p=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){h();return}s.addEventListener("resize",c),s.addEventListener("orientationchange",p)}),t("destroy",()=>{d(),s.removeEventListener("resize",c),s.removeEventListener("orientationchange",p)})}function Jj(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;const o=[],u=Oi(),c=function(p,g){g===void 0&&(g={});const b=u.MutationObserver||u.WebkitMutationObserver,w=new b(S=>{if(e.__preventObserver__)return;if(S.length===1){s("observerUpdate",S[0]);return}const E=function(){s("observerUpdate",S[0])};u.requestAnimationFrame?u.requestAnimationFrame(E):u.setTimeout(E,0)});w.observe(p,{attributes:typeof g.attributes>"u"?!0:g.attributes,childList:typeof g.childList>"u"?!0:g.childList,characterData:typeof g.characterData>"u"?!0:g.characterData}),o.push(w)},h=()=>{if(e.params.observer){if(e.params.observeParents){const p=J4(e.hostEl);for(let g=0;g<p.length;g+=1)c(p[g])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},d=()=>{o.forEach(p=>{p.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",h),n("destroy",d)}var e7={on(r,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const s=t?"unshift":"push";return r.split(" ").forEach(o=>{n.eventsListeners[o]||(n.eventsListeners[o]=[]),n.eventsListeners[o][s](e)}),n},once(r,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function s(){n.off(r,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];e.apply(n,u)}return s.__emitterProxy=e,n.on(r,s,t)},onAny(r,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof r!="function")return t;const n=e?"unshift":"push";return t.eventsAnyListeners.indexOf(r)<0&&t.eventsAnyListeners[n](r),t},offAny(r){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(r);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(r,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||r.split(" ").forEach(n=>{typeof e>"u"?t.eventsListeners[n]=[]:t.eventsListeners[n]&&t.eventsListeners[n].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[n].splice(o,1)})}),t},emit(){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let e,t,n;for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),n=r):(e=o[0].events,t=o[0].data,n=o[0].context||r),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(d=>{d.apply(n,[h,...t])}),r.eventsListeners&&r.eventsListeners[h]&&r.eventsListeners[h].forEach(d=>{d.apply(n,t)})}),r}};function t7(){const r=this;let e,t;const n=r.el;typeof r.params.width<"u"&&r.params.width!==null?e=r.params.width:e=n.clientWidth,typeof r.params.height<"u"&&r.params.height!==null?t=r.params.height:t=n.clientHeight,!(e===0&&r.isHorizontal()||t===0&&r.isVertical())&&(e=e-parseInt(lo(n,"padding-left")||0,10)-parseInt(lo(n,"padding-right")||0,10),t=t-parseInt(lo(n,"padding-top")||0,10)-parseInt(lo(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(r,{width:e,height:t,size:r.isHorizontal()?e:t}))}function n7(){const r=this;function e(V){return r.isHorizontal()?V:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[V]}function t(V,ee){return parseFloat(V.getPropertyValue(e(ee))||0)}const n=r.params,{wrapperEl:s,slidesEl:o,size:u,rtlTranslate:c,wrongRTL:h}=r,d=r.virtual&&n.virtual.enabled,p=d?r.virtual.slides.length:r.slides.length,g=Qs(o,`.${r.params.slideClass}, swiper-slide`),b=d?r.virtual.slides.length:g.length;let w=[];const S=[],E=[];let D=n.slidesOffsetBefore;typeof D=="function"&&(D=n.slidesOffsetBefore.call(r));let A=n.slidesOffsetAfter;typeof A=="function"&&(A=n.slidesOffsetAfter.call(r));const C=r.snapGrid.length,R=r.slidesGrid.length;let N=n.spaceBetween,L=-D,H=0,F=0;if(typeof u>"u")return;typeof N=="string"&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*u:typeof N=="string"&&(N=parseFloat(N)),r.virtualSize=-N,g.forEach(V=>{c?V.style.marginLeft="":V.style.marginRight="",V.style.marginBottom="",V.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Fm(s,"--swiper-centered-offset-before",""),Fm(s,"--swiper-centered-offset-after",""));const U=n.grid&&n.grid.rows>1&&r.grid;U&&r.grid.initSlides(b);let q;const te=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(V=>typeof n.breakpoints[V].slidesPerView<"u").length>0;for(let V=0;V<b;V+=1){q=0;let ee;if(g[V]&&(ee=g[V]),U&&r.grid.updateSlide(V,ee,b,e),!(g[V]&&lo(ee,"display")==="none")){if(n.slidesPerView==="auto"){te&&(g[V].style[e("width")]="");const Y=getComputedStyle(ee),oe=ee.style.transform,de=ee.style.webkitTransform;if(oe&&(ee.style.transform="none"),de&&(ee.style.webkitTransform="none"),n.roundLengths)q=r.isHorizontal()?Hx(ee,"width"):Hx(ee,"height");else{const W=t(Y,"width"),ie=t(Y,"padding-left"),ce=t(Y,"padding-right"),be=t(Y,"margin-left"),G=t(Y,"margin-right"),se=Y.getPropertyValue("box-sizing");if(se&&se==="border-box")q=W+be+G;else{const{clientWidth:me,offsetWidth:ge}=ee;q=W+ie+ce+be+G+(ge-me)}}oe&&(ee.style.transform=oe),de&&(ee.style.webkitTransform=de),n.roundLengths&&(q=Math.floor(q))}else q=(u-(n.slidesPerView-1)*N)/n.slidesPerView,n.roundLengths&&(q=Math.floor(q)),g[V]&&(g[V].style[e("width")]=`${q}px`);g[V]&&(g[V].swiperSlideSize=q),E.push(q),n.centeredSlides?(L=L+q/2+H/2+N,H===0&&V!==0&&(L=L-u/2-N),V===0&&(L=L-u/2-N),Math.abs(L)<1/1e3&&(L=0),n.roundLengths&&(L=Math.floor(L)),F%n.slidesPerGroup===0&&w.push(L),S.push(L)):(n.roundLengths&&(L=Math.floor(L)),(F-Math.min(r.params.slidesPerGroupSkip,F))%r.params.slidesPerGroup===0&&w.push(L),S.push(L),L=L+q+N),r.virtualSize+=q+N,H=q,F+=1}}if(r.virtualSize=Math.max(r.virtualSize,u)+A,c&&h&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${r.virtualSize+N}px`),n.setWrapperSize&&(s.style[e("width")]=`${r.virtualSize+N}px`),U&&r.grid.updateWrapperSize(q,w,e),!n.centeredSlides){const V=[];for(let ee=0;ee<w.length;ee+=1){let Y=w[ee];n.roundLengths&&(Y=Math.floor(Y)),w[ee]<=r.virtualSize-u&&V.push(Y)}w=V,Math.floor(r.virtualSize-u)-Math.floor(w[w.length-1])>1&&w.push(r.virtualSize-u)}if(d&&n.loop){const V=E[0]+N;if(n.slidesPerGroup>1){const ee=Math.ceil((r.virtual.slidesBefore+r.virtual.slidesAfter)/n.slidesPerGroup),Y=V*n.slidesPerGroup;for(let oe=0;oe<ee;oe+=1)w.push(w[w.length-1]+Y)}for(let ee=0;ee<r.virtual.slidesBefore+r.virtual.slidesAfter;ee+=1)n.slidesPerGroup===1&&w.push(w[w.length-1]+V),S.push(S[S.length-1]+V),r.virtualSize+=V}if(w.length===0&&(w=[0]),N!==0){const V=r.isHorizontal()&&c?"marginLeft":e("marginRight");g.filter((ee,Y)=>!n.cssMode||n.loop?!0:Y!==g.length-1).forEach(ee=>{ee.style[V]=`${N}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let V=0;E.forEach(Y=>{V+=Y+(N||0)}),V-=N;const ee=V-u;w=w.map(Y=>Y<=0?-D:Y>ee?ee+A:Y)}if(n.centerInsufficientSlides){let V=0;if(E.forEach(ee=>{V+=ee+(N||0)}),V-=N,V<u){const ee=(u-V)/2;w.forEach((Y,oe)=>{w[oe]=Y-ee}),S.forEach((Y,oe)=>{S[oe]=Y+ee})}}if(Object.assign(r,{slides:g,snapGrid:w,slidesGrid:S,slidesSizesGrid:E}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Fm(s,"--swiper-centered-offset-before",`${-w[0]}px`),Fm(s,"--swiper-centered-offset-after",`${r.size/2-E[E.length-1]/2}px`);const V=-r.snapGrid[0],ee=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(Y=>Y+V),r.slidesGrid=r.slidesGrid.map(Y=>Y+ee)}if(b!==p&&r.emit("slidesLengthChange"),w.length!==C&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),S.length!==R&&r.emit("slidesGridLengthChange"),n.watchSlidesProgress&&r.updateSlidesOffset(),!d&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const V=`${n.containerModifierClass}backface-hidden`,ee=r.el.classList.contains(V);b<=n.maxBackfaceHiddenSlides?ee||r.el.classList.add(V):ee&&r.el.classList.remove(V)}}function i7(r){const e=this,t=[],n=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof r=="number"?e.setTransition(r):r===!0&&e.setTransition(e.params.speed);const u=c=>n?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{t.push(c)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const c=e.activeIndex+o;if(c>e.slides.length&&!n)break;t.push(u(c))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const c=t[o].offsetHeight;s=c>s?c:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function s7(){const r=this,e=r.slides,t=r.isElement?r.isHorizontal()?r.wrapperEl.offsetLeft:r.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(r.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-t-r.cssOverflowAdjustment()}function r7(r){r===void 0&&(r=this&&this.translate||0);const e=this,t=e.params,{slides:n,rtlTranslate:s,snapGrid:o}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-r;s&&(u=r),n.forEach(h=>{h.classList.remove(t.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=t.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let h=0;h<n.length;h+=1){const d=n[h];let p=d.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(p-=n[0].swiperSlideOffset);const g=(u+(t.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+c),b=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-p)/(d.swiperSlideSize+c),w=-(u-p),S=w+e.slidesSizesGrid[h];(w>=0&&w<e.size-1||S>1&&S<=e.size||w<=0&&S>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(h),n[h].classList.add(t.slideVisibleClass)),d.progress=s?-g:g,d.originalProgress=s?-b:b}}function a7(r){const e=this;if(typeof r>"u"){const p=e.rtlTranslate?-1:1;r=e&&e.translate&&e.translate*p||0}const t=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:u,progressLoop:c}=e;const h=o,d=u;if(n===0)s=0,o=!0,u=!0;else{s=(r-e.minTranslate())/n;const p=Math.abs(r-e.minTranslate())<1,g=Math.abs(r-e.maxTranslate())<1;o=p||s<=0,u=g||s>=1,p&&(s=0),g&&(s=1)}if(t.loop){const p=e.getSlideIndexByData(0),g=e.getSlideIndexByData(e.slides.length-1),b=e.slidesGrid[p],w=e.slidesGrid[g],S=e.slidesGrid[e.slidesGrid.length-1],E=Math.abs(r);E>=b?c=(E-b)/S:c=(E+S-w)/S,c>1&&(c-=1)}Object.assign(e,{progress:s,progressLoop:c,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(r),o&&!h&&e.emit("reachBeginning toEdge"),u&&!d&&e.emit("reachEnd toEdge"),(h&&!o||d&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}function o7(){const r=this,{slides:e,params:t,slidesEl:n,activeIndex:s}=r,o=r.virtual&&t.virtual.enabled,u=h=>Qs(n,`.${t.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let c;if(o)if(t.loop){let h=s-r.virtual.slidesBefore;h<0&&(h=r.virtual.slides.length+h),h>=r.virtual.slides.length&&(h-=r.virtual.slides.length),c=u(`[data-swiper-slide-index="${h}"]`)}else c=u(`[data-swiper-slide-index="${s}"]`);else c=e[s];if(c){c.classList.add(t.slideActiveClass);let h=$j(c,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!h&&(h=e[0]),h&&h.classList.add(t.slideNextClass);let d=Vj(c,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(t.slidePrevClass)}r.emitSlidesClasses()}const Tg=(r,e)=>{if(!r||r.destroyed||!r.params)return;const t=()=>r.isElement?"swiper-slide":`.${r.params.slideClass}`,n=e.closest(t());if(n){let s=n.querySelector(`.${r.params.lazyPreloaderClass}`);!s&&r.isElement&&(n.shadowRoot?s=n.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(s=n.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},ey=(r,e)=>{if(!r.slides[e])return;const t=r.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Ux=r=>{if(!r||r.destroyed||!r.params)return;let e=r.params.lazyPreloadPrevNext;const t=r.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const n=r.params.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(r.params.slidesPerView),s=r.activeIndex;if(r.params.grid&&r.params.grid.rows>1){const u=s,c=[u-e];c.push(...Array.from({length:e}).map((h,d)=>u+n+d)),r.slides.forEach((h,d)=>{c.includes(h.column)&&ey(r,d)});return}const o=s+n-1;if(r.params.rewind||r.params.loop)for(let u=s-e;u<=o+e;u+=1){const c=(u%t+t)%t;(c<s||c>o)&&ey(r,c)}else for(let u=Math.max(s-e,0);u<=Math.min(o+e,t-1);u+=1)u!==s&&(u>o||u<s)&&ey(r,u)};function l7(r){const{slidesGrid:e,params:t}=r,n=r.rtlTranslate?r.translate:-r.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?n>=e[o]&&n<e[o+1]-(e[o+1]-e[o])/2?s=o:n>=e[o]&&n<e[o+1]&&(s=o+1):n>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function c7(r){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:s,activeIndex:o,realIndex:u,snapIndex:c}=e;let h=r,d;const p=b=>{let w=b-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof h>"u"&&(h=l7(e)),n.indexOf(t)>=0)d=n.indexOf(t);else{const b=Math.min(s.slidesPerGroupSkip,h);d=b+Math.floor((h-b)/s.slidesPerGroup)}if(d>=n.length&&(d=n.length-1),h===o){d!==c&&(e.snapIndex=d,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=p(h));return}let g;e.virtual&&s.virtual.enabled&&s.loop?g=p(h):e.slides[h]?g=parseInt(e.slides[h].getAttribute("data-swiper-slide-index")||h,10):g=h,Object.assign(e,{previousSnapIndex:c,snapIndex:d,previousRealIndex:u,realIndex:g,previousIndex:o,activeIndex:h}),e.initialized&&Ux(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==g&&e.emit("realIndexChange"),e.emit("slideChange"))}function u7(r,e){const t=this,n=t.params;let s=r.closest(`.${n.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(r)&&[...e.slice(e.indexOf(r)+1,e.length)].forEach(c=>{!s&&c.matches&&c.matches(`.${n.slideClass}, swiper-slide`)&&(s=c)});let o=!1,u;if(s){for(let c=0;c<t.slides.length;c+=1)if(t.slides[c]===s){o=!0,u=c;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}n.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var h7={updateSize:t7,updateSlides:n7,updateAutoHeight:i7,updateSlidesOffset:s7,updateSlidesProgress:r7,updateProgress:a7,updateSlidesClasses:o7,updateActiveIndex:c7,updateClickedSlide:u7};function d7(r){r===void 0&&(r=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:n,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return n?-s:s;if(t.cssMode)return s;let u=qj(o,r);return u+=e.cssOverflowAdjustment(),n&&(u=-u),u||0}function f7(r,e){const t=this,{rtlTranslate:n,params:s,wrapperEl:o,progress:u}=t;let c=0,h=0;const d=0;t.isHorizontal()?c=n?-r:r:h=r,s.roundLengths&&(c=Math.floor(c),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?c:h,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-c:-h:s.virtualTranslate||(t.isHorizontal()?c-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${c}px, ${h}px, ${d}px)`);let p;const g=t.maxTranslate()-t.minTranslate();g===0?p=0:p=(r-t.minTranslate())/g,p!==u&&t.updateProgress(r),t.emit("setTranslate",t.translate,e)}function p7(){return-this.snapGrid[0]}function m7(){return-this.snapGrid[this.snapGrid.length-1]}function g7(r,e,t,n,s){r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),n===void 0&&(n=!0);const o=this,{params:u,wrapperEl:c}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const h=o.minTranslate(),d=o.maxTranslate();let p;if(n&&r>h?p=h:n&&r<d?p=d:p=r,o.updateProgress(p),u.cssMode){const g=o.isHorizontal();if(e===0)c[g?"scrollLeft":"scrollTop"]=-p;else{if(!o.support.smoothScroll)return K4({swiper:o,targetPosition:-p,side:g?"left":"top"}),!0;c.scrollTo({[g?"left":"top"]:-p,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(p),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(p),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(b){!o||o.destroyed||b.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var v7={getTranslate:d7,setTranslate:f7,minTranslate:p7,maxTranslate:m7,translateTo:g7};function y7(r,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${r}ms`,t.wrapperEl.style.transitionDelay=r===0?"0ms":""),t.emit("setTransition",r,e)}function t5(r){let{swiper:e,runCallbacks:t,direction:n,step:s}=r;const{activeIndex:o,previousIndex:u}=e;let c=n;if(c||(o>u?c="next":o<u?c="prev":c="reset"),e.emit(`transition${s}`),t&&o!==u){if(c==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),c==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function b7(r,e){r===void 0&&(r=!0);const t=this,{params:n}=t;n.cssMode||(n.autoHeight&&t.updateAutoHeight(),t5({swiper:t,runCallbacks:r,direction:e,step:"Start"}))}function x7(r,e){r===void 0&&(r=!0);const t=this,{params:n}=t;t.animating=!1,!n.cssMode&&(t.setTransition(0),t5({swiper:t,runCallbacks:r,direction:e,step:"End"}))}var w7={setTransition:y7,transitionStart:b7,transitionEnd:x7};function S7(r,e,t,n,s){r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof r=="string"&&(r=parseInt(r,10));const o=this;let u=r;u<0&&(u=0);const{params:c,snapGrid:h,slidesGrid:d,previousIndex:p,activeIndex:g,rtlTranslate:b,wrapperEl:w,enabled:S}=o;if(o.animating&&c.preventInteractionOnTransition||!S&&!n&&!s)return!1;const E=Math.min(o.params.slidesPerGroupSkip,u);let D=E+Math.floor((u-E)/o.params.slidesPerGroup);D>=h.length&&(D=h.length-1);const A=-h[D];if(c.normalizeSlideIndex)for(let R=0;R<d.length;R+=1){const N=-Math.floor(A*100),L=Math.floor(d[R]*100),H=Math.floor(d[R+1]*100);typeof d[R+1]<"u"?N>=L&&N<H-(H-L)/2?u=R:N>=L&&N<H&&(u=R+1):N>=L&&(u=R)}if(o.initialized&&u!==g&&(!o.allowSlideNext&&(b?A>o.translate&&A>o.minTranslate():A<o.translate&&A<o.minTranslate())||!o.allowSlidePrev&&A>o.translate&&A>o.maxTranslate()&&(g||0)!==u))return!1;u!==(p||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(A);let C;if(u>g?C="next":u<g?C="prev":C="reset",b&&-A===o.translate||!b&&A===o.translate)return o.updateActiveIndex(u),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),c.effect!=="slide"&&o.setTranslate(A),C!=="reset"&&(o.transitionStart(t,C),o.transitionEnd(t,C)),!1;if(c.cssMode){const R=o.isHorizontal(),N=b?A:-A;if(e===0){const L=o.virtual&&o.params.virtual.enabled;L&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),L&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[R?"scrollLeft":"scrollTop"]=N})):w[R?"scrollLeft":"scrollTop"]=N,L&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return K4({swiper:o,targetPosition:N,side:R?"left":"top"}),!0;w.scrollTo({[R?"left":"top"]:N,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(A),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,n),o.transitionStart(t,C),e===0?o.transitionEnd(t,C):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(N){!o||o.destroyed||N.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,C))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function E7(r,e,t,n){r===void 0&&(r=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof r=="string"&&(r=parseInt(r,10));const s=this;let o=r;return s.params.loop&&(s.virtual&&s.params.virtual.enabled?o=o+s.virtual.slidesBefore:o=s.getSlideIndexByData(o)),s.slideTo(o,e,t,n)}function A7(r,e,t){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0);const n=this,{enabled:s,params:o,animating:u}=n;if(!s)return n;let c=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(c=Math.max(n.slidesPerViewDynamic("current",!0),1));const h=n.activeIndex<o.slidesPerGroupSkip?1:c,d=n.virtual&&o.virtual.enabled;if(o.loop){if(u&&!d&&o.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+h,r,e,t)}),!0}return o.rewind&&n.isEnd?n.slideTo(0,r,e,t):n.slideTo(n.activeIndex+h,r,e,t)}function T7(r,e,t){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0);const n=this,{params:s,snapGrid:o,slidesGrid:u,rtlTranslate:c,enabled:h,animating:d}=n;if(!h)return n;const p=n.virtual&&s.virtual.enabled;if(s.loop){if(d&&!p&&s.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const g=c?n.translate:-n.translate;function b(A){return A<0?-Math.floor(Math.abs(A)):Math.floor(A)}const w=b(g),S=o.map(A=>b(A));let E=o[S.indexOf(w)-1];if(typeof E>"u"&&s.cssMode){let A;o.forEach((C,R)=>{w>=C&&(A=R)}),typeof A<"u"&&(E=o[A>0?A-1:A])}let D=0;if(typeof E<"u"&&(D=u.indexOf(E),D<0&&(D=n.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(D=D-n.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),s.rewind&&n.isBeginning){const A=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(A,r,e,t)}else if(s.loop&&n.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(D,r,e,t)}),!0;return n.slideTo(D,r,e,t)}function _7(r,e,t){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0);const n=this;return n.slideTo(n.activeIndex,r,e,t)}function C7(r,e,t,n){r===void 0&&(r=this.params.speed),e===void 0&&(e=!0),n===void 0&&(n=.5);const s=this;let o=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,o),c=u+Math.floor((o-u)/s.params.slidesPerGroup),h=s.rtlTranslate?s.translate:-s.translate;if(h>=s.snapGrid[c]){const d=s.snapGrid[c],p=s.snapGrid[c+1];h-d>(p-d)*n&&(o+=s.params.slidesPerGroup)}else{const d=s.snapGrid[c-1],p=s.snapGrid[c];h-d<=(p-d)*n&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,r,e,t)}function N7(){const r=this,{params:e,slidesEl:t}=r,n=e.slidesPerView==="auto"?r.slidesPerViewDynamic():e.slidesPerView;let s=r.clickedIndex,o;const u=r.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(r.animating)return;o=parseInt(r.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<r.loopedSlides-n/2||s>r.slides.length-r.loopedSlides+n/2?(r.loopFix(),s=r.getSlideIndex(Qs(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),Bx(()=>{r.slideTo(s)})):r.slideTo(s):s>r.slides.length-n?(r.loopFix(),s=r.getSlideIndex(Qs(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),Bx(()=>{r.slideTo(s)})):r.slideTo(s)}else r.slideTo(s)}var R7={slideTo:S7,slideToLoop:E7,slideNext:A7,slidePrev:T7,slideReset:_7,slideToClosest:C7,slideToClickedSlide:N7};function M7(r){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;Qs(n,`.${t.slideClass}, swiper-slide`).forEach((o,u)=>{o.setAttribute("data-swiper-slide-index",u)}),e.loopFix({slideRealIndex:r,direction:t.centeredSlides?void 0:"next"})}function D7(r){let{slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:s,activeSlideIndex:o,byController:u,byMousewheel:c}=r===void 0?{}:r;const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:d,allowSlidePrev:p,allowSlideNext:g,slidesEl:b,params:w}=h;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&w.virtual.enabled){t&&(!w.centeredSlides&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):w.centeredSlides&&h.snapIndex<w.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=p,h.allowSlideNext=g,h.emit("loopFix");return}const S=w.slidesPerView==="auto"?h.slidesPerViewDynamic():Math.ceil(parseFloat(w.slidesPerView,10));let E=w.loopedSlides||S;E%w.slidesPerGroup!==0&&(E+=w.slidesPerGroup-E%w.slidesPerGroup),h.loopedSlides=E;const D=[],A=[];let C=h.activeIndex;typeof o>"u"?o=h.getSlideIndex(h.slides.filter(F=>F.classList.contains(w.slideActiveClass))[0]):C=o;const R=n==="next"||!n,N=n==="prev"||!n;let L=0,H=0;if(o<E){L=Math.max(E-o,w.slidesPerGroup);for(let F=0;F<E-o;F+=1){const U=F-Math.floor(F/d.length)*d.length;D.push(d.length-U-1)}}else if(o>h.slides.length-E*2){H=Math.max(o-(h.slides.length-E*2),w.slidesPerGroup);for(let F=0;F<H;F+=1){const U=F-Math.floor(F/d.length)*d.length;A.push(U)}}if(N&&D.forEach(F=>{h.slides[F].swiperLoopMoveDOM=!0,b.prepend(h.slides[F]),h.slides[F].swiperLoopMoveDOM=!1}),R&&A.forEach(F=>{h.slides[F].swiperLoopMoveDOM=!0,b.append(h.slides[F]),h.slides[F].swiperLoopMoveDOM=!1}),h.recalcSlides(),w.slidesPerView==="auto"&&h.updateSlides(),w.watchSlidesProgress&&h.updateSlidesOffset(),t){if(D.length>0&&N)if(typeof e>"u"){const F=h.slidesGrid[C],q=h.slidesGrid[C+L]-F;c?h.setTranslate(h.translate-q):(h.slideTo(C+L,0,!1,!0),s&&(h.touches[h.isHorizontal()?"startX":"startY"]+=q,h.touchEventsData.currentTranslate=h.translate))}else s&&(h.slideToLoop(e,0,!1,!0),h.touchEventsData.currentTranslate=h.translate);else if(A.length>0&&R)if(typeof e>"u"){const F=h.slidesGrid[C],q=h.slidesGrid[C-H]-F;c?h.setTranslate(h.translate-q):(h.slideTo(C-H,0,!1,!0),s&&(h.touches[h.isHorizontal()?"startX":"startY"]+=q,h.touchEventsData.currentTranslate=h.translate))}else h.slideToLoop(e,0,!1,!0)}if(h.allowSlidePrev=p,h.allowSlideNext=g,h.controller&&h.controller.control&&!u){const F={slideRealIndex:e,direction:n,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(U=>{!U.destroyed&&U.params.loop&&U.loopFix({...F,slideTo:U.params.slidesPerView===w.slidesPerView?t:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...F,slideTo:h.controller.control.params.slidesPerView===w.slidesPerView?t:!1})}h.emit("loopFix")}function L7(){const r=this,{params:e,slidesEl:t}=r;if(!e.loop||r.virtual&&r.params.virtual.enabled)return;r.recalcSlides();const n=[];r.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;n[o]=s}),r.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),n.forEach(s=>{t.append(s)}),r.recalcSlides(),r.slideTo(r.realIndex,0)}var O7={loopCreate:M7,loopFix:D7,loopDestroy:L7};function k7(r){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=r?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function j7(){const r=this;r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r.isElement&&(r.__preventObserver__=!0),r[r.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1}))}var P7={setGrabCursor:k7,unsetGrabCursor:j7};function I7(r,e){e===void 0&&(e=this);function t(n){if(!n||n===Zl()||n===Oi())return null;n.assignedSlot&&(n=n.assignedSlot);const s=n.closest(r);return!s&&!n.getRootNode?null:s||t(n.getRootNode().host)}return t(e)}function F7(r){const e=this,t=Zl(),n=Oi(),s=e.touchEventsData;s.evCache.push(r);const{params:o,touches:u,enabled:c}=e;if(!c||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=r;h.originalEvent&&(h=h.originalEvent);let d=h.target;if(o.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(d)||"which"in h&&h.which===3||"button"in h&&h.button>0||s.isTouched&&s.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",g=r.composedPath?r.composedPath():r.path;p&&h.target&&h.target.shadowRoot&&g&&(d=g[0]);const b=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,w=!!(h.target&&h.target.shadowRoot);if(o.noSwiping&&(w?I7(b,d):d.closest(b))){e.allowClick=!0;return}if(o.swipeHandler&&!d.closest(o.swipeHandler))return;u.currentX=h.pageX,u.currentY=h.pageY;const S=u.currentX,E=u.currentY,D=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,A=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(D&&(S<=A||S>=n.innerWidth-A))if(D==="prevent")r.preventDefault();else return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=S,u.startY=E,s.touchStartTime=jg(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let C=!0;d.matches(s.focusableElements)&&(C=!1,d.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==d&&t.activeElement.blur();const R=C&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||R)&&!d.isContentEditable&&h.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",h)}function B7(r){const e=Zl(),t=this,n=t.touchEventsData,{params:s,touches:o,rtlTranslate:u,enabled:c}=t;if(!c||!s.simulateTouch&&r.pointerType==="mouse")return;let h=r;if(h.originalEvent&&(h=h.originalEvent),!n.isTouched){n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",h);return}const d=n.evCache.findIndex(F=>F.pointerId===h.pointerId);d>=0&&(n.evCache[d]=h);const p=n.evCache.length>1?n.evCache[0]:h,g=p.pageX,b=p.pageY;if(h.preventedByNestedSwiper){o.startX=g,o.startY=b;return}if(!t.allowTouchMove){h.target.matches(n.focusableElements)||(t.allowClick=!1),n.isTouched&&(Object.assign(o,{startX:g,startY:b,prevX:t.touches.currentX,prevY:t.touches.currentY,currentX:g,currentY:b}),n.touchStartTime=jg());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(b<o.startY&&t.translate<=t.maxTranslate()||b>o.startY&&t.translate>=t.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(g<o.startX&&t.translate<=t.maxTranslate()||g>o.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&h.target===e.activeElement&&h.target.matches(n.focusableElements)){n.isMoved=!0,t.allowClick=!1;return}if(n.allowTouchCallbacks&&t.emit("touchMove",h),h.targetTouches&&h.targetTouches.length>1)return;o.currentX=g,o.currentY=b;const w=o.currentX-o.startX,S=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(w**2+S**2)<t.params.threshold)return;if(typeof n.isScrolling>"u"){let F;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?n.isScrolling=!1:w*w+S*S>=25&&(F=Math.atan2(Math.abs(S),Math.abs(w))*180/Math.PI,n.isScrolling=t.isHorizontal()?F>s.touchAngle:90-F>s.touchAngle)}if(n.isScrolling&&t.emit("touchMoveOpposite",h),typeof n.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(n.startMoving=!0),n.isScrolling||t.zoom&&t.params.zoom&&t.params.zoom.enabled&&n.evCache.length>1){n.isTouched=!1;return}if(!n.startMoving)return;t.allowClick=!1,!s.cssMode&&h.cancelable&&h.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&h.stopPropagation();let E=t.isHorizontal()?w:S,D=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(E=Math.abs(E)*(u?1:-1),D=Math.abs(D)*(u?1:-1)),o.diff=E,E*=s.touchRatio,u&&(E=-E,D=-D);const A=t.touchesDirection;t.swipeDirection=E>0?"prev":"next",t.touchesDirection=D>0?"prev":"next";const C=t.params.loop&&!s.cssMode,R=t.swipeDirection==="next"&&t.allowSlideNext||t.swipeDirection==="prev"&&t.allowSlidePrev;if(!n.isMoved){if(C&&R&&t.loopFix({direction:t.swipeDirection}),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const F=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(F)}n.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}let N;n.isMoved&&A!==t.touchesDirection&&C&&R&&Math.abs(E)>=1&&(t.loopFix({direction:t.swipeDirection,setTranslate:!0}),N=!0),t.emit("sliderMove",h),n.isMoved=!0,n.currentTranslate=E+n.startTranslate;let L=!0,H=s.resistanceRatio;if(s.touchReleaseOnEdges&&(H=0),E>0?(C&&R&&!N&&n.currentTranslate>(s.centeredSlides?t.minTranslate()-t.size/2:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>t.minTranslate()&&(L=!1,s.resistance&&(n.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+n.startTranslate+E)**H))):E<0&&(C&&R&&!N&&n.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.size/2:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),n.currentTranslate<t.maxTranslate()&&(L=!1,s.resistance&&(n.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-n.startTranslate-E)**H))),L&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(n.currentTranslate=n.startTranslate),s.threshold>0)if(Math.abs(E)>s.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,n.currentTranslate=n.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{n.currentTranslate=n.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}function H7(r){const e=this,t=e.touchEventsData,n=t.evCache.findIndex(R=>R.pointerId===r.pointerId);if(n>=0&&t.evCache.splice(n,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:s,touches:o,rtlTranslate:u,slidesGrid:c,enabled:h}=e;if(!h||!s.simulateTouch&&r.pointerType==="mouse")return;let d=r;if(d.originalEvent&&(d=d.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",d),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&s.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}s.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const p=jg(),g=p-t.touchStartTime;if(e.allowClick){const R=d.path||d.composedPath&&d.composedPath();e.updateClickedSlide(R&&R[0]||d.target,R),e.emit("tap click",d),g<300&&p-t.lastClickTime<300&&e.emit("doubleTap doubleClick",d)}if(t.lastClickTime=jg(),Bx(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||o.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let b;if(s.followFinger?b=u?e.translate:-e.translate:b=-t.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:b});return}let w=0,S=e.slidesSizesGrid[0];for(let R=0;R<c.length;R+=R<s.slidesPerGroupSkip?1:s.slidesPerGroup){const N=R<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof c[R+N]<"u"?b>=c[R]&&b<c[R+N]&&(w=R,S=c[R+N]-c[R]):b>=c[R]&&(w=R,S=c[c.length-1]-c[c.length-2])}let E=null,D=null;s.rewind&&(e.isBeginning?D=s.virtual&&s.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(E=0));const A=(b-c[w])/S,C=w<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(g>s.longSwipesMs){if(!s.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(A>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?E:w+C):e.slideTo(w)),e.swipeDirection==="prev"&&(A>1-s.longSwipesRatio?e.slideTo(w+C):D!==null&&A<0&&Math.abs(A)>s.longSwipesRatio?e.slideTo(D):e.slideTo(w))}else{if(!s.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(d.target===e.navigation.nextEl||d.target===e.navigation.prevEl)?d.target===e.navigation.nextEl?e.slideTo(w+C):e.slideTo(w):(e.swipeDirection==="next"&&e.slideTo(E!==null?E:w+C),e.swipeDirection==="prev"&&e.slideTo(D!==null?D:w))}}function m_(){const r=this,{params:e,el:t}=r;if(t&&t.offsetWidth===0)return;e.breakpoints&&r.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:o}=r,u=r.virtual&&r.params.virtual.enabled;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses();const c=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides&&!c?r.slideTo(r.slides.length-1,0,!1,!0):r.params.loop&&!u?r.slideToLoop(r.realIndex,0,!1,!0):r.slideTo(r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&(clearTimeout(r.autoplay.resizeTimeout),r.autoplay.resizeTimeout=setTimeout(()=>{r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.resume()},500)),r.allowSlidePrev=s,r.allowSlideNext=n,r.params.watchOverflow&&o!==r.snapGrid&&r.checkOverflow()}function U7(r){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&r.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(r.stopPropagation(),r.stopImmediatePropagation())))}function z7(){const r=this,{wrapperEl:e,rtlTranslate:t,enabled:n}=r;if(!n)return;r.previousTranslate=r.translate,r.isHorizontal()?r.translate=-e.scrollLeft:r.translate=-e.scrollTop,r.translate===0&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();let s;const o=r.maxTranslate()-r.minTranslate();o===0?s=0:s=(r.translate-r.minTranslate())/o,s!==r.progress&&r.updateProgress(t?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}function q7(r){const e=this;Tg(e,r.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let g_=!1;function G7(){}const n5=(r,e)=>{const t=Zl(),{params:n,el:s,wrapperEl:o,device:u}=r,c=!!n.nested,h=e==="on"?"addEventListener":"removeEventListener",d=e;s[h]("pointerdown",r.onTouchStart,{passive:!1}),t[h]("pointermove",r.onTouchMove,{passive:!1,capture:c}),t[h]("pointerup",r.onTouchEnd,{passive:!0}),t[h]("pointercancel",r.onTouchEnd,{passive:!0}),t[h]("pointerout",r.onTouchEnd,{passive:!0}),t[h]("pointerleave",r.onTouchEnd,{passive:!0}),t[h]("contextmenu",r.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&s[h]("click",r.onClick,!0),n.cssMode&&o[h]("scroll",r.onScroll),n.updateOnWindowResize?r[d](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",m_,!0):r[d]("observerUpdate",m_,!0),s[h]("load",r.onLoad,{capture:!0})};function V7(){const r=this,e=Zl(),{params:t}=r;r.onTouchStart=F7.bind(r),r.onTouchMove=B7.bind(r),r.onTouchEnd=H7.bind(r),t.cssMode&&(r.onScroll=z7.bind(r)),r.onClick=U7.bind(r),r.onLoad=q7.bind(r),g_||(e.addEventListener("touchstart",G7),g_=!0),n5(r,"on")}function $7(){n5(this,"off")}var Y7={attachEvents:V7,detachEvents:$7};const v_=(r,e)=>r.grid&&e.grid&&e.grid.rows>1;function X7(){const r=this,{realIndex:e,initialized:t,params:n,el:s}=r,o=n.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=r.getBreakpoint(o,r.params.breakpointsBase,r.el);if(!u||r.currentBreakpoint===u)return;const h=(u in o?o[u]:void 0)||r.originalParams,d=v_(r,n),p=v_(r,h),g=n.enabled;d&&!p?(s.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),r.emitContainerClasses()):!d&&p&&(s.classList.add(`${n.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&n.grid.fill==="column")&&s.classList.add(`${n.containerModifierClass}grid-column`),r.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(A=>{if(typeof h[A]>"u")return;const C=n[A]&&n[A].enabled,R=h[A]&&h[A].enabled;C&&!R&&r[A].disable(),!C&&R&&r[A].enable()});const b=h.direction&&h.direction!==n.direction,w=n.loop&&(h.slidesPerView!==n.slidesPerView||b),S=n.loop;b&&t&&r.changeDirection(),Mi(r.params,h);const E=r.params.enabled,D=r.params.loop;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),g&&!E?r.disable():!g&&E&&r.enable(),r.currentBreakpoint=u,r.emit("_beforeBreakpoint",h),t&&(w?(r.loopDestroy(),r.loopCreate(e),r.updateSlides()):!S&&D?(r.loopCreate(e),r.updateSlides()):S&&!D&&r.loopDestroy()),r.emit("breakpoint",h)}function W7(r,e,t){if(e===void 0&&(e="window"),!r||e==="container"&&!t)return;let n=!1;const s=Oi(),o=e==="window"?s.innerHeight:t.clientHeight,u=Object.keys(r).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const h=parseFloat(c.substr(1));return{value:o*h,point:c}}return{value:c,point:c}});u.sort((c,h)=>parseInt(c.value,10)-parseInt(h.value,10));for(let c=0;c<u.length;c+=1){const{point:h,value:d}=u[c];e==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(n=h):d<=t.clientWidth&&(n=h)}return n||"max"}var Q7={setBreakpoint:X7,getBreakpoint:W7};function K7(r,e){const t=[];return r.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(s=>{n[s]&&t.push(e+s)}):typeof n=="string"&&t.push(e+n)}),t}function Z7(){const r=this,{classNames:e,params:t,rtl:n,el:s,device:o}=r,u=K7(["initialized",t.direction,{"free-mode":r.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:n},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),s.classList.add(...e),r.emitContainerClasses()}function J7(){const r=this,{el:e,classNames:t}=r;e.classList.remove(...t),r.emitContainerClasses()}var eP={addClasses:Z7,removeClasses:J7};function tP(){const r=this,{isLocked:e,params:t}=r,{slidesOffsetBefore:n}=t;if(n){const s=r.slides.length-1,o=r.slidesGrid[s]+r.slidesSizesGrid[s]+n*2;r.isLocked=r.size>o}else r.isLocked=r.snapGrid.length===1;t.allowSlideNext===!0&&(r.allowSlideNext=!r.isLocked),t.allowSlidePrev===!0&&(r.allowSlidePrev=!r.isLocked),e&&e!==r.isLocked&&(r.isEnd=!1),e!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}var nP={checkOverflow:tP},zx={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function iP(r,e){return function(n){n===void 0&&(n={});const s=Object.keys(n)[0],o=n[s];if(typeof o!="object"||o===null){Mi(e,n);return}if(r[s]===!0&&(r[s]={enabled:!0}),s==="navigation"&&r[s]&&r[s].enabled&&!r[s].prevEl&&!r[s].nextEl&&(r[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&r[s]&&r[s].enabled&&!r[s].el&&(r[s].auto=!0),!(s in r&&"enabled"in o)){Mi(e,n);return}typeof r[s]=="object"&&!("enabled"in r[s])&&(r[s].enabled=!0),r[s]||(r[s]={enabled:!1}),Mi(e,n)}}const ty={eventsEmitter:e7,update:h7,translate:v7,transition:w7,slide:R7,loop:O7,grabCursor:P7,events:Y7,breakpoints:Q7,checkOverflow:nP,classes:eP},ny={};let fw=class xr{constructor(){let e,t;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=Mi({},t),e&&!t.el&&(t.el=e);const u=Zl();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const p=[];return u.querySelectorAll(t.el).forEach(g=>{const b=Mi({},t,{el:g});p.push(new xr(b))}),p}const c=this;c.__swiper__=!0,c.support=e5(),c.device=Wj({userAgent:t.userAgent}),c.browser=Kj(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],t.modules&&Array.isArray(t.modules)&&c.modules.push(...t.modules);const h={};c.modules.forEach(p=>{p({params:t,swiper:c,extendParams:iP(t,h),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const d=Mi({},zx,h);return c.params=Mi({},d,ny,t),c.originalParams=Mi({},c.params),c.passedParams=Mi({},t),c.params&&c.params.on&&Object.keys(c.params.on).forEach(p=>{c.on(p,c.params.on[p])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getSlideIndex(e){const{slidesEl:t,params:n}=this,s=Qs(t,`.${n.slideClass}, swiper-slide`),o=Pg(s[0]);return Pg(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:n}=e;e.slides=Qs(t,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const s=n.minTranslate(),u=(n.maxTranslate()-s)*e+s;n.translateTo(u,typeof t>"u"?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(n=>{const s=e.getSlideClasses(n);t.push({slideEl:n,classNames:s}),e.emit("_slideClass",n,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const n=this,{params:s,slides:o,slidesGrid:u,slidesSizesGrid:c,size:h,activeIndex:d}=n;let p=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let g=o[d]?o[d].swiperSlideSize:0,b;for(let w=d+1;w<o.length;w+=1)o[w]&&!b&&(g+=o[w].swiperSlideSize,p+=1,g>h&&(b=!0));for(let w=d-1;w>=0;w-=1)o[w]&&!b&&(g+=o[w].swiperSlideSize,p+=1,g>h&&(b=!0))}else if(e==="current")for(let g=d+1;g<o.length;g+=1)(t?u[g]+c[g]-u[d]<h:u[g]-u[d]<h)&&(p+=1);else for(let g=d-1;g>=0;g-=1)u[d]-u[g]<h&&(p+=1);return p}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Tg(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)s(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const u=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const n=this,s=n.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${s}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(s()):Qs(n,s())[0];return!u&&t.params.createElements&&(u=Z4("div",t.params.wrapperClass),n.append(u),Qs(n,`.${t.params.slideClass}`).forEach(c=>{u.append(c)})),Object.assign(t,{el:n,wrapperEl:u,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:u,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||lo(n,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||lo(n,"direction")==="rtl"),wrongRTL:lo(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?Tg(t,o):o.addEventListener("load",u=>{Tg(t,u.target)})}),Ux(t),t.initialized=!0,Ux(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const n=this,{params:s,el:o,wrapperEl:u,slides:c}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),s.loop&&n.loopDestroy(),t&&(n.removeClasses(),o.removeAttribute("style"),u.removeAttribute("style"),c&&c.length&&c.forEach(h=>{h.classList.remove(s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(h=>{n.off(h)}),e!==!1&&(n.el.swiper=null,Uj(n)),n.destroyed=!0),null}static extendDefaults(e){Mi(ny,e)}static get extendedDefaults(){return ny}static get defaults(){return zx}static installModule(e){xr.prototype.__modules__||(xr.prototype.__modules__=[]);const t=xr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>xr.installModule(t)),xr):(xr.installModule(e),xr)}};Object.keys(ty).forEach(r=>{Object.keys(ty[r]).forEach(e=>{fw.prototype[e]=ty[r][e]})});fw.use([Zj,Jj]);const i5=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Vl(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"&&!r.__swiper__}function Hl(r,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>t.indexOf(n)<0).forEach(n=>{typeof r[n]>"u"?r[n]=e[n]:Vl(e[n])&&Vl(r[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?r[n]=e[n]:Hl(r[n],e[n]):r[n]=e[n]})}function s5(r){return r===void 0&&(r={}),r.navigation&&typeof r.navigation.nextEl>"u"&&typeof r.navigation.prevEl>"u"}function r5(r){return r===void 0&&(r={}),r.pagination&&typeof r.pagination.el>"u"}function a5(r){return r===void 0&&(r={}),r.scrollbar&&typeof r.scrollbar.el>"u"}function o5(r){r===void 0&&(r="");const e=r.split(" ").map(n=>n.trim()).filter(n=>!!n),t=[];return e.forEach(n=>{t.indexOf(n)<0&&t.push(n)}),t.join(" ")}function sP(r){return r===void 0&&(r=""),r?r.includes("swiper-wrapper")?r:`swiper-wrapper ${r}`:"swiper-wrapper"}function rP(r){let{swiper:e,slides:t,passedParams:n,changedParams:s,nextEl:o,prevEl:u,scrollbarEl:c,paginationEl:h}=r;const d=s.filter(q=>q!=="children"&&q!=="direction"&&q!=="wrapperClass"),{params:p,pagination:g,navigation:b,scrollbar:w,virtual:S,thumbs:E}=e;let D,A,C,R,N,L,H,F;s.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(D=!0),s.includes("controller")&&n.controller&&n.controller.control&&p.controller&&!p.controller.control&&(A=!0),s.includes("pagination")&&n.pagination&&(n.pagination.el||h)&&(p.pagination||p.pagination===!1)&&g&&!g.el&&(C=!0),s.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||c)&&(p.scrollbar||p.scrollbar===!1)&&w&&!w.el&&(R=!0),s.includes("navigation")&&n.navigation&&(n.navigation.prevEl||u)&&(n.navigation.nextEl||o)&&(p.navigation||p.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&(N=!0);const U=q=>{e[q]&&(e[q].destroy(),q==="navigation"?(e.isElement&&(e[q].prevEl.remove(),e[q].nextEl.remove()),p[q].prevEl=void 0,p[q].nextEl=void 0,e[q].prevEl=void 0,e[q].nextEl=void 0):(e.isElement&&e[q].el.remove(),p[q].el=void 0,e[q].el=void 0))};s.includes("loop")&&e.isElement&&(p.loop&&!n.loop?L=!0:!p.loop&&n.loop?H=!0:F=!0),d.forEach(q=>{if(Vl(p[q])&&Vl(n[q]))Hl(p[q],n[q]),(q==="navigation"||q==="pagination"||q==="scrollbar")&&"enabled"in n[q]&&!n[q].enabled&&U(q);else{const te=n[q];(te===!0||te===!1)&&(q==="navigation"||q==="pagination"||q==="scrollbar")?te===!1&&U(q):p[q]=n[q]}}),d.includes("controller")&&!A&&e.controller&&e.controller.control&&p.controller&&p.controller.control&&(e.controller.control=p.controller.control),s.includes("children")&&t&&S&&p.virtual.enabled&&(S.slides=t,S.update(!0)),s.includes("children")&&t&&p.loop&&(F=!0),D&&E.init()&&E.update(!0),A&&(e.controller.control=p.controller.control),C&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(p.pagination.el=h),g.init(),g.render(),g.update()),R&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(p.scrollbar.el=c),w.init(),w.updateSize(),w.setTranslate()),N&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),o&&(p.navigation.nextEl=o),u&&(p.navigation.prevEl=u),b.init(),b.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),s.includes("direction")&&e.changeDirection(n.direction,!1),(L||F)&&e.loopDestroy(),(H||F)&&e.loopCreate(),e.update()}function aP(r,e){r===void 0&&(r={}),e===void 0&&(e=!0);const t={on:{}},n={},s={};Hl(t,zx),t._emitClasses=!0,t.init=!1;const o={},u=i5.map(h=>h.replace(/_/,"")),c=Object.assign({},r);return Object.keys(c).forEach(h=>{typeof r[h]>"u"||(u.indexOf(h)>=0?Vl(r[h])?(t[h]={},s[h]={},Hl(t[h],r[h]),Hl(s[h],r[h])):(t[h]=r[h],s[h]=r[h]):h.search(/on[A-Z]/)===0&&typeof r[h]=="function"?e?n[`${h[2].toLowerCase()}${h.substr(3)}`]=r[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=r[h]:o[h]=r[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:s,rest:o,events:n}}function oP(r,e){let{el:t,nextEl:n,prevEl:s,paginationEl:o,scrollbarEl:u,swiper:c}=r;s5(e)&&n&&s&&(c.params.navigation.nextEl=n,c.originalParams.navigation.nextEl=n,c.params.navigation.prevEl=s,c.originalParams.navigation.prevEl=s),r5(e)&&o&&(c.params.pagination.el=o,c.originalParams.pagination.el=o),a5(e)&&u&&(c.params.scrollbar.el=u,c.originalParams.scrollbar.el=u),c.init(t)}function lP(r,e,t,n,s){const o=[];if(!e)return o;const u=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&n){const h=n.map(s),d=t.map(s);h.join("")!==d.join("")&&u("children"),n.length!==t.length&&u("children")}return i5.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in r&&h in e)if(Vl(r[h])&&Vl(e[h])){const d=Object.keys(r[h]),p=Object.keys(e[h]);d.length!==p.length?u(h):(d.forEach(g=>{r[h][g]!==e[h][g]&&u(h)}),p.forEach(g=>{r[h][g]!==e[h][g]&&u(h)}))}else r[h]!==e[h]&&u(h)}),o}const cP=r=>{!r||r.destroyed||!r.params.virtual||r.params.virtual&&!r.params.virtual.enabled||(r.updateSlides(),r.updateProgress(),r.updateSlidesClasses(),r.parallax&&r.params.parallax&&r.params.parallax.enabled&&r.parallax.setTranslate())};function Ig(){return Ig=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ig.apply(this,arguments)}function l5(r){return r.type&&r.type.displayName&&r.type.displayName.includes("SwiperSlide")}function c5(r){const e=[];return tn.Children.toArray(r).forEach(t=>{l5(t)?e.push(t):t.props&&t.props.children&&c5(t.props.children).forEach(n=>e.push(n))}),e}function uP(r){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return tn.Children.toArray(r).forEach(n=>{if(l5(n))e.push(n);else if(n.props&&n.props.slot&&t[n.props.slot])t[n.props.slot].push(n);else if(n.props&&n.props.children){const s=c5(n.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(n)}else t["container-end"].push(n)}),{slides:e,slots:t}}function hP(r,e,t){if(!t)return null;const n=p=>{let g=p;return p<0?g=e.length+p:g>=e.length&&(g=g-e.length),g},s=r.isHorizontal()?{[r.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,c=r.params.loop?-e.length:0,h=r.params.loop?e.length*2:e.length,d=[];for(let p=c;p<h;p+=1)p>=o&&p<=u&&d.push(e[n(p)]);return d.map((p,g)=>tn.cloneElement(p,{swiper:r,style:s,key:`slide-${g}`}))}function Fd(r,e){return typeof window>"u"?B.useEffect(r,e):B.useLayoutEffect(r,e)}const y_=B.createContext(null),dP=B.createContext(null),u5=B.forwardRef(function(r,e){let{className:t,tag:n="div",wrapperTag:s="div",children:o,onSwiper:u,...c}=r===void 0?{}:r,h=!1;const[d,p]=B.useState("swiper"),[g,b]=B.useState(null),[w,S]=B.useState(!1),E=B.useRef(!1),D=B.useRef(null),A=B.useRef(null),C=B.useRef(null),R=B.useRef(null),N=B.useRef(null),L=B.useRef(null),H=B.useRef(null),F=B.useRef(null),{params:U,passedParams:q,rest:te,events:V}=aP(c),{slides:ee,slots:Y}=uP(o),oe=()=>{S(!w)};Object.assign(U.on,{_containerClasses(be,G){p(G)}});const de=()=>{Object.assign(U.on,V),h=!0;const be={...U};if(delete be.wrapperClass,A.current=new fw(be),A.current.virtual&&A.current.params.virtual.enabled){A.current.virtual.slides=ee;const G={cache:!1,slides:ee,renderExternal:b,renderExternalUpdate:!1};Hl(A.current.params.virtual,G),Hl(A.current.originalParams.virtual,G)}};D.current||de(),A.current&&A.current.on("_beforeBreakpoint",oe);const W=()=>{h||!V||!A.current||Object.keys(V).forEach(be=>{A.current.on(be,V[be])})},ie=()=>{!V||!A.current||Object.keys(V).forEach(be=>{A.current.off(be,V[be])})};B.useEffect(()=>()=>{A.current&&A.current.off("_beforeBreakpoint",oe)}),B.useEffect(()=>{!E.current&&A.current&&(A.current.emitSlidesClasses(),E.current=!0)}),Fd(()=>{if(e&&(e.current=D.current),!!D.current)return A.current.destroyed&&de(),oP({el:D.current,nextEl:N.current,prevEl:L.current,paginationEl:H.current,scrollbarEl:F.current,swiper:A.current},U),u&&u(A.current),()=>{A.current&&!A.current.destroyed&&A.current.destroy(!0,!1)}},[]),Fd(()=>{W();const be=lP(q,C.current,ee,R.current,G=>G.key);return C.current=q,R.current=ee,be.length&&A.current&&!A.current.destroyed&&rP({swiper:A.current,slides:ee,passedParams:q,changedParams:be,nextEl:N.current,prevEl:L.current,scrollbarEl:F.current,paginationEl:H.current}),()=>{ie()}}),Fd(()=>{cP(A.current)},[g]);function ce(){return U.virtual?hP(A.current,ee,g):ee.map((be,G)=>tn.cloneElement(be,{swiper:A.current,swiperSlideIndex:G}))}return tn.createElement(n,Ig({ref:D,className:o5(`${d}${t?` ${t}`:""}`)},te),tn.createElement(dP.Provider,{value:A.current},Y["container-start"],tn.createElement(s,{className:sP(U.wrapperClass)},Y["wrapper-start"],ce(),Y["wrapper-end"]),s5(U)&&tn.createElement(tn.Fragment,null,tn.createElement("div",{ref:L,className:"swiper-button-prev"}),tn.createElement("div",{ref:N,className:"swiper-button-next"})),a5(U)&&tn.createElement("div",{ref:F,className:"swiper-scrollbar"}),r5(U)&&tn.createElement("div",{ref:H,className:"swiper-pagination"}),Y["container-end"]))});u5.displayName="Swiper";const h5=B.forwardRef(function(r,e){let{tag:t="div",children:n,className:s="",swiper:o,zoom:u,lazy:c,virtualIndex:h,swiperSlideIndex:d,...p}=r===void 0?{}:r;const g=B.useRef(null),[b,w]=B.useState("swiper-slide"),[S,E]=B.useState(!1);function D(N,L,H){L===g.current&&w(H)}Fd(()=>{if(typeof d<"u"&&(g.current.swiperSlideIndex=d),e&&(e.current=g.current),!(!g.current||!o)){if(o.destroyed){b!=="swiper-slide"&&w("swiper-slide");return}return o.on("_slideClass",D),()=>{o&&o.off("_slideClass",D)}}}),Fd(()=>{o&&g.current&&!o.destroyed&&w(o.getSlideClasses(g.current))},[o]);const A={isActive:b.indexOf("swiper-slide-active")>=0,isVisible:b.indexOf("swiper-slide-visible")>=0,isPrev:b.indexOf("swiper-slide-prev")>=0,isNext:b.indexOf("swiper-slide-next")>=0},C=()=>typeof n=="function"?n(A):n,R=()=>{E(!0)};return tn.createElement(t,Ig({ref:g,className:o5(`${b}${s?` ${s}`:""}`),"data-swiper-slide-index":h,onLoad:R},p),u&&tn.createElement(y_.Provider,{value:A},tn.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},C(),c&&!S&&tn.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&tn.createElement(y_.Provider,{value:A},C(),c&&!S&&tn.createElement("div",{className:"swiper-lazy-preloader"})))});h5.displayName="SwiperSlide";function fP(r,e,t,n){return r.params.createElements&&Object.keys(n).forEach(s=>{if(!t[s]&&t.auto===!0){let o=Qs(r.el,`.${n[s]}`)[0];o||(o=Z4("div",n[s]),o.className=n[s],r.el.append(o)),t[s]=o,e[s]=o}}),t}function md(r){return r===void 0&&(r=""),`.${r.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function pP(r){let{swiper:e,extendParams:t,on:n,emit:s}=r;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:C=>C,formatFractionTotal:C=>C,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,c=0;const h=C=>(Array.isArray(C)?C:[C]).filter(R=>!!R);function d(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(C,R){const{bulletActiveClass:N}=e.params.pagination;C&&(C=C[`${R==="prev"?"previous":"next"}ElementSibling`],C&&(C.classList.add(`${N}-${R}`),C=C[`${R==="prev"?"previous":"next"}ElementSibling`],C&&C.classList.add(`${N}-${R}-${R}`)))}function g(C){const R=C.target.closest(md(e.params.pagination.bulletClass));if(!R)return;C.preventDefault();const N=Pg(R)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===N)return;const L=e.realIndex,H=e.getSlideIndexByData(N),F=e.getSlideIndexByData(e.realIndex),U=q=>{const te=e.activeIndex;e.loopFix({direction:q,activeSlideIndex:H,slideTo:!1});const V=e.activeIndex;te===V&&e.slideToLoop(L,0,!1,!0)};if(H>e.slides.length-e.loopedSlides)U(H>F?"next":"prev");else if(e.params.centeredSlides){const q=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));H<Math.floor(q/2)&&U("prev")}e.slideToLoop(N)}else e.slideTo(N)}function b(){const C=e.rtl,R=e.params.pagination;if(d())return;let N=e.pagination.el;N=h(N);let L,H;const F=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,U=e.params.loop?Math.ceil(F/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(H=e.previousRealIndex||0,L=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(L=e.snapIndex,H=e.previousSnapIndex):(H=e.previousIndex||0,L=e.activeIndex||0),R.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const q=e.pagination.bullets;let te,V,ee;if(R.dynamicBullets&&(u=Hx(q[0],e.isHorizontal()?"width":"height"),N.forEach(Y=>{Y.style[e.isHorizontal()?"width":"height"]=`${u*(R.dynamicMainBullets+4)}px`}),R.dynamicMainBullets>1&&H!==void 0&&(c+=L-(H||0),c>R.dynamicMainBullets-1?c=R.dynamicMainBullets-1:c<0&&(c=0)),te=Math.max(L-c,0),V=te+(Math.min(q.length,R.dynamicMainBullets)-1),ee=(V+te)/2),q.forEach(Y=>{const oe=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(de=>`${R.bulletActiveClass}${de}`)].map(de=>typeof de=="string"&&de.includes(" ")?de.split(" "):de).flat();Y.classList.remove(...oe)}),N.length>1)q.forEach(Y=>{const oe=Pg(Y);oe===L?Y.classList.add(...R.bulletActiveClass.split(" ")):e.isElement&&Y.setAttribute("part","bullet"),R.dynamicBullets&&(oe>=te&&oe<=V&&Y.classList.add(...`${R.bulletActiveClass}-main`.split(" ")),oe===te&&p(Y,"prev"),oe===V&&p(Y,"next"))});else{const Y=q[L];if(Y&&Y.classList.add(...R.bulletActiveClass.split(" ")),e.isElement&&q.forEach((oe,de)=>{oe.setAttribute("part",de===L?"bullet-active":"bullet")}),R.dynamicBullets){const oe=q[te],de=q[V];for(let W=te;W<=V;W+=1)q[W]&&q[W].classList.add(...`${R.bulletActiveClass}-main`.split(" "));p(oe,"prev"),p(de,"next")}}if(R.dynamicBullets){const Y=Math.min(q.length,R.dynamicMainBullets+4),oe=(u*Y-u)/2-ee*u,de=C?"right":"left";q.forEach(W=>{W.style[e.isHorizontal()?de:"top"]=`${oe}px`})}}N.forEach((q,te)=>{if(R.type==="fraction"&&(q.querySelectorAll(md(R.currentClass)).forEach(V=>{V.textContent=R.formatFractionCurrent(L+1)}),q.querySelectorAll(md(R.totalClass)).forEach(V=>{V.textContent=R.formatFractionTotal(U)})),R.type==="progressbar"){let V;R.progressbarOpposite?V=e.isHorizontal()?"vertical":"horizontal":V=e.isHorizontal()?"horizontal":"vertical";const ee=(L+1)/U;let Y=1,oe=1;V==="horizontal"?Y=ee:oe=ee,q.querySelectorAll(md(R.progressbarFillClass)).forEach(de=>{de.style.transform=`translate3d(0,0,0) scaleX(${Y}) scaleY(${oe})`,de.style.transitionDuration=`${e.params.speed}ms`})}R.type==="custom"&&R.renderCustom?(q.innerHTML=R.renderCustom(e,L+1,U),te===0&&s("paginationRender",q)):(te===0&&s("paginationRender",q),s("paginationUpdate",q)),e.params.watchOverflow&&e.enabled&&q.classList[e.isLocked?"add":"remove"](R.lockClass)})}function w(){const C=e.params.pagination;if(d())return;const R=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let N=e.pagination.el;N=h(N);let L="";if(C.type==="bullets"){let H=e.params.loop?Math.ceil(R/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&H>R&&(H=R);for(let F=0;F<H;F+=1)C.renderBullet?L+=C.renderBullet.call(e,F,C.bulletClass):L+=`<${C.bulletElement} ${e.isElement?'part="bullet"':""} class="${C.bulletClass}"></${C.bulletElement}>`}C.type==="fraction"&&(C.renderFraction?L=C.renderFraction.call(e,C.currentClass,C.totalClass):L=`<span class="${C.currentClass}"></span> / <span class="${C.totalClass}"></span>`),C.type==="progressbar"&&(C.renderProgressbar?L=C.renderProgressbar.call(e,C.progressbarFillClass):L=`<span class="${C.progressbarFillClass}"></span>`),e.pagination.bullets=[],N.forEach(H=>{C.type!=="custom"&&(H.innerHTML=L||""),C.type==="bullets"&&e.pagination.bullets.push(...H.querySelectorAll(md(C.bulletClass)))}),C.type!=="custom"&&s("paginationRender",N[0])}function S(){e.params.pagination=fP(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const C=e.params.pagination;if(!C.el)return;let R;typeof C.el=="string"&&e.isElement&&(R=e.el.querySelector(C.el)),!R&&typeof C.el=="string"&&(R=[...document.querySelectorAll(C.el)]),R||(R=C.el),!(!R||R.length===0)&&(e.params.uniqueNavElements&&typeof C.el=="string"&&Array.isArray(R)&&R.length>1&&(R=[...e.el.querySelectorAll(C.el)],R.length>1&&(R=R.filter(N=>J4(N,".swiper")[0]===e.el)[0])),Array.isArray(R)&&R.length===1&&(R=R[0]),Object.assign(e.pagination,{el:R}),R=h(R),R.forEach(N=>{C.type==="bullets"&&C.clickable&&N.classList.add(...(C.clickableClass||"").split(" ")),N.classList.add(C.modifierClass+C.type),N.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass),C.type==="bullets"&&C.dynamicBullets&&(N.classList.add(`${C.modifierClass}${C.type}-dynamic`),c=0,C.dynamicMainBullets<1&&(C.dynamicMainBullets=1)),C.type==="progressbar"&&C.progressbarOpposite&&N.classList.add(C.progressbarOppositeClass),C.clickable&&N.addEventListener("click",g),e.enabled||N.classList.add(C.lockClass)}))}function E(){const C=e.params.pagination;if(d())return;let R=e.pagination.el;R&&(R=h(R),R.forEach(N=>{N.classList.remove(C.hiddenClass),N.classList.remove(C.modifierClass+C.type),N.classList.remove(e.isHorizontal()?C.horizontalClass:C.verticalClass),C.clickable&&(N.classList.remove(...(C.clickableClass||"").split(" ")),N.removeEventListener("click",g))})),e.pagination.bullets&&e.pagination.bullets.forEach(N=>N.classList.remove(...C.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const C=e.params.pagination;let{el:R}=e.pagination;R=h(R),R.forEach(N=>{N.classList.remove(C.horizontalClass,C.verticalClass),N.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?A():(S(),w(),b())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&b()}),n("snapIndexChange",()=>{b()}),n("snapGridLengthChange",()=>{w(),b()}),n("destroy",()=>{E()}),n("enable disable",()=>{let{el:C}=e.pagination;C&&(C=h(C),C.forEach(R=>R.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{b()}),n("click",(C,R)=>{const N=R.target,L=h(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&L&&L.length>0&&!N.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&N===e.navigation.nextEl||e.navigation.prevEl&&N===e.navigation.prevEl))return;const H=L[0].classList.contains(e.params.pagination.hiddenClass);s(H===!0?"paginationShow":"paginationHide"),L.forEach(F=>F.classList.toggle(e.params.pagination.hiddenClass))}});const D=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:C}=e.pagination;C&&(C=h(C),C.forEach(R=>R.classList.remove(e.params.pagination.paginationDisabledClass))),S(),w(),b()},A=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:C}=e.pagination;C&&(C=h(C),C.forEach(R=>R.classList.add(e.params.pagination.paginationDisabledClass))),E()};Object.assign(e.pagination,{enable:D,disable:A,render:w,update:b,init:S,destroy:E})}let iy=null;function mP({setActiveIndex:r,activeIndex:e,setDoctorsList:t}){const n=[{name:"Dermatology",image:"/images/determolgy%201.png"},{name:"internal medicine",image:"/images/internal%20medi%201.png"},{name:"Gynecology",image:"/images/gynecology%201.png"},{name:"Dentist",image:"/images/Dental%201.png"},{name:"Neurology",image:"/images/Neurology%201.png"},{name:"Otolaryngology",image:"/images/ota%201.png"}];return y.jsx(u5,{className:"w-[60vw] h-[180px]  !pt-[20px] ",modules:[pP],spaceBetween:20,pagination:{clickable:!0},centeredSlides:!1,breakpoints:{640:{slidesPerView:2},768:{slidesPerView:3},1050:{slidesPerView:4},1450:{slidesPerView:5},1600:{slidesPerView:6}},onClick:async s=>{var o,u;if(s.clickedIndex===e)r(null);else{r(s.clickedIndex);try{iy===null&&(iy=await ft.GetDoctorsList());const c=(u=(o=n[s.clickedIndex])==null?void 0:o.name)==null?void 0:u.toLowerCase().trim(),h=iy.filter(d=>{var p;return((p=d.specialty)==null?void 0:p.toLowerCase().trim())===c});t(h)}catch(c){console.error("Error fetching doctor list:",c)}}},children:n.map((s,o)=>y.jsx(h5,{children:y.jsxs("div",{className:` rounded-2xl w-[170px] h-[114px] flex flex-col justify-center items-center ${e===o?"border-2 border-blue-500 bg-[#322725]":"bg-[#F5F5F5]"}`,children:[y.jsx("img",{className:"w-auto h-auto",src:s.image}),y.jsx("p",{className:"font-[Montserrat Alternates] font-medium text-[#249BF1]",children:s.name})]})},o))})}function gP(){const[r,e]=B.useState({text:"",location:""}),t=n=>{};return y.jsxs("div",{className:"flex flex-col items-start justify-start w-full h-full",children:[y.jsx("p",{className:`2xl:pl-[14vw] pl-[5vw]\r
            text-3xl 2xl:text-4xl font-normal tracking-tight  OutlineText text-[#3C63C7] pt-10`,children:"Find the right doctor"}),y.jsx("p",{className:`2xl:pl-[14vw] pl-[5vw]\r
            text-3xl 2xl:text-4xl font-normal tracking-tight OutlineText  text-[#3C63C7]`,children:"Right at your fingertips"}),y.jsx("p",{className:`2xl:pl-[14vw] pl-[5vw]\r
             w-[400px] lg:w-full\r
             text-lg lg:text-xl font-normal  pt-12  text-[#9C9C9C]`,children:"We care gives you the  tools and information you need to"}),y.jsxs("div",{className:`ml-[5vw] 2xl:ml-[14vw]\r
            flex  items-center mt-10`,children:[y.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("circle",{cx:"30",cy:"30",r:"30",fill:"#C4006A"}),y.jsx("path",{d:"M42.6667 45L32.1667 34.5C31.3333 35.1667 30.375 35.6944 29.2917 36.0833C28.2083 36.4722 27.0556 36.6667 25.8333 36.6667C22.8056 36.6667 20.2431 35.6181 18.1458 33.5208C16.0486 31.4236 15 28.8611 15 25.8333C15 22.8056 16.0486 20.2431 18.1458 18.1458C20.2431 16.0486 22.8056 15 25.8333 15C28.8611 15 31.4236 16.0486 33.5208 18.1458C35.6181 20.2431 36.6667 22.8056 36.6667 25.8333C36.6667 27.0556 36.4722 28.2083 36.0833 29.2917C35.6944 30.375 35.1667 31.3333 34.5 32.1667L45 42.6667L42.6667 45ZM25.8333 33.3333C27.9167 33.3333 29.6875 32.6042 31.1458 31.1458C32.6042 29.6875 33.3333 27.9167 33.3333 25.8333C33.3333 23.75 32.6042 21.9792 31.1458 20.5208C29.6875 19.0625 27.9167 18.3333 25.8333 18.3333C23.75 18.3333 21.9792 19.0625 20.5208 20.5208C19.0625 21.9792 18.3333 23.75 18.3333 25.8333C18.3333 27.9167 19.0625 29.6875 20.5208 31.1458C21.9792 32.6042 23.75 33.3333 25.8333 33.3333Z",fill:"#F3BAFB"})]}),y.jsx("p",{className:"ml-[20px] text-lg md:text-xl text-[#3C63C7]",children:"Search nearest Clinic"})]}),y.jsxs("div",{className:` ml-[calc(5vw+30px)] 2xl:ml-[calc(14vw+30px)]\r
            flex mt-2 items-start`,children:[y.jsx("svg",{width:"2",height:"100",viewBox:"0 0 2 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("rect",{width:"2",height:"100",fill:"#D9D9D9"})}),y.jsx("p",{className:"ml-[50px] xl:w-[500px] w-[300px] text-[#9C9C9C] text-lg md:text-xl ",children:" Find doctors and clinics based on the  factors that matter most to you."})]}),y.jsxs("div",{className:`ml-[5vw] 2xl:ml-[14vw]\r
            flex items-center mt-2`,children:[y.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("circle",{cx:"30",cy:"30",r:"30",fill:"#EFE8AC"}),y.jsx("path",{d:"M46 48V44C46 41.8783 45.1571 39.8434 43.6569 38.3431C42.1566 36.8429 40.1217 36 38 36H22C19.8783 36 17.8434 36.8429 16.3431 38.3431C14.8429 39.8434 14 41.8783 14 44V48M38 20C38 24.4183 34.4183 28 30 28C25.5817 28 22 24.4183 22 20C22 15.5817 25.5817 12 30 12C34.4183 12 38 15.5817 38 20Z",stroke:"#8A226F",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}),y.jsx("p",{className:"ml-[20px] text-lg md:text-xl text-[#3C63C7]",children:"Appointment with the best doctor"})]}),y.jsxs("div",{className:`ml-[calc(5vw+30px)] 2xl:ml-[calc(14vw+30px)]\r
            flex mt-2 items-start`,children:[y.jsx("svg",{width:"2",height:"100",viewBox:"0 0 2 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("rect",{width:"2",height:"100",fill:"#D9D9D9"})}),y.jsx("p",{className:"ml-[50px] xl:w-[500px] w-[300px] text-[#9C9C9C] text-lg md:text-xl ",children:" Convenient schedule your appointment by phone or online when available."})]}),y.jsxs("div",{className:`ml-[5vw] 2xl:ml-[14vw]\r
            flex items-center mt-2`,children:[y.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("circle",{cx:"30",cy:"30",r:"30",fill:"#DBFFE7"}),y.jsx("path",{d:"M45.5833 38.2V43.2C45.5853 43.6641 45.4878 44.1236 45.2972 44.5489C45.1066 44.9742 44.827 45.3559 44.4765 45.6697C44.1259 45.9835 43.712 46.2224 43.2613 46.3711C42.8106 46.5198 42.333 46.5751 41.8592 46.5333C36.6023 45.976 31.5528 44.2235 27.1162 41.4166C22.9886 38.8577 19.4891 35.4436 16.8662 31.4166C13.9791 27.0686 12.1824 22.1183 11.6217 16.9666C11.579 16.5057 11.6351 16.0412 11.7865 15.6027C11.9379 15.1641 12.1813 14.7611 12.501 14.4193C12.8208 14.0775 13.2101 13.8045 13.644 13.6175C14.0779 13.4305 14.5469 13.3337 15.0212 13.3333H20.1462C20.9753 13.3253 21.779 13.6118 22.4077 14.1392C23.0363 14.6666 23.4469 15.399 23.5629 16.2C23.7792 17.8001 24.1804 19.3712 24.7587 20.8833C24.9886 21.4798 25.0383 22.1281 24.9021 22.7514C24.7658 23.3747 24.4493 23.9468 23.99 24.4L21.8204 26.5166C24.2523 30.6892 27.7935 34.144 32.0704 36.5166L34.24 34.4C34.7045 33.9519 35.2909 33.643 35.9297 33.5101C36.5686 33.3772 37.2331 33.4257 37.8446 33.65C39.3945 34.2142 41.0049 34.6056 42.645 34.8166C43.4748 34.9308 44.2327 35.3386 44.7745 35.9624C45.3162 36.5863 45.6041 37.3826 45.5833 38.2Z",stroke:"#00C437",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}),y.jsx("p",{className:"ml-[20px] text-lg md:text-xl text-[#3C63C7]",children:"Get consultant"})]}),y.jsx("div",{className:`ml-[calc(5vw+30px)] 2xl:ml-[calc(14vw+30px)]\r
            flex mt-2 items-start`,children:y.jsx("p",{className:"ml-[50px] xl:w-[500px] w-[300px] text-[#9C9C9C] text-lg md:text-xl ",children:" Learn what you need to know and which questions to ask your doctor."})}),y.jsxs("div",{className:"absolute 2xl:right-[15vw] right-[3vw]  flex flex-col justify-end items-end ",children:[y.jsx("img",{src:"/images/doctor%201.png",className:"lg:w-full lg:h-full w-[70%] "}),y.jsxs("div",{className:"w-[360px] h-[223px] bg-[#F0F0F0] rounded-2xl ml-[30px flex flex-col ",children:[y.jsx("p",{className:"font-Montserrat-Alternates text-[#6D6D6D] text-xl flex justify-center pt-[30px]",children:"find the best doctor you need"}),y.jsx("div",{className:"pt-[16px] pl-[20px]",children:y.jsx(O4,{text:"Search Doctor , Clinic",Input:r.text,change:t(),width:"320px"})}),y.jsx("div",{className:"pt-[16px] pl-[20px]",children:y.jsx(k4,{location:"Set your location",width:"320px"})})]})]})]})}function vP({isFilled:r}){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`h-5 w-5 ${r?"text-yellow-700":"text-gray-400"}`,children:y.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})})}function yP({rating:r}){return y.jsx("div",{className:"flex",children:Array.from({length:5},(t,n)=>y.jsx(vP,{isFilled:n<r},n))})}function bP({setIsPopupOpen:r,setSelectedDoctor:e,Doctors:t}){const n=(s,o)=>{e({...s,index:o}),r(!0)};return t.map((s,o)=>y.jsx("div",{className:"w-[543px] h-[182px] bg-[#F5FFFD] border-[#EDEDED] border-1 rounded-xl",onClick:()=>n(s,o),children:y.jsxs("div",{className:"grid grid-cols-[180px_363px] ",children:[y.jsxs("div",{className:"",children:[y.jsx("img",{src:s.gender==="male"?M4[o]:D4[o],alt:"Doctor",className:"w-[115px] h-[121px] rounded-full ml-3 mt-2"}),y.jsxs("div",{className:"flex flex-row mt-1 ml-3",children:[y.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M12 22C11.7667 22 11.5667 21.9333 11.4 21.8C11.2333 21.6667 11.1083 21.4917 11.025 21.275C10.7083 20.3417 10.3083 19.4667 9.825 18.65C9.35833 17.8333 8.7 16.875 7.85 15.775C7 14.675 6.30833 13.625 5.775 12.625C5.25833 11.625 5 10.4167 5 9C5 7.05 5.675 5.4 7.025 4.05C8.39167 2.68333 10.05 2 12 2C13.95 2 15.6 2.68333 16.95 4.05C18.3167 5.4 19 7.05 19 9C19 10.5167 18.7083 11.7833 18.125 12.8C17.5583 13.8 16.9 14.7917 16.15 15.775C15.25 16.975 14.5667 17.975 14.1 18.775C13.65 19.5583 13.275 20.3917 12.975 21.275C12.8917 21.5083 12.7583 21.6917 12.575 21.825C12.4083 21.9417 12.2167 22 12 22ZM12 11.5C12.7 11.5 13.2917 11.2583 13.775 10.775C14.2583 10.2917 14.5 9.7 14.5 9C14.5 8.3 14.2583 7.70833 13.775 7.225C13.2917 6.74167 12.7 6.5 12 6.5C11.3 6.5 10.7083 6.74167 10.225 7.225C9.74167 7.70833 9.5 8.3 9.5 9C9.5 9.7 9.74167 10.2917 10.225 10.775C10.7083 11.2583 11.3 11.5 12 11.5Z",fill:"#79747E"})}),y.jsx("p",{className:"ml-1 text-sm ",children:s.city})]}),y.jsx("div",{className:"flex flex-row ml-10 h-[13.5px] overflow-hidden",children:y.jsx("p",{className:"text-sm leading-3 ",children:s.address})})]}),y.jsxs("div",{className:"",children:[y.jsxs("div",{className:"flex flex-row justify-between mr-10 mt-4",children:[y.jsx("p",{className:"font-Montserrat-Alternates",children:s.fullName.length>19?s.username:s.fullName}),y.jsxs("div",{className:"flex flex-row",children:[y.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M14 13C13.1667 13 12.4583 12.7083 11.875 12.125C11.2917 11.5417 11 10.8333 11 10C11 9.16667 11.2917 8.45833 11.875 7.875C12.4583 7.29167 13.1667 7 14 7C14.8333 7 15.5417 7.29167 16.125 7.875C16.7083 8.45833 17 9.16667 17 10C17 10.8333 16.7083 11.5417 16.125 12.125C15.5417 12.7083 14.8333 13 14 13ZM7 16C6.45 16 5.97917 15.8042 5.5875 15.4125C5.19583 15.0208 5 14.55 5 14V6C5 5.45 5.19583 4.97917 5.5875 4.5875C5.97917 4.19583 6.45 4 7 4H21C21.55 4 22.0208 4.19583 22.4125 4.5875C22.8042 4.97917 23 5.45 23 6V14C23 14.55 22.8042 15.0208 22.4125 15.4125C22.0208 15.8042 21.55 16 21 16H7ZM9 14H19C19 13.45 19.1958 12.9792 19.5875 12.5875C19.9792 12.1958 20.45 12 21 12V8C20.45 8 19.9792 7.80417 19.5875 7.4125C19.1958 7.02083 19 6.55 19 6H9C9 6.55 8.80417 7.02083 8.4125 7.4125C8.02083 7.80417 7.55 8 7 8V12C7.55 12 8.02083 12.1958 8.4125 12.5875C8.80417 12.9792 9 13.45 9 14ZM20 20H3C2.45 20 1.97917 19.8042 1.5875 19.4125C1.19583 19.0208 1 18.55 1 18V7H3V18H20V20Z",fill:"#79A85F"})}),y.jsxs("p",{className:"ml-1 text-sm leading-5",children:[s.fees," EGP"]})]})]}),y.jsxs("div",{className:"flex flex-row mt-2",children:[y.jsx(yP,{rating:s.rating}),y.jsxs("p",{className:"ml-2 text-sm leading-5",children:[Math.floor(Math.random()*200)," Reviews"]})]}),y.jsx("div",{className:"flex flex-row mt-2 font-[Poppins] font-medium text-[13px]",children:s.specialty}),y.jsx("div",{className:"flex flex-row  font[Poppins] text-[13px]",children:s.specialityDetails}),y.jsxs("div",{className:"flex flex-row mt-5 justify-between bg-[rgb(0,156,199,42%)] h-[30px] ml-15 rounded-sm text-[10px] font-medium font-[Poppins] ]",children:[y.jsx("div",{className:"ml-3 justify-center items-center flex",children:"Availability"}),y.jsx("div",{className:s.workingDays.includes("SUN")?"text-black justify-center items-center flex":"text-white justify-center items-center flex",children:"SUN"}),y.jsx("div",{className:s.workingDays.includes("MON")?"text-black justify-center items-center flex":"text-white justify-center items-center flex",children:"MON"}),y.jsx("div",{className:s.workingDays.includes("TUE")?"text-black justify-center items-center flex":"text-white justify-center items-center flex",children:"TUS"}),y.jsx("div",{className:s.workingDays.includes("WED")?"text-black justify-center items-center flex":"text-white justify-center items-center flex",children:"WED"}),y.jsx("div",{className:s.workingDays.includes("THU")?"text-black justify-center items-center flex":"text-white justify-center items-center flex",children:"THU"}),y.jsx("div",{className:s.workingDays.includes("FRI")?"text-black justify-center items-center flex":"text-white justify-center items-center flex",children:"FRI"}),y.jsx("div",{className:s.workingDays.includes("SAT")?"text-black mr-3 justify-center items-center flex":"text-white mr-3 justify-center items-center flex",children:"SAT"})]})]})]})},s.doctorId))}function xP(){const[r,e]=B.useState({text:"",location:""}),[t,n]=B.useState(null),[s,o]=B.useState([]),[u,c]=B.useState(!1),[h,d]=B.useState(null),[p,g]=B.useState([]),[b,w]=B.useState(!1);function S(E){const D=E.target.value;e(R=>({...R,text:D}));const A=JSON.parse(localStorage.getItem("DoctorsList")||"[]");o(A);const C=A.filter(R=>R.fullName&&R.fullName.toLowerCase().includes(D.trim().toLowerCase()));g(C),o(C),w(D!=="")}return y.jsxs("div",{className:"w-full",children:[y.jsxs("div",{className:"w-full h-[800px]  bg-[#4B34DD]",children:[y.jsx(g0,{}),y.jsxs("div",{className:`pt-2 pl-6\r
            md:pl-[8%] md:pt-32\r
            text-[#C0D2FF]  relative z-10`,children:[y.jsx("div",{className:"text-3xl md:text-5xl font-normal tracking-tight OutlineText",children:"Feel better about"}),y.jsx("div",{className:"text-3xl md:text-5xl font-normal tracking-tight OutlineText",children:"finding healthcare"}),y.jsx("div",{className:`text-[0.8rem] pt-5 text-[#A7EFFF] font-light\r
            md:text-2xl md:pt-20 `,children:"At Healthgrades , we take the guesswork out of finding "}),y.jsx("div",{className:`text-[0.8rem] font-light text-[#A7EFFF]\r
             md:text-2xl`,children:"the right doctors , clinic and care for your family. "}),y.jsxs("div",{className:"flex space-x-15 pt-20",children:[y.jsxs("div",{className:"w-[260px] h-[60px] bg-[#2C2C2C] rounded-xl flex",children:[y.jsxs("svg",{width:"47",height:"43",viewBox:"0 0 47 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginTop:"17px",marginLeft:"20px"},children:[y.jsx("path",{d:"M0 38H47V43H0V38Z",fill:"#FFCCFA"}),y.jsx("path",{d:"M29 26.25V23.75C29 22.4239 28.4732 21.1521 27.5355 20.2145C26.5979 19.2768 25.3261 18.75 24 18.75H15.25C13.9239 18.75 12.6521 19.2768 11.7145 20.2145C10.7768 21.1521 10.25 22.4239 10.25 23.75V26.25M31.5 10L37.75 16.25M37.75 10L31.5 16.25M24.625 8.75C24.625 11.5114 22.3864 13.75 19.625 13.75C16.8636 13.75 14.625 11.5114 14.625 8.75C14.625 5.98858 16.8636 3.75 19.625 3.75C22.3864 3.75 24.625 5.98858 24.625 8.75Z",stroke:"#95D2FF",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),y.jsxs("div",{className:"pl-6 pt-1",children:[y.jsx("p",{className:"italic font-light text-[#F5F5F5] leading-none font-[Inter] text-[1rem] pt-2 ",children:"Profiles for Every"}),y.jsx("p",{className:"italic font-light text-[#F5F5F5] font-[Inter] text-[1rem] ",children:"Doctor in Egypt"})]})]}),y.jsxs("div",{className:"w-[260px] h-[60px] bg-[#2C2C2C] rounded-xl flex",children:[y.jsxs("svg",{width:"47",height:"45",viewBox:"0 0 47 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginTop:"15px",marginLeft:"20px"},children:[y.jsx("path",{d:"M0 40H47V45H0V40Z",fill:"#FFCCFA"}),y.jsx("path",{d:"M18 22.5L23 18.6875L28 22.5L26.125 16.3125L31.125 12.75H25L23 6.25L21 12.75H14.875L19.875 16.3125L18 22.5ZM23 27.5C21.2708 27.5 19.6458 27.1719 18.125 26.5156C16.6042 25.8594 15.2812 24.9688 14.1562 23.8438C13.0312 22.7188 12.1406 21.3958 11.4844 19.875C10.8281 18.3542 10.5 16.7292 10.5 15C10.5 13.2708 10.8281 11.6458 11.4844 10.125C12.1406 8.60417 13.0312 7.28125 14.1562 6.15625C15.2812 5.03125 16.6042 4.14063 18.125 3.48438C19.6458 2.82812 21.2708 2.5 23 2.5C24.7292 2.5 26.3542 2.82812 27.875 3.48438C29.3958 4.14063 30.7188 5.03125 31.8438 6.15625C32.9688 7.28125 33.8594 8.60417 34.5156 10.125C35.1719 11.6458 35.5 13.2708 35.5 15C35.5 16.7292 35.1719 18.3542 34.5156 19.875C33.8594 21.3958 32.9688 22.7188 31.8438 23.8438C30.7188 24.9688 29.3958 25.8594 27.875 26.5156C26.3542 27.1719 24.7292 27.5 23 27.5Z",fill:"#95D2FF"})]}),y.jsxs("div",{className:"pl-6 pt-1",children:[y.jsx("p",{className:"italic font-light text-[#F5F5F5] leading-none font-[Inter] text-[1rem] pt-2 ",children:"More than 10 Million"}),y.jsx("p",{className:"italic font-light text-[#F5F5F5]  font-[Inter] text-[1rem] ",children:"patient Ratings"})]})]})]})]}),y.jsx("img",{src:"/images/Main%20doc.png",alt:"Hero",className:`absolute top-[40] right-4\r
          md:top-25 md:right-[5%] w-1/2 md:w-3xl\r
          object-contain z-0`})]}),y.jsxs("div",{className:` grid grid-cols-7 gap-[4vw] w-[72.9vw] ${p.length<4&&p.length!==0?"h-[144px]":"h-[110px]"}
              bg-[#F5F5F5] absolute top-[calc(800px-50px)]
              left-[27vw] transform -translate-x-[13.54vw]
              rounded-2xl items-start justify-center pt-6`,children:[y.jsxs("div",{className:"pl-10 col-span-3",children:[y.jsx(O4,{text:"Search Doctor",Input:r.text,change:S,width:"28vw"}),y.jsx("div",{className:"flex flex-row space-x-3 mt-3",children:p.length<4&&p.map(E=>y.jsx("button",{type:"button",onClick:()=>{e(A=>({...A,text:E.fullName}));const D=s.filter(A=>A.fullName===E.fullName);o(D),console.log(`clicked name :${E.fullName}`)},className:"bg-white rounded-lg px-2 py-1 text-[#4A498C] hover:bg-blue-500",children:E.fullName}))})]}),y.jsx("div",{className:"col-span-3 pl-5",children:y.jsx(k4,{location:"Set your location",width:"28vw"})}),y.jsxs("svg",{width:"56",height:"59",viewBox:"0 0 56 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"col-span-1",children:[y.jsx("path",{d:"M0 10C0 4.47715 4.47715 0 10 0H46C51.5229 0 56 4.47715 56 10V49C56 54.5228 51.5229 59 46 59H10C4.47715 59 0 54.5228 0 49V10Z",fill:"#4A498C"}),y.jsx("path",{d:"M37.625 40.5L32.7312 35.425M35.375 28.8333C35.375 33.988 31.3456 38.1667 26.375 38.1667C21.4044 38.1667 17.375 33.988 17.375 28.8333C17.375 23.6787 21.4044 19.5 26.375 19.5C31.3456 19.5 35.375 23.6787 35.375 28.8333Z",stroke:"#EBFFEE",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),y.jsx("div",{className:"font-[Montserrat Alternates] pt-30 pl-[14vw] text-[#525252] font-medium text-xl",children:"Specialties"}),y.jsx(mP,{setActiveIndex:n,activeIndex:t,setDoctorsList:o}),u?y.jsx(Bj,{selectedDoctor:h,setSelectedDoctor:d,setIsPopupOpen:c}):null,t!==null||b===!0?y.jsx(y.Fragment,{children:s.length>0?y.jsx("div",{className:"justify-center items-center grid grid-cols-[600px_600px] gap-10 pt-20",children:y.jsx(bP,{setIsPopupOpen:c,selectedDoctor:h,setSelectedDoctor:d,Doctors:s})}):y.jsxs("div",{className:"flex space-x-8 justify-center items-center  w-full h-40",children:[y.jsx("div",{className:"loader",children:" "}),y.jsx("p",{children:" We are trying to contact servers "})]})}):y.jsx(gP,{})]})}const wP=()=>{const r=rh(),[e,t]=B.useState(!1),[n,s]=B.useState(""),[o,u]=B.useState(!1),[c,h]=B.useState({userName:"",email:"",fullName:"",password:"",confirmPassword:"",gender:"male",dateOfBirth:"",address:"",cityId:1,age:"",role:["User"]}),d=w=>{const{name:S,value:E}=w.target;h({...c,[S]:E})},p=w=>{h({...c,role:[w.target.value]})},g=()=>!c.userName||!c.email||!c.fullName||!c.password?(s("Please fill in all required fields"),!1):c.password!==c.confirmPassword?(s("Passwords do not match"),!1):c.password.length<6?(s("Password must be at least 6 characters"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)?!0:(s("Please enter a valid email address"),!1),b=async w=>{if(w.preventDefault(),!g())return;t(!0),s(""),{...c};const S={...c};delete S.confirmPassword;try{const E=await Bl.signup(S);u("Account created successfully! You can now login."),h({userName:"",email:"",fullName:"",role:["Admin"],password:"",confirmPassword:"",gender:"male",dateOfBirth:"",address:"",cityId:1,age:""})}catch(E){s(E.message||"An error occurred during signup")}finally{try{await Bl.login({username:c.userName,password:c.password})}catch(E){s(E.message||"Invalid username or password. Please try again.")}finally{t(!1),r("/")}}};return y.jsx("div",{className:"signup-container",children:y.jsxs("div",{className:"signup-form-wrapper",children:[y.jsx("h2",{children:"Create Your Medicare Account"}),n&&y.jsx("div",{className:"error-message",children:n}),y.jsxs("form",{onSubmit:b,className:"signup-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"fullName",children:"Full Name *"}),y.jsx("input",{type:"text",id:"fullName",name:"fullName",value:c.fullName,onChange:d,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"userName",children:"Username *"}),y.jsx("input",{type:"text",id:"userName",name:"userName",value:c.userName,onChange:d,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email Address *"}),y.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:d,required:!0})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Password *"}),y.jsx("input",{type:"password",id:"password",name:"password",value:c.password,onChange:d,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),y.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:d,required:!0})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"gender",children:"Gender"}),y.jsxs("select",{id:"gender",name:"gender",value:c.gender,onChange:d,children:[y.jsx("option",{value:"male",children:"Male"}),y.jsx("option",{value:"female",children:"Female"}),y.jsx("option",{value:"other",children:"Other"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"age",children:"Age"}),y.jsx("input",{type:"number",id:"age",name:"age",min:"0",max:"120",value:c.age,onChange:d})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"dateOfBirth",children:"Date of Birth"}),y.jsx("input",{type:"date",id:"dateOfBirth",name:"dateOfBirth",value:c.dateOfBirth,onChange:d})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"address",children:"Address"}),y.jsx("input",{type:"text",id:"address",name:"address",value:c.address,onChange:d})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"cityId",children:"City"}),y.jsx("select",{id:"cityId",name:"cityId",value:c.cityId,onChange:d,children:L4.map((w,S)=>y.jsxs("option",{value:S+1,children:[" ",w]},w))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"role",children:"Account Type"}),y.jsxs("select",{id:"role",name:"role",value:c.role[0],onChange:p,children:[y.jsx("option",{value:"User",children:"Patient"}),y.jsx("option",{value:"Doctor",children:"Doctor"}),y.jsx("option",{value:"Admin",children:"Administrator"})]})]}),y.jsx("div",{className:"form-actions",children:y.jsx("button",{type:"submit",className:"signup-button",disabled:e,children:e?"Creating Account...":"Create Account"})}),y.jsxs("div",{className:"login-link",children:["Already have an account? ",y.jsx("a",{href:"/login",children:"Login here"})]})]})]})})},SP=()=>y.jsx("div",{className:"signup-page",children:y.jsx(wP,{})});function EP({appointments:r,onDateSelect:e,user:t,formData:n,setFormData:s,enableVacation:o,setEnableVacation:u}){const[c,h]=B.useState(new Date),[d,p]=B.useState([]),[g,b]=B.useState(new Date);B.useEffect(()=>{w(c)},[c,r,t,n]);function w(N){const L=N.getFullYear(),H=N.getMonth(),F=[],U=new Date(L,H,1),te=new Date(L,H+1,0).getDate(),V=U.getDay(),ee=new Date(L,H,0).getDate();for(let oe=V-1;oe>=0;oe--){const de=ee-oe;F.push({date:new Date(L,H-1,de),day:de,isPreviousMonth:!0,status:"unavailable"})}for(let oe=1;oe<=te;oe++){const de=new Date(L,H,oe),W=S(de),ie=new Date(L,H,oe+1).toISOString().split("T")[0];let ce=W;r.find(be=>be.date.split("T")[0]===ie)&&(ce="booked"),Array.isArray(n.vacations)&&n.vacations.some(be=>new Date(be).toISOString().split("T")[0]===new Date(L,H,oe+1).toISOString().split("T")[0])&&(ce="unavailable"),F.push({date:de,day:oe,isCurrentMonth:!0,status:ce})}const Y=42-F.length;for(let oe=1;oe<=Y;oe++)F.push({date:new Date(L,H+1,oe),day:oe,isNextMonth:!0,status:"unavailable"});p(F)}function S(N,L){return t.doctor.workingDays.includes(N.toLocaleDateString("en-US",{weekday:"short"}).toUpperCase())?"available":"unavailable"}const E=()=>{h(new Date(c.getFullYear(),c.getMonth()-1,1))},D=()=>{h(new Date(c.getFullYear(),c.getMonth()+1,1))},A=N=>N.toLocaleDateString("en-US",{month:"long",year:"numeric"}),C=N=>{console.log(N.date.toLocaleDateString("en-US",{weekday:"short"}).toUpperCase()),b(N.date),e&&e(N.date);const L=new Date(N.date.getTime()+24*60*60*1e3);o===!0&&(n.vacations.includes(L.toISOString().split("T")[0])?s({...n,vacations:n.vacations.filter(H=>H!==L.toISOString().split("T")[0])}):s({...n,vacations:[...n.vacations,L.toISOString().split("T")[0]]})),console.log(n.vacation),console.log(N.date.toISOString().split("T")[0])},R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return y.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[y.jsx("div",{className:"bg-gray-100 p-4 border-b",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h2",{className:"text-xl font-bold",children:"Calendar"}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{className:"p-1 rounded-full hover:bg-gray-200",onClick:E,children:"◀"}),y.jsx("span",{className:"font-medium",children:A(c)}),y.jsx("button",{className:"p-1 rounded-full hover:bg-gray-200",onClick:D,children:"▶"})]})]})}),y.jsxs("div",{className:"p-4",children:[y.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:R.map(N=>y.jsx("div",{className:"text-sm font-medium text-gray-500",children:N},N))}),y.jsx("div",{className:"grid grid-cols-7 gap-1",children:d.map((N,L)=>{let H="bg-blue-100";N.status==="booked"&&(H="bg-red-100"),N.status==="unavailable"&&(H="bg-gray-200"),(N.isPreviousMonth||N.isNextMonth)&&(H="bg-gray-100");const F=new Date,U=N.date.getDate()===F.getDate()&&N.date.getMonth()===F.getMonth()&&N.date.getFullYear()===F.getFullYear(),q=N.date.getDate()===g.getDate()&&N.date.getMonth()===g.getMonth()&&N.date.getFullYear()===g.getFullYear();return y.jsx("button",{className:`
                  ${H} rounded-full h-10 w-10 flex items-center justify-center mx-auto
                  ${U?"ring-2 ring-blue-500":""}
                  ${q?"ring-2 ring-indigo-600":""}
                  ${N.isPreviousMonth||N.isNextMonth?"text-gray-400":N.status==="booked"?"text-red-800":N.status==="unavailable"?"text-gray-500":"text-blue-800"}
                  hover:opacity-80 transition-opacity
                `,onClick:()=>C(N),disabled:N.status==="unavailable"&&o===!1,children:N.day},L)})}),y.jsxs("div",{className:"mt-4 flex justify-around text-sm",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-100 mr-1"}),y.jsx("span",{className:"text-gray-600",children:"Available"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"h-3 w-3 rounded-full bg-gray-200 mr-1"}),y.jsx("span",{className:"text-gray-600",children:"Unavailable"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"h-3 w-3 rounded-full bg-red-100 mr-1"}),y.jsx("span",{className:"text-gray-600",children:"Booked"})]})]})]})]})}/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TP=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),b_=r=>{const e=TP(r);return e.charAt(0).toUpperCase()+e.slice(1)},d5=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),_P=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:u,...c},h)=>B.createElement("svg",{ref:h,...CP,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:d5("lucide",s),...!o&&!_P(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,p])=>B.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=(r,e)=>{const t=B.forwardRef(({className:n,...s},o)=>B.createElement(NP,{ref:o,iconNode:e,className:d5(`lucide-${AP(b_(r))}`,`lucide-${r}`,n),...s}));return t.displayName=b_(r),t};/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],f5=Jl("calendar",RP);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DP=Jl("check",MP);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gd=Jl("chevron-right",LP);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],kP=Jl("clock",OP);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Od=Jl("plus",jP);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],IP=Jl("send",PP);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],BP=Jl("trash",FP);var sy={exports:{}},ry,x_;function HP(){if(x_)return ry;x_=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ry=r,ry}var ay,w_;function UP(){if(w_)return ay;w_=1;var r=HP();function e(){}function t(){}return t.resetWarningCache=e,ay=function(){function n(u,c,h,d,p,g){if(g!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function s(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},ay}var S_;function p5(){return S_||(S_=1,sy.exports=UP()()),sy.exports}const zP="/assets/cloud-upload-regular-240-WAAYYF9u.png";function qP({fileList:r,setFileList:e}){const t=B.useRef(null),n=()=>t.current.classList.add("dragover"),s=()=>t.current.classList.remove("dragover"),o=()=>t.current.classList.remove("dragover"),u=h=>{const d=h.target.files[0];if(d){const p=[...r,d];e(p)}},c=h=>{const d=[...r];d.splice(r.indexOf(h),1),e(d)};return y.jsxs("div",{className:"flex flex-row",children:[y.jsxs("div",{ref:t,className:"drop-file-input",onDragEnter:n,onDragLeave:s,onDrop:o,children:[y.jsxs("div",{className:"drop-file-input__label object-contain w-20 ",children:[y.jsx("img",{src:zP,alt:""}),y.jsx("p",{className:"text-ellipsis text-[11px] w-20",children:"Upload File"})]}),y.jsx("input",{type:"file",value:"",onChange:u})]}),r.length>0?y.jsx("div",{className:"flex flex-row space-x-6 items-center mt-2 px-4",children:r.map((h,d)=>y.jsxs("div",{className:" group flex-col flex items-center justify-center ",children:[y.jsx("img",{className:"object-contain w-10",src:Lg[h.type.split("/")[1]]||Lg.default,alt:""}),y.jsx("span",{className:"overflow-hidden text-ellipsis text-[11px] line-clamp-2 whitespace-pre-line text w-15 group-hover:line-clamp-none",children:h.name}),y.jsx("span",{className:"absolute z-1 rounded-full bg-red-300 p-1 mt-14 hidden group-hover:inline-flex cursor-pointer ",onClick:()=>c(h),children:y.jsx(BP,{className:"w-4"})})]},d))}):null]})}function GP({url:r,close:e}){const[t,n]=B.useState(null),[s,o]=B.useState(2);function u({numPages:c}){n(c)}return y.jsx("div",{className:"fixed inset-0 bg-[rgba(64,64,64,61%)] flex flex-col justify-center items-center z-10",children:y.jsxs("div",{className:"rounded-2xl",style:{height:"90vh",width:"60vw",overflowY:"auto",background:"white",borderRadius:8,padding:16,alignItems:"center",display:"flex",flexDirection:"column"},children:[y.jsx("button",{className:"fixed right-0 px-4  z-11 mr-[20vw] rounded-full bg-red-500 text-white p-2 transform translate-x-2 -translate-y-5",onClick:()=>e(!1),children:"x"}),y.jsxs("div",{style:{marginBottom:10},children:[y.jsx("button",{onClick:()=>o(c=>Math.min(c+.2,3)),children:"Zoom In"}),y.jsx("button",{onClick:()=>o(c=>Math.max(c-.2,.5)),style:{marginLeft:8},children:"Zoom Out"}),y.jsxs("span",{style:{marginLeft:12},children:["Zoom: ",Math.round(s*100),"%"]})]}),y.jsx(EL,{file:`http://localhost:8080/proxy/${r.split("/")[0]}`,onLoadSuccess:u,onLoadError:console.error,children:Array.from(new Array(t),(c,h)=>y.jsx(kL,{pageNumber:h+1,scale:s},`page_${h+1}`))})]})})}function VP({appointment:r,Index:e,user:t,setUser:n}){const[s,o]=B.useState(null),[u,c]=B.useState(!1),[h,d]=B.useState(null),[p,g]=B.useState([]),[b,w]=B.useState({ReportText:"",PatientIssue:r[e].visitPurpose});return y.jsx(y.Fragment,{children:u===!0?y.jsx(GP,{close:c,url:h}):y.jsxs("div",{className:"bg-white h-full rounded-lg shadow p-6 flex flex-col",children:[y.jsxs("div",{className:"flex flex-row",children:[y.jsx("img",{src:r[e].user.imageUrl!=null?r[e].user.imageUrl:r[e].user.gender==="male"?ta:ea,className:"h-22 w-22 rounded-full object-cover",alt:""}),y.jsxs("div",{className:"flex-col",children:[y.jsxs("p",{children:[" Name: ",r[e].user.fullName]}),y.jsxs("p",{children:[" Gender: ",r[e].user.gender]}),y.jsxs("p",{children:[" Age: ",r[e].user.age]}),y.jsxs("p",{children:[" Age: ",r[e].user.dateOfBirth]})]})]}),y.jsxs("button",{type:"button",className:"flex flex-row  mt-5 bg-amber-300 rounded-t-lg py-2",onClick:()=>o(s!==0?0:null),children:[y.jsxs("div",{className:`${s===0?"rotate-90":""} duration-300 transition-all ease-in-out`,children:[" ",y.jsx(gd,{})," "]}),"VISIT REPORT"]}),y.jsxs("div",{className:`flex flex-col rounded-b-xl duration-300 transition-all ease-in-out overflow-y-auto @container ${s===0?"max-h-200":"max-h-0"}`,children:[y.jsx("div",{className:"flex flex-row",children:y.jsx("div",{className:"",children:y.jsx(qP,{fileList:p,setFileList:g})})}),y.jsxs("div",{className:"flex flex-row",children:[y.jsx("textarea",{className:"border-2 border-gray-200 rounded-lg w-[80cqw] resize-none ",value:b.ReportText,onChange:S=>w({...b,ReportText:S.target.value}),placeholder:"Enter your report here"}),y.jsx("button",{type:"button",className:"bg-amber-300 rounded-lg py-2 px-4 ml-2",onClick:async()=>{const S=new FormData;S.append("ReportText",b.ReportText),S.append("PatientIssue",b.PatientIssue),p.forEach(D=>S.append("file",D)),await ft.uploadDocument(S,r[e].patientId),g([]),w({...b,ReportText:""});const E=await ft.GetCurrentUser();n(E)},children:y.jsxs("div",{className:"flex-row flex",children:[" Upload ",y.jsx(IP,{})]})})]}),t.doctor.preVisits.slice().reverse().map((S,E)=>y.jsx("div",{className:"flex flex-row",children:y.jsxs("div",{className:"flex-col w-full px-4 pt-4",children:[y.jsxs("div",{className:"flex-row flex items-center w-full justify-between",children:[y.jsx("p",{className:"text-sm font-medium ml-2",children:$P(S.date)}),y.jsx("div",{className:"w-[55cqw] h-[2px] bg-gray-300/40"})]}),y.jsxs("div",{className:"flex-row flex w-full justify-between items-center mt-2",children:[y.jsx("p",{className:"text-sm ml-2",children:S.reportText}),y.jsx("div",{className:"flex-col flex overflow-y-auto h-[100px] w-[20cqw] border-l-2 border-gray-400 items-center ",children:S.reportFiles.map((D,A)=>y.jsxs("button",{type:"button",className:"justify-center items-center flex-col flex ",onClick:()=>{d(D.toString()),c(!0)},children:[y.jsx("img",{className:"object-contain w-10",src:Lg[D.split(".").pop()]||Lg.default,alt:""}),y.jsx("span",{className:"text-[11px] w-15 ",children:D.split("/")[1]})]}))})]})]})},E))]}),y.jsxs("button",{type:"button",className:"flex flex-row  mt-5 bg-amber-300 rounded-t-lg py-2",onClick:()=>o(s!==1?1:null),children:[y.jsxs("div",{className:`${s===1?"rotate-90":""} duration-300 transition-all ease-in-out`,children:[" ",y.jsx(gd,{})," "]}),"MEDICAL HISTORY"]}),y.jsx("div",{className:`flex flex-col rounded-b-xl duration-300 transition-all ease-in-out overflow-hidden @container ${s===1?"max-h-200":"max-h-0"}`,children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discription"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200 ",children:r[e].user.medicalHistories.map((S,E)=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.date}),y.jsx("td",{className:"px-6 py-4",children:S.description})]}))})]})})}),y.jsxs("button",{type:"button",className:"flex flex-row  mt-5 bg-amber-300 rounded-t-lg py-2",onClick:()=>o(s!==2?2:null),children:[y.jsxs("div",{className:`${s===2?"rotate-90":""} duration-300 transition-all ease-in-out`,children:[" ",y.jsx(gd,{})," "]}),"CHRONIC DISEASE"]}),y.jsx("div",{className:`flex flex-col rounded-b-xl duration-300 transition-all ease-in-out overflow-hidden @container ${s===2?"max-h-200":"max-h-0"}`,children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discription"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200 ",children:r[e].user.chronicDiseases.map((S,E)=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.name}),y.jsx("td",{className:"px-6 py-4",children:S.description})]}))})]})})}),y.jsxs("button",{type:"button",className:"flex flex-row  mt-5 bg-amber-300 rounded-t-lg py-2",onClick:()=>o(s!==3?3:null),children:[y.jsxs("div",{className:`${s===3?"rotate-90":""} duration-300 transition-all ease-in-out`,children:[" ",y.jsx(gd,{})," "]}),"Allergies"]}),y.jsx("div",{className:`flex flex-col rounded-b-xl duration-300 transition-all ease-in-out overflow-hidden @container ${s===3?"max-h-200":"max-h-0"}`,children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allergies"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discription"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200 ",children:r[e].user.allergies.map((S,E)=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.allergy}),y.jsx("td",{className:"px-6 py-4",children:S.description})]}))})]})})}),y.jsxs("button",{type:"button",className:"flex flex-row  mt-5 bg-amber-300 rounded-t-lg py-2",onClick:()=>o(s!==4?4:null),children:[y.jsxs("div",{className:`${s===4?"rotate-90":""} duration-300 transition-all ease-in-out`,children:[" ",y.jsx(gd,{})," "]}),"MEDICATIONS"]}),y.jsx("div",{className:`flex flex-col rounded-b-xl duration-300 transition-all ease-in-out overflow-hidden @container ${s===4?"max-h-200":"max-h-0"}`,children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsx("tr",{children:y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MEDICATIONS"})})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200 ",children:r[e].user.drugHistories.map((S,E)=>y.jsx("tr",{className:"hover:bg-gray-50",children:y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.drugName})}))})]})})})]})})}function $P(r){const e=new Date(r),t=e.toLocaleDateString("en-US",{weekday:"long"}),n=e.toLocaleDateString("en-US",{month:"short"}),s=e.getDate();return`${t}, ${n} ${s}${(u=>{const c=["th","st","nd","rd"],h=u%100;return c[(h-20)%10]||c[h]||c[0]})(s)}`}var zc={},oy,E_;function m5(){return E_||(E_=1,oy={L:1,M:0,Q:3,H:2}),oy}var ly,A_;function g5(){return A_||(A_=1,ly={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),ly}var cy,T_;function YP(){if(T_)return cy;T_=1;var r=g5();function e(t){this.mode=r.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var n=0;n<this.data.length;n++)t.put(this.data.charCodeAt(n),8)}},cy=e,cy}var uy,__;function XP(){if(__)return uy;__=1;var r=m5();function e(t,n){this.totalCount=t,this.dataCount=n}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,n){var s=e.getRsBlockTable(t,n);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var o=s.length/3,u=new Array,c=0;c<o;c++)for(var h=s[c*3+0],d=s[c*3+1],p=s[c*3+2],g=0;g<h;g++)u.push(new e(d,p));return u},e.getRsBlockTable=function(t,n){switch(n){case r.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case r.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case r.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case r.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},uy=e,uy}var hy,C_;function WP(){if(C_)return hy;C_=1;function r(){this.buffer=new Array,this.length=0}return r.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},hy=r,hy}var dy,N_;function v5(){if(N_)return dy;N_=1;for(var r={glog:function(t){if(t<1)throw new Error("glog("+t+")");return r.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return r.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)r.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)r.EXP_TABLE[e]=r.EXP_TABLE[e-4]^r.EXP_TABLE[e-5]^r.EXP_TABLE[e-6]^r.EXP_TABLE[e-8];for(var e=0;e<255;e++)r.LOG_TABLE[r.EXP_TABLE[e]]=e;return dy=r,dy}var fy,R_;function y5(){if(R_)return fy;R_=1;var r=v5();function e(t,n){if(t.length==null)throw new Error(t.length+"/"+n);for(var s=0;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+n);for(var o=0;o<t.length-s;o++)this.num[o]=t[o+s]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var n=new Array(this.getLength()+t.getLength()-1),s=0;s<this.getLength();s++)for(var o=0;o<t.getLength();o++)n[s+o]^=r.gexp(r.glog(this.get(s))+r.glog(t.get(o)));return new e(n,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var n=r.glog(this.get(0))-r.glog(t.get(0)),s=new Array(this.getLength()),o=0;o<this.getLength();o++)s[o]=this.get(o);for(var o=0;o<t.getLength();o++)s[o]^=r.gexp(r.glog(t.get(o))+n);return new e(s,0).mod(t)}},fy=e,fy}var py,M_;function QP(){if(M_)return py;M_=1;var r=g5(),e=y5(),t=v5(),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(o){for(var u=o<<10;s.getBCHDigit(u)-s.getBCHDigit(s.G15)>=0;)u^=s.G15<<s.getBCHDigit(u)-s.getBCHDigit(s.G15);return(o<<10|u)^s.G15_MASK},getBCHTypeNumber:function(o){for(var u=o<<12;s.getBCHDigit(u)-s.getBCHDigit(s.G18)>=0;)u^=s.G18<<s.getBCHDigit(u)-s.getBCHDigit(s.G18);return o<<12|u},getBCHDigit:function(o){for(var u=0;o!=0;)u++,o>>>=1;return u},getPatternPosition:function(o){return s.PATTERN_POSITION_TABLE[o-1]},getMask:function(o,u,c){switch(o){case n.PATTERN000:return(u+c)%2==0;case n.PATTERN001:return u%2==0;case n.PATTERN010:return c%3==0;case n.PATTERN011:return(u+c)%3==0;case n.PATTERN100:return(Math.floor(u/2)+Math.floor(c/3))%2==0;case n.PATTERN101:return u*c%2+u*c%3==0;case n.PATTERN110:return(u*c%2+u*c%3)%2==0;case n.PATTERN111:return(u*c%3+(u+c)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}},getErrorCorrectPolynomial:function(o){for(var u=new e([1],0),c=0;c<o;c++)u=u.multiply(new e([1,t.gexp(c)],0));return u},getLengthInBits:function(o,u){if(1<=u&&u<10)switch(o){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+o)}else if(u<27)switch(o){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+o)}else if(u<41)switch(o){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+o)}else throw new Error("type:"+u)},getLostPoint:function(o){for(var u=o.getModuleCount(),c=0,h=0;h<u;h++)for(var d=0;d<u;d++){for(var p=0,g=o.isDark(h,d),b=-1;b<=1;b++)if(!(h+b<0||u<=h+b))for(var w=-1;w<=1;w++)d+w<0||u<=d+w||b==0&&w==0||g==o.isDark(h+b,d+w)&&p++;p>5&&(c+=3+p-5)}for(var h=0;h<u-1;h++)for(var d=0;d<u-1;d++){var S=0;o.isDark(h,d)&&S++,o.isDark(h+1,d)&&S++,o.isDark(h,d+1)&&S++,o.isDark(h+1,d+1)&&S++,(S==0||S==4)&&(c+=3)}for(var h=0;h<u;h++)for(var d=0;d<u-6;d++)o.isDark(h,d)&&!o.isDark(h,d+1)&&o.isDark(h,d+2)&&o.isDark(h,d+3)&&o.isDark(h,d+4)&&!o.isDark(h,d+5)&&o.isDark(h,d+6)&&(c+=40);for(var d=0;d<u;d++)for(var h=0;h<u-6;h++)o.isDark(h,d)&&!o.isDark(h+1,d)&&o.isDark(h+2,d)&&o.isDark(h+3,d)&&o.isDark(h+4,d)&&!o.isDark(h+5,d)&&o.isDark(h+6,d)&&(c+=40);for(var E=0,d=0;d<u;d++)for(var h=0;h<u;h++)o.isDark(h,d)&&E++;var D=Math.abs(100*E/u/u-50)/5;return c+=D*10,c}};return py=s,py}var my,D_;function KP(){if(D_)return my;D_=1;var r=YP(),e=XP(),t=WP(),n=QP(),s=y5();function o(c,h){this.typeNumber=c,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=o.prototype;return u.addData=function(c){var h=new r(c);this.dataList.push(h),this.dataCache=null},u.isDark=function(c,h){if(c<0||this.moduleCount<=c||h<0||this.moduleCount<=h)throw new Error(c+","+h);return this.modules[c][h]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var c=1;for(c=1;c<40;c++){for(var h=e.getRSBlocks(c,this.errorCorrectLevel),d=new t,p=0,g=0;g<h.length;g++)p+=h[g].dataCount;for(var g=0;g<this.dataList.length;g++){var b=this.dataList[g];d.put(b.mode,4),d.put(b.getLength(),n.getLengthInBits(b.mode,c)),b.write(d)}if(d.getLengthInBits()<=p*8)break}this.typeNumber=c}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(c,h){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++)this.modules[d][p]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(c,h),this.typeNumber>=7&&this.setupTypeNumber(c),this.dataCache==null&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,h)},u.setupPositionProbePattern=function(c,h){for(var d=-1;d<=7;d++)if(!(c+d<=-1||this.moduleCount<=c+d))for(var p=-1;p<=7;p++)h+p<=-1||this.moduleCount<=h+p||(0<=d&&d<=6&&(p==0||p==6)||0<=p&&p<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=p&&p<=4?this.modules[c+d][h+p]=!0:this.modules[c+d][h+p]=!1)},u.getBestMaskPattern=function(){for(var c=0,h=0,d=0;d<8;d++){this.makeImpl(!0,d);var p=n.getLostPoint(this);(d==0||c>p)&&(c=p,h=d)}return h},u.createMovieClip=function(c,h,d){var p=c.createEmptyMovieClip(h,d),g=1;this.make();for(var b=0;b<this.modules.length;b++)for(var w=b*g,S=0;S<this.modules[b].length;S++){var E=S*g,D=this.modules[b][S];D&&(p.beginFill(0,100),p.moveTo(E,w),p.lineTo(E+g,w),p.lineTo(E+g,w+g),p.lineTo(E,w+g),p.endFill())}return p},u.setupTimingPattern=function(){for(var c=8;c<this.moduleCount-8;c++)this.modules[c][6]==null&&(this.modules[c][6]=c%2==0);for(var h=8;h<this.moduleCount-8;h++)this.modules[6][h]==null&&(this.modules[6][h]=h%2==0)},u.setupPositionAdjustPattern=function(){for(var c=n.getPatternPosition(this.typeNumber),h=0;h<c.length;h++)for(var d=0;d<c.length;d++){var p=c[h],g=c[d];if(this.modules[p][g]==null)for(var b=-2;b<=2;b++)for(var w=-2;w<=2;w++)b==-2||b==2||w==-2||w==2||b==0&&w==0?this.modules[p+b][g+w]=!0:this.modules[p+b][g+w]=!1}},u.setupTypeNumber=function(c){for(var h=n.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var p=!c&&(h>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=p}for(var d=0;d<18;d++){var p=!c&&(h>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=p}},u.setupTypeInfo=function(c,h){for(var d=this.errorCorrectLevel<<3|h,p=n.getBCHTypeInfo(d),g=0;g<15;g++){var b=!c&&(p>>g&1)==1;g<6?this.modules[g][8]=b:g<8?this.modules[g+1][8]=b:this.modules[this.moduleCount-15+g][8]=b}for(var g=0;g<15;g++){var b=!c&&(p>>g&1)==1;g<8?this.modules[8][this.moduleCount-g-1]=b:g<9?this.modules[8][15-g-1+1]=b:this.modules[8][15-g-1]=b}this.modules[this.moduleCount-8][8]=!c},u.mapData=function(c,h){for(var d=-1,p=this.moduleCount-1,g=7,b=0,w=this.moduleCount-1;w>0;w-=2)for(w==6&&w--;;){for(var S=0;S<2;S++)if(this.modules[p][w-S]==null){var E=!1;b<c.length&&(E=(c[b]>>>g&1)==1);var D=n.getMask(h,p,w-S);D&&(E=!E),this.modules[p][w-S]=E,g--,g==-1&&(b++,g=7)}if(p+=d,p<0||this.moduleCount<=p){p-=d,d=-d;break}}},o.PAD0=236,o.PAD1=17,o.createData=function(c,h,d){for(var p=e.getRSBlocks(c,h),g=new t,b=0;b<d.length;b++){var w=d[b];g.put(w.mode,4),g.put(w.getLength(),n.getLengthInBits(w.mode,c)),w.write(g)}for(var S=0,b=0;b<p.length;b++)S+=p[b].dataCount;if(g.getLengthInBits()>S*8)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+S*8+")");for(g.getLengthInBits()+4<=S*8&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=S*8||(g.put(o.PAD0,8),g.getLengthInBits()>=S*8));)g.put(o.PAD1,8);return o.createBytes(g,p)},o.createBytes=function(c,h){for(var d=0,p=0,g=0,b=new Array(h.length),w=new Array(h.length),S=0;S<h.length;S++){var E=h[S].dataCount,D=h[S].totalCount-E;p=Math.max(p,E),g=Math.max(g,D),b[S]=new Array(E);for(var A=0;A<b[S].length;A++)b[S][A]=255&c.buffer[A+d];d+=E;var C=n.getErrorCorrectPolynomial(D),R=new s(b[S],C.getLength()-1),N=R.mod(C);w[S]=new Array(C.getLength()-1);for(var A=0;A<w[S].length;A++){var L=A+N.getLength()-w[S].length;w[S][A]=L>=0?N.get(L):0}}for(var H=0,A=0;A<h.length;A++)H+=h[A].totalCount;for(var F=new Array(H),U=0,A=0;A<p;A++)for(var S=0;S<h.length;S++)A<b[S].length&&(F[U++]=b[S][A]);for(var A=0;A<g;A++)for(var S=0;S<h.length;S++)A<w[S].length&&(F[U++]=w[S][A]);return F},my=o,my}var Bm={},L_;function ZP(){if(L_)return Bm;L_=1,Object.defineProperty(Bm,"__esModule",{value:!0});var r=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(d[b]=g[b])}return d},e=p5(),t=o(e),n=cp(),s=o(n);function o(d){return d&&d.__esModule?d:{default:d}}function u(d,p){var g={};for(var b in d)p.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b]);return g}var c={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},h=(0,n.forwardRef)(function(d,p){var g=d.bgColor,b=d.bgD,w=d.fgD,S=d.fgColor,E=d.size,D=d.title,A=d.viewBoxSize,C=d.xmlns,R=C===void 0?"http://www.w3.org/2000/svg":C,N=u(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",r({},N,{height:E,ref:p,viewBox:"0 0 "+A+" "+A,width:E,xmlns:R}),D?s.default.createElement("title",null,D):null,s.default.createElement("path",{d:b,fill:g}),s.default.createElement("path",{d:w,fill:S}))});return h.displayName="QRCodeSvg",h.propTypes=c,Bm.default=h,Bm}var O_;function JP(){if(O_)return zc;O_=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.QRCode=void 0;var r=Object.assign||function(E){for(var D=1;D<arguments.length;D++){var A=arguments[D];for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(E[C]=A[C])}return E},e=p5(),t=g(e),n=m5(),s=g(n),o=KP(),u=g(o),c=cp(),h=g(c),d=ZP(),p=g(d);function g(E){return E&&E.__esModule?E:{default:E}}function b(E,D){var A={};for(var C in E)D.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(E,C)&&(A[C]=E[C]);return A}var w={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},S=(0,c.forwardRef)(function(E,D){var A=E.bgColor,C=A===void 0?"#FFFFFF":A,R=E.fgColor,N=R===void 0?"#000000":R,L=E.level,H=L===void 0?"L":L,F=E.size,U=F===void 0?256:F,q=E.value,te=b(E,["bgColor","fgColor","level","size","value"]),V=new u.default(-1,s.default[H]);V.addData(q),V.make();var ee=V.modules;return h.default.createElement(p.default,r({},te,{bgColor:C,bgD:ee.map(function(Y,oe){return Y.map(function(de,W){return de?"":"M "+W+" "+oe+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:N,fgD:ee.map(function(Y,oe){return Y.map(function(de,W){return de?"M "+W+" "+oe+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:D,size:U,viewBoxSize:ee.length}))});return zc.QRCode=S,S.displayName="QRCode",S.propTypes=w,zc.default=S,zc}var eI=JP();const tI=nh(eI);function k_(){const r=tn.useRef(),e=JSON.parse(localStorage.getItem("userData")),t=60,n=e.roles[0].name,[s,o]=B.useState(0),[u,c]=B.useState(!0),[h,d]=B.useState(null),p=rh();return B.useEffect(()=>{e||p("/login")},[]),y.jsxs(y.Fragment,{children:[y.jsx(g0,{}),y.jsxs("div",{className:"flex flex-row  justify-center space-x-10 @container",children:[y.jsxs("div",{className:"flex-col bg-white border-gray-200  rounded-lg pt-5 @max-[800px]:hidden ",children:[y.jsxs(Hm,{setIndex:o,Index:0,currentIndex:s,children:[y.jsx("svg",{height:"24px",width:"24px",fill:"#000000",viewBox:"0 -960 960 960",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"})}),y.jsx("p",{children:"Profile Settings"})]}),y.jsxs(Hm,{setIndex:o,Index:1,currentIndex:s,children:[y.jsx("svg",{height:"24px",width:"24px",fill:"#000000",viewBox:"0 -960 960 960",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z"})}),y.jsx("p",{children:"Password Settings"})]}),n==="ROLE_PATIENT"&&y.jsxs(Hm,{setIndex:o,Index:4,currentIndex:s,children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#000000",children:y.jsx("path",{d:"M600-80v-80h160v-400H200v160h-80v-320q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H600ZM320 0l-56-56 103-104H40v-80h327L264-344l56-56 200 200L320 0ZM200-640h560v-80H200v80Zm0 0v-80 80Z"})}),y.jsx("p",{children:"Reservations"})]}),y.jsxs(Hm,{setIndex:o,Index:5,currentIndex:s,children:[y.jsx("svg",{height:"24px",width:"24px",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",children:y.jsx("path",{d:"M280-240h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80Zm240-140h240v-60H520v60Zm0 120h160v-60H520v60ZM160-80q-33 0-56.5-23.5T80-160v-440q0-33 23.5-56.5T160-680h200v-120q0-33 23.5-56.5T440-880h80q33 0 56.5 23.5T600-800v120h200q33 0 56.5 23.5T880-600v440q0 33-23.5 56.5T800-80H160Zm0-80h640v-440H600q0 33-23.5 56.5T520-520h-80q-33 0-56.5-23.5T360-600H160v440Zm280-440h80v-200h-80v200Zm40 220Z"})}),y.jsx("p",{children:"Medical History"})]})]}),y.jsx("div",{className:`flex-col w-[${t.toString()}vw] bg-white border-gray-200 border-1 rounded-lg p-10 ${n==="ROLE_DOCTOR"&&s===2?"w-[80vw]":""}`,children:s===0?y.jsx(nI,{user:e,fileInputRef:r,screenSize:t}):s===1?y.jsx(oI,{user:e,screenSize:t}):s===4?y.jsx(sI,{user:e}):s===5?y.jsx(iI,{user:e}):y.jsx("div",{className:"text-red-500",children:"Error: Index does not exist"})})]})]})}function Hm({children:r,setIndex:e,Index:t,currentIndex:n}){const s=t===n;return y.jsx("div",{className:"flex flex-row items-center gap-3",children:y.jsx("button",{onClick:()=>{e(t)},className:`inline-flex w-full px-4 py-2 text-gray-800 hover:bg-blue-100 cursor-pointer ${s?"bg-gradient-custom":""}`,children:r})})}function nI({user:r,fileInputRef:e,screenSize:t}){let[n,s]=B.useState(null);const[o,u]=B.useState(null),[c,h]=B.useState(!1),[d,p]=B.useState(r==null?void 0:r.imageUrl),[g,b]=B.useState({username:r.username,email:r.email,fullName:r.fullName,gender:r.gender,dateOfBirth:r.dateOfBirth,address:r.address,cityId:r.city.cityId,age:r.age}),w=D=>{const{name:A,value:C}=D.target;b({...g,[A]:C})},S=()=>{e.current.click()},E=async D=>{const A=D.target.files[0],C=new FormData;C.append("file",A),h(!0),await ft.uploadProfilePicture(C),await ft.GetCurrentUser(),r=JSON.parse(localStorage.getItem("userData")),h(!1),p(r==null?void 0:r.imageUrl)};return y.jsxs("form",{onSubmit:async D=>{D.preventDefault(),u(null);try{const A=await ft.UpdateUser(g);s(A)}catch(A){u(A.message)}finally{await ft.GetCurrentUser(),r=JSON.parse(localStorage.getItem("userData")),b({username:r.username,email:r.email,fullName:r.fullName,gender:r.gender,dateOfBirth:r.dateOfBirth,address:r.address,cityId:r.city.cityId,age:r.age})}},children:[y.jsx("div",{className:"flex-row",children:y.jsxs("div",{className:"flex flex-row",children:[y.jsxs("div",{className:"relative overflow-hidden rounded-full mb-10",children:[c&&y.jsx("div",{className:"absolute rounded-full w-50 h-50 bg-blue-500/30 ",children:y.jsx("img",{src:"src/assets/Spinner@1x-1.0s-200px-200px.svg",alt:"loading",className:" w-[130px] h-[130px] ml-9 mt-8 "})}),y.jsx("img",{src:d??(r.gender==="male"?ta:ea),alt:r.gender==="male"?ta:ea,className:"w-50 h-50 rounded-full object-cover"}),y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",ref:e,style:{display:"none"},onChange:E}),y.jsx("button",{onClick:S,type:"button",className:"absolute rounded-full w-50 h-50 bg-black/20 flex items-center justify-center -bottom-10 hover:bottom-0 opacity-0 hover:opacity-100 transition-all duration-100 ",children:y.jsxs("div",{className:"flex flex-row justify-center space-x-3 text-white",children:[y.jsx(Od,{className:"w-8 h-8"})," ",y.jsx("p",{className:"leading-8",children:"Select image"})]})})]})]}),y.jsxs("div",{className:"flex flex-col space-y-4",children:[y.jsxs("div",{className:"flex flex-col space-y-2",style:{marginLeft:`${t/5}vw`},children:[y.jsx("label",{className:"text-lg ",children:"Username"}),y.jsx("input",{type:"text",id:"username",name:"username",className:" w-[calc(30vw-60px)] border-2 border-gray-200 rounded-lg p-3 opacity-50 cursor-not-allowed",value:g.username,onChange:w,disabled:!0})]}),y.jsxs("div",{className:" flex flex-col space-y-2",style:{marginLeft:`${t/5}vw`},children:[y.jsx("label",{className:"text-lg ",children:"Email "}),y.jsx("input",{type:"text",id:"email",name:"email",className:"w-[calc(30vw-60px)] border-2 border-gray-200 rounded-lg p-3",placeholder:"Email",value:g.email,onChange:w})]})]})]})}),y.jsxs("div",{className:"flex flex-col space-y-4",children:[y.jsxs("div",{className:" flex flex-col space-y-2",children:[y.jsx("label",{className:"text-lg ",children:"Full Name"}),y.jsx("input",{type:"text",id:"fullName",name:"fullName",className:" w-[calc(60vw-80px)] border-2 border-gray-200 rounded-lg p-3",value:g.fullName,onChange:w})]}),y.jsxs("div",{className:"flex flex-row space-x-10",children:[y.jsxs("div",{className:" flex flex-col space-y-2",children:[y.jsx("label",{className:"text-lg ",children:"Gender"}),y.jsxs("select",{className:" w-[calc(30vw-60px)] border-2 border-gray-200 rounded-lg p-3",id:"gender",name:"gender",value:g.gender,onChange:w,children:[y.jsx("option",{value:"male",children:"Male"}),y.jsx("option",{value:"Female",children:"Female"})]})]}),y.jsxs("div",{className:" flex flex-col space-y-2 ",children:[y.jsx("label",{className:"text-lg ",children:"Age "}),y.jsx("input",{className:" w-[calc(30vw-60px)] border-2 border-gray-200 rounded-lg p-3",type:"number",id:"age",name:"age",min:"0",max:"120",value:g.age,onChange:w})]})]}),y.jsxs("div",{className:" flex flex-col space-y-2",children:[y.jsx("label",{htmlFor:"dateOfBirth",children:"Date of Birth"}),y.jsx("input",{className:" w-[calc(60vw-80px)] border-2 border-gray-200 rounded-lg p-3",type:"date",id:"dateOfBirth",name:"dateOfBirth",value:g.dateOfBirth,onChange:w})]}),y.jsxs("div",{className:"flex flex-row space-x-10",children:[y.jsxs("div",{className:" flex flex-col space-y-2",children:[y.jsx("label",{className:"text-lg ",children:"address"}),y.jsx("input",{type:"text",id:"address",name:"address",className:" w-[calc(30vw-60px)] border-2 border-gray-200 rounded-lg p-3",placeholder:"address",value:g.address,onChange:w})]}),y.jsxs("div",{className:" flex flex-col space-y-2",children:[y.jsx("label",{className:"text-lg ",children:"City"}),y.jsx("select",{className:" w-[calc(30vw-60px)] border-2 border-gray-200 rounded-lg p-3",id:"cityId",name:"cityId",value:g.cityId,onChange:w,children:L4.map((D,A)=>y.jsxs("option",{value:A+1,children:[" ",D]},D))})]})]}),y.jsx("button",{type:"submit",className:"bg-blue-50",children:" Save"})]}),n&&y.jsx("p",{className:"text-green-500",children:n.message}),o&&y.jsx("p",{className:"text-red-500",children:o})]})}function iI({user:r}){const[e,t]=B.useState({allergies:r.allergy,chronicDiseases:r.chronicDiseases,drugHistories:r.drugHistory,medicalHistories:r.medicalHistory}),n=(d,p,g)=>{const{name:b,value:w}=d.target;if(g==="allergies"){const S=[...e.allergies];S[p]={...S[p],[b]:w},t({...e,allergies:S})}else if(g==="chronicDiseases"){const S=[...e.chronicDiseases];S[p]={...S[p],[b]:w},t({...e,chronicDiseases:S})}else if(g==="medicalHistories"){const S=[...e.medicalHistories];S[p]={...S[p],[b]:w},t({...e,medicalHistories:S})}else if(g==="drugHistories"){const S=[...e.drugHistories];S[p]={...S[p],[b]:w},t({...e,drugHistories:S})}},s=async d=>{d.preventDefault();try{await ft.AddPatientInfo(e)}finally{await ft.GetCurrentUser()}},o=()=>{const d=[...e.allergies,{allergy:"",severity:"new severity",reaction:"new reaction"}];t({...e,allergies:d})},u=()=>{const d=[...e.chronicDiseases,{name:""}];t({...e,chronicDiseases:d})},c=()=>{const d=[...e.drugHistories,{name:""}];t({...e,drugHistories:d})},h=()=>{const d=[...e.medicalHistories,{date:"",description:"new description"}];t({...e,medicalHistories:d})};return y.jsxs("div",{className:"flex flex-col",children:[y.jsx(rI,{user:r}),y.jsxs("form",{onSubmit:s,children:[y.jsxs("section",{className:"mt-10 mb-10  relative group",children:[y.jsx("button",{type:"button",onClick:c,className:"hidden group-hover:block bg-blue-500 p-2 text-white  rounded-full absolute -bottom-0 -right-4 hover:bg-blue-300 ",children:y.jsx(Od,{size:18})}),y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Active Medications"}),y.jsxs("table",{className:"min-w-full text-sm table-auto border ",children:[y.jsx("thead",{className:"bg-blue-500 text-white",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2",children:"Medication Name"}),y.jsx("th",{className:"px-4 py-2",children:"Dosage"}),y.jsx("th",{className:"px-4 py-2",children:"Route"}),y.jsx("th",{className:"px-4 py-2",children:"Frequency"}),y.jsx("th",{className:"px-4 py-2",children:"duration"}),y.jsx("th",{className:"px-4 py-2",children:"Prescribing Physician"})]})}),y.jsx("tbody",{children:e.drugHistories.map((d,p)=>y.jsxs("tr",{className:p%2===0?"bg-blue-50":"",children:[y.jsx("td",{className:" text-center py-2",children:y.jsx("input",{type:"text",id:`drugName-${p}`,name:"drugName",className:"text-center w-[10vw]",value:d.drugName,onChange:g=>n(g,p,"drugHistories")})},`drugName-${p}`),y.jsx("td",{className:" text-center py-2",children:y.jsx("input",{type:"text",id:`dosage-${p}`,name:"dosage",className:"text-center w-[6vw]",value:d.dosage,onChange:g=>n(g,p,"drugHistories")})},`dosage-${p}`),y.jsx("td",{className:"text-center py-2",children:y.jsx("input",{type:"text",id:`route-${p}`,name:"route",className:"text-center w-[4vw]",value:d.route,onChange:g=>n(g,p,"drugHistories")})},`route-${p}`),y.jsx("td",{className:"text-center py-2",children:y.jsx("input",{type:"text",id:`frequency-${p}`,name:"frequency",className:"w-[6vw] text-center",value:d.frequency,onChange:g=>n(g,p,"drugHistories")})},`frequency-${p}`),y.jsx("td",{className:"text-center py-2",children:y.jsx("input",{type:"text",id:`duration-${p}`,name:"duration",className:"w-[4vw]",value:d.duration,onChange:g=>n(g,p,"drugHistories")})},`duration-${p}`),y.jsx("td",{className:"text-center py-2",children:y.jsx("input",{type:"text",id:`prescribingPhysician-${p}`,name:"prescribingPhysician",className:"text-center w-[10vw]",value:d.prescribingPhysician===null?"N/A":d.prescribingPhysician,onChange:g=>n(g,p,"drugHistories")})},`prescribingPhysician-${p}`)]},p))})]})]}),y.jsxs("section",{className:"mb-10 relative group",children:[y.jsx("button",{type:"button",onClick:o,className:"hidden group-hover:block bg-blue-500 p-2 text-white  rounded-full absolute -bottom-0 -right-4 hover:bg-blue-300 ",children:y.jsx(Od,{size:18})}),y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Allergies"}),y.jsxs("table",{className:"min-w-full text-sm table-auto border ",children:[y.jsx("thead",{className:"bg-blue-500 text-white",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2",children:"Allergen"}),y.jsx("th",{className:"px-4 py-2",children:"Reaction"}),y.jsx("th",{className:"px-4 py-2",children:"Severity"})]})}),y.jsx("tbody",{children:e.allergies.map((d,p)=>y.jsxs("tr",{className:p%2===0?"bg-blue-50":"",children:[y.jsx("td",{className:"border px-4 py-2",children:y.jsx("input",{type:"text",id:`allergy-${p}`,name:"allergy",className:"",value:d.allergy,onChange:g=>n(g,p,"allergies")})},`allergy-${p}`),y.jsx("td",{className:"border px-4 py-2",children:y.jsx("input",{type:"text",id:`reaction-${p}`,name:"reaction",className:" ",value:d.reaction,onChange:g=>n(g,p,"allergies")})},`reaction-${p}`),y.jsx("td",{className:"border px-4 py-2",children:y.jsx("input",{type:"text",id:`severity-${p}`,name:"severity",className:"",value:d.severity,onChange:g=>n(g,p,"allergies")})},`severity-${p}`)]},p))})]})]}),y.jsxs("section",{className:"flex-col flex mb-10 ",children:[y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Chronic disease"}),y.jsxs("div",{className:"flex-row flex space-x-2  flex-wrap gap-6 w-full",children:[e.chronicDiseases.map((d,p)=>y.jsx("input",{type:"text",id:`DiseaseName-${p}`,name:"name",className:"bg-blue-500 text-center rounded-lg h-8 w-35",value:d.name,onChange:g=>n(g,p,"chronicDiseases")},`${d.name}-${p}`)),y.jsx("button",{type:"button",onClick:u,className:"bg-blue-500 text-white p-3 rounded-full",children:y.jsx(Od,{})})]})]}),y.jsxs("section",{className:"mb-10 relative group",children:[y.jsx("button",{type:"button",onClick:h,className:"hidden group-hover:block bg-blue-500 p-2 text-white  rounded-full absolute -bottom-0 -right-4 hover:bg-blue-300 ",children:y.jsx(Od,{size:18})}),y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Medical History"}),y.jsxs("table",{className:"min-w-full text-sm table-auto border ",children:[y.jsx("thead",{className:"bg-blue-500 text-white",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2",children:"Condition"}),y.jsx("th",{className:"px-4 py-2",children:"Diagnosis Year"})]})}),y.jsx("tbody",{children:e.medicalHistories.map((d,p)=>y.jsxs("tr",{className:p%2===0?"bg-blue-50 ":"",children:[y.jsx("td",{className:" w-[40vw] text-center py-2",children:y.jsx("textarea",{type:"text",id:`mhDescription-${p}`,name:"description",className:" w-full ml-5",value:d.description,onChange:g=>n(g,p,"medicalHistories"),rows:3})},`mhDescription-${p}`),y.jsx("td",{className:" text-center py-2",children:y.jsx("input",{type:"date",id:`date-${p}`,name:"date",className:"text-center ",value:d.date,onChange:g=>n(g,p,"medicalHistories")})},`date-${p}`)]},p))})]})]}),y.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-3 rounded-lg mt-5",onClick:()=>{console.log(e)},children:"Save Changes"})]})]})}function sI({user:r}){const[e,t]=B.useState(JSON.parse(localStorage.getItem("DoctorsList"))||[]),[n,s]=B.useState(JSON.parse(localStorage.getItem("PatientReservations"))||[]),[o,u]=B.useState({status:"Canceled",id:""});return B.useEffect(()=>{const c=async()=>{let h=JSON.parse(localStorage.getItem("DoctorsList"));(!h||h.length===0)&&(h=await ft.GetDoctorsList(),t(h)),await ft.PatientReservations();const d=JSON.parse(localStorage.getItem("PatientReservations"))||[];s(d)};(n.length===0||e.length===0)&&c()},[n,e]),y.jsxs("div",{className:"flex flex-col space-y-4",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center bg-blue-100 border-blue-300 border-t border-b",children:[y.jsx("p",{className:"flex-1 text-center md:text-left px-4",children:"Doctor Name"}),y.jsx("p",{className:"flex-1 text-center",children:"Location"}),y.jsx("p",{className:"flex-1 text-center",children:"States"}),y.jsx("p",{className:"flex-1 text-center",children:"Date"}),y.jsx("p",{className:"flex-1 text-center",children:"Time"}),y.jsx("p",{className:"w-[20px]"})]}),n.length>0?n.map((c,h)=>y.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center border-b border-gray-200 pb-2",children:[y.jsxs("div",{className:"flex flex-col flex-1 text-center md:text-left px-4",children:[y.jsx("p",{children:e.find(d=>d.doctorId===c.doctorId).fullName}),y.jsx("p",{children:e.find(d=>d.doctorId===c.doctorId).specialty})]}),y.jsxs("p",{className:"flex-1 text-center",children:[e.find(d=>d.doctorId===c.doctorId).address,", ",e.find(d=>d.doctorId===c.doctorId).city]}),y.jsx("p",{className:"flex-1 text-center",children:c.status}),y.jsx("p",{className:"flex-1 text-center",children:new Date(c.date).toLocaleDateString()}),y.jsx("p",{className:"flex-1 text-center",children:new Date(c.date).toLocaleTimeString()}),c.status!=="Canceled"?y.jsx("button",{type:"button",className:"bg-red-400 text-white p-2 rounded-lg mt-2 md:mt-0  cursor-pointer ",onClick:async()=>{u({...o,id:c.id,date:c.date,doctorId:c.doctorId,queueNumber:c.queueNumber,status:"Canceled"}),await ft.CancelAppointment({...o,id:c.id,date:c.date,doctorId:c.doctorId,queueNumber:c.queueNumber,status:"Canceled"}),await ft.PatientReservations(),await s(JSON.parse(localStorage.getItem("PatientReservations")))},onMouseEnter:d=>{d.currentTarget.textContent="cancel Reservation"},onMouseLeave:d=>{d.currentTarget.textContent="x"},children:"x"}):""]},h)):y.jsxs("div",{className:"py-8 text-center text-gray-500",children:[y.jsx(f5,{className:"mx-auto mb-2 h-8 w-8 text-gray-400"}),y.jsx("p",{children:"No Reservations Found "})]})]})}function rI({user:r}){const[e,t]=B.useState(!1);return y.jsxs("div",{className:"flex flex-row",children:[y.jsxs("div",{className:" w-[550px] h-70 bg-blue-50 flex flex-col rounded-xl",children:[y.jsxs("div",{className:"flex flex-rw bg-red-300 rounded-t-xl",children:[y.jsx("img",{src:"src/assets/MedicalSymbol.png",alt:"Medical",className:"w-16 mx-5  py-2"}),y.jsx("p",{className:"text-3xl justify-center items-center flex",children:"Emergancy Card"})]}),y.jsxs("div",{className:"flex-row flex ml-3 mt-5 items-center  relative",children:[y.jsxs("div",{className:"flex-col flex h-30 absolute mt-5 right-0",children:[y.jsxs("div",{className:"flex-row flex",children:[y.jsx("p",{className:"rotate-270 leading-30 font-WDXL-Lubrifont-TC text-3xl",children:"SCAN"}),y.jsx(tI,{className:"flex mr-6  w-25 h-30 ",bgColor:"#eff6ff",value:"https://www.google.com"})]}),y.jsx("p",{children:"share"})]}),y.jsx("img",{src:r.imageUrl!=null?r.imageUrl:r.gender==="male"?ta:ea,alt:"profile",className:"w-20 h-20 rounded-full object-cover "}),y.jsxs("div",{className:"flex-col ml-5",children:[y.jsxs("p",{children:["ID: ",r.nationalId]}),y.jsxs("p",{children:["phone: ",r.phoneNumber]}),y.jsxs("p",{children:["E.Contact: ",r.phoneNumber]})]})]}),y.jsx("div",{className:"flex-col ml-5 mt-5",children:y.jsxs("p",{children:["Name: ",r.fullName]})})]}),y.jsxs("div",{className:"flex flex-row w-[25vw] justify-center ",children:[y.jsxs("div",{className:"has-tooltip mr-2",children:[y.jsx("span",{className:"tooltip rounded shadow-lg p-2 bg-blue-900 text-white",children:"Turn Medical Profile ON allows people to view your profile publicly "}),"Medical Profile"]}),y.jsxs("div",{children:[y.jsx(aI,{checked:e,onChange:()=>t(!e)}),y.jsx("span",{className:"ml-2",children:e?"On":"Off"})]})]})]})}function aI({checked:r,onChange:e}){return y.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r,onChange:e}),y.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer-checked:bg-blue-500 transition-colors relative ",children:y.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform  ${r?"translate-x-5":"translate-x-0"}`})})]})}function oI({user:r,screenSize:e}){const[t,n]=B.useState(null),[s,o]=B.useState(null),[u,c]=B.useState(!1),[h,d]=B.useState({currentPassword:"",newPassword:"",confirmPassword:""}),p=b=>{const{name:w,value:S}=b.target;d({...h,[w]:S})},g=()=>h.newPassword!==h.confirmPassword?(o("New password and confirmation password don't match"),!1):h.newPassword.length<6?(o("New password must be at least 6 characters long"),!1):h.currentPassword===h.newPassword?(o("New password must be different from current password"),!1):!0;return y.jsxs("form",{onSubmit:async b=>{if(b.preventDefault(),o(null),n(null),!!g())try{c(!0);const w={currentPassword:h.currentPassword,newPassword:h.newPassword},S=await ft.changePasswordSecure(w);n(S),d({currentPassword:"",newPassword:"",confirmPassword:""})}catch(w){o(w.message)}finally{c(!1)}},children:[y.jsx("div",{className:"flex-row",children:y.jsxs("div",{className:"flex flex-row",children:[y.jsx("div",{className:"relative overflow-hidden rounded-full mb-10",children:y.jsx("img",{src:r.imageUrl!=null?r.imageUrl:r.gender==="male"?ta:ea,alt:r.gender==="male"?ta:ea,className:"w-50 h-50 rounded-full object-cover"})}),y.jsxs("div",{className:"flex flex-col space-y-4",children:[y.jsxs("div",{className:"flex flex-col space-y-2",style:{marginLeft:`${e/5}vw`},children:[y.jsx("label",{className:"text-lg",children:"Username"}),y.jsx("input",{type:"text",className:"w-[calc(30vw-60px)] border-2 border-gray-200 rounded-lg p-3 opacity-50 cursor-not-allowed",value:r.username,disabled:!0})]}),y.jsxs("div",{className:"flex flex-col space-y-2",style:{marginLeft:`${e/5}vw`},children:[y.jsx("label",{className:"text-lg",children:"Email"}),y.jsx("input",{type:"text",className:"w-[calc(30vw-60px)] border-2 border-gray-200 rounded-lg p-3 opacity-50 cursor-not-allowed",value:r.email,disabled:!0})]})]})]})}),y.jsxs("div",{className:"flex flex-col space-y-4",children:[y.jsxs("div",{className:"flex flex-col space-y-2",children:[y.jsx("label",{className:"text-lg",children:"Current Password"}),y.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",className:"w-[calc(60vw-80px)] border-2 border-gray-200 rounded-lg p-3",placeholder:"Enter your current password",value:h.currentPassword,onChange:p,required:!0})]}),y.jsxs("div",{className:"flex flex-col space-y-2",children:[y.jsx("label",{className:"text-lg",children:"New Password"}),y.jsx("input",{type:"password",id:"newPassword",name:"newPassword",className:"w-[calc(60vw-80px)] border-2 border-gray-200 rounded-lg p-3",placeholder:"Enter your new password",value:h.newPassword,onChange:p,required:!0,minLength:"6"})]}),y.jsxs("div",{className:"flex flex-col space-y-2",children:[y.jsx("label",{className:"text-lg",children:"Confirm New Password"}),y.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:"w-[calc(60vw-80px)] border-2 border-gray-200 rounded-lg p-3",placeholder:"Confirm your new password",value:h.confirmPassword,onChange:p,required:!0})]}),y.jsx("button",{type:"submit",className:`bg-blue-500 text-white py-3 px-6 rounded-lg hover:bg-blue-600 transition-colors ${u?"opacity-50 cursor-not-allowed":""}`,disabled:u,children:u?"Changing Password...":"Change Password"})]}),t&&y.jsx("p",{className:"text-green-500 mt-4",children:t.message}),s&&y.jsx("p",{className:"text-red-500 mt-4",children:s})]})}function lI(r,e){r.terminate=function(){const t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;const n=new Date,s=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=u=>{const c=new Date().getTime()-n.getTime();e(`Discarded socket (#${s})  closed after ${c}ms, with code/reason: ${u.code}/${u.reason}`)},this.close(),o==null||o.call(r,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const kd={LF:`
`,NULL:"\0"};class Oa{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){const{command:t,headers:n,body:s,binaryBody:o,escapeHeaderValues:u,skipContentLengthHeader:c}=e;this.command=t,this.headers=Object.assign({},n||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=u||!1,this.skipContentLengthHeader=c||!1}static fromRawFrame(e,t){const n={},s=o=>o.replace(/^\s+|\s+$/g,"");for(const o of e.headers.reverse()){o.indexOf(":");const u=s(o[0]);let c=s(o[1]);t&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(c=Oa.hdrValueUnEscape(c)),n[u]=c}return new Oa({command:e.command,headers:n,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?Oa.toUnit8Array(e,this._binaryBody).buffer:e+this._body+kd.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const n=this.headers[t];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${t}:${Oa.hdrValueEscape(`${n}`)}`):e.push(`${t}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(kd.LF)+kd.LF+kd.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,t){const n=new TextEncoder().encode(e),s=new Uint8Array([0]),o=new Uint8Array(n.length+t.length+s.length);return o.set(n),o.set(t,n.length),o.set(s,n.length+t.length),o}static marshall(e){return new Oa(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const j_=0,Um=10,zm=13,cI=58;class uI{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let n;if(typeof e=="string"?n=this._encoder.encode(e):n=new Uint8Array(e),t&&n[n.length-1]!==0){const s=new Uint8Array(n.length+1);s.set(n,0),s[n.length]=0,n=s}for(let s=0;s<n.length;s++){const o=n[s];this._onByte(o)}}_collectFrame(e){if(e!==j_&&e!==zm){if(e===Um){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==zm){if(e===Um){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==zm){if(e===Um){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===cI){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==zm){if(e===Um){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(t=>t[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===j_){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var ka;(function(r){r[r.CONNECTING=0]="CONNECTING",r[r.OPEN=1]="OPEN",r[r.CLOSING=2]="CLOSING",r[r.CLOSED=3]="CLOSED"})(ka||(ka={}));var os;(function(r){r[r.ACTIVE=0]="ACTIVE",r[r.DEACTIVATING=1]="DEACTIVATING",r[r.INACTIVE=2]="INACTIVE"})(os||(os={}));var Fg;(function(r){r[r.LINEAR=0]="LINEAR",r[r.EXPONENTIAL=1]="EXPONENTIAL"})(Fg||(Fg={}));var qd;(function(r){r.Interval="interval",r.Worker="worker"})(qd||(qd={}));class hI{constructor(e,t=qd.Interval,n){this._interval=e,this._strategy=t,this._debug=n,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===qd.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=t=>e(t.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const t=Date.now();this._timer=setInterval(()=>{e(Date.now()-t)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Xn{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Xn.V1_0="1.0";Xn.V1_1="1.1";Xn.V1_2="1.2";Xn.default=new Xn([Xn.V1_2,Xn.V1_1,Xn.V1_0]);class dI{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,n){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===Xn.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const o=s.headers.subscription,u=this._subscriptions[o]||this.onUnhandledMessage,c=s,h=this,d=this._connectedVersion===Xn.V1_2?c.headers.ack:c.headers["message-id"];c.ack=(p={})=>h.ack(d,o,p),c.nack=(p={})=>h.nack(d,o,p),u(c)},RECEIPT:s=>{const o=this._receiptWatchers[s.headers["receipt-id"]];o?(o(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}start(){const e=new uI(t=>{const n=Oa.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=t.data instanceof ArrayBuffer?new TextDecoder().decode(t.data):t.data;this.debug(`<<< ${n}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{const t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==Xn.V1_1&&e.version!==Xn.V1_2||!e["heart-beat"])return;const[t,n]=e["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&n!==0){const s=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${s}ms`),this._pinger=new hI(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===ka.OPEN&&(this._webSocket.send(kd.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&t!==0){const s=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>s*2&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===ka.CONNECTING||this._webSocket.readyState===ka.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&lI(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:t,headers:n,body:s,binaryBody:o,skipContentLengthHeader:u}=e,c=new Oa({command:t,headers:n,body:s,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:u});let h=c.serialize();if(this.logRawCommunication?this.debug(`>>> ${h}`):this.debug(`>>> ${c}`),this.forceBinaryWSFrames&&typeof h=="string"&&(h=new TextEncoder().encode(h)),typeof h!="string"||!this.splitLargeFrames)this._webSocket.send(h);else{let d=h;for(;d.length>0;){const p=d.substring(0,this.maxWebSocketChunkSize);d=d.substring(this.maxWebSocketChunkSize),this._webSocket.send(p),this.debug(`chunk sent = ${p.length}, remaining = ${d.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===ka.CONNECTING||this._webSocket.readyState===ka.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:n,body:s,binaryBody:o,skipContentLengthHeader:u}=e,c=Object.assign({destination:t},n);this._transmit({command:"SEND",headers:c,body:s,binaryBody:o,skipContentLengthHeader:u})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=e,this._subscriptions[n.id]=t,this._transmit({command:"SUBSCRIBE",headers:n});const s=this;return{id:n.id,unsubscribe(o){return s.unsubscribe(n.id,o)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});const n=this;return{id:t,commit(){n.commit(t)},abort(){n.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,n={}){n=Object.assign({},n),this._connectedVersion===Xn.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"ACK",headers:n})}nack(e,t,n={}){return n=Object.assign({},n),this._connectedVersion===Xn.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"NACK",headers:n})}}class fI{get webSocket(){var e;return(e=this._stompHandler)==null?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===os.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=Xn.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Fg.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=qd.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=os.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(os.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===os.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new dI(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===os.DEACTIVATING&&this._changeState(os.INACTIVE),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Fg.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){var o;const t=e.force||!1,n=this.active;let s;if(this.state===os.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(os.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==ka.CLOSED){const u=this._stompHandler.onWebSocketClose;s=new Promise((c,h)=>{this._stompHandler.onWebSocketClose=d=>{u(d),c()}})}else return this._changeState(os.INACTIVE),Promise.resolve();return t?(o=this._stompHandler)==null||o.discardWebsocket():n&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,n={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,n)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,n={}){this._checkConnection(),this._stompHandler.ack(e,t,n)}nack(e,t,n={}){this._checkConnection(),this._stompHandler.nack(e,t,n)}}var gy={exports:{}},qm={},P_;function pI(){return P_||(P_=1,globalThis.crypto&&globalThis.crypto.getRandomValues?qm.randomBytes=function(r){var e=new Uint8Array(r);return globalThis.crypto.getRandomValues(e),e}:qm.randomBytes=function(r){for(var e=new Array(r),t=0;t<r;t++)e[t]=Math.floor(Math.random()*256);return e}),qm}var vy,I_;function oh(){if(I_)return vy;I_=1;var r=pI(),e="abcdefghijklmnopqrstuvwxyz012345";return vy={string:function(t){for(var n=e.length,s=r.randomBytes(t),o=[],u=0;u<t;u++)o.push(e.substr(s[u]%n,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var n=(""+(t-1)).length,s=new Array(n+1).join("0");return(s+this.number(t)).slice(-n)}},vy}var F_;function go(){return F_||(F_=1,function(r){var e=oh(),t={},n=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;r.exports={attachEvent:function(u,c){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(u,c,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+u,c),globalThis.attachEvent("on"+u,c))},detachEvent:function(u,c){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(u,c,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+u,c),globalThis.detachEvent("on"+u,c))},unloadAdd:function(u){if(s)return null;var c=e.string(8);return t[c]=u,n&&setTimeout(this.triggerUnloadCallbacks,0),c},unloadDel:function(u){u in t&&delete t[u]},triggerUnloadCallbacks:function(){for(var u in t)t[u](),delete t[u]}};var o=function(){n||(n=!0,r.exports.triggerUnloadCallbacks())};s||r.exports.attachEvent("unload",o)}(gy)),gy.exports}var yy,B_;function mI(){return B_||(B_=1,yy=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}),yy}var Gm={},H_;function gI(){if(H_)return Gm;H_=1;var r=Object.prototype.hasOwnProperty,e;function t(u){try{return decodeURIComponent(u.replace(/\+/g," "))}catch{return null}}function n(u){try{return encodeURIComponent(u)}catch{return null}}function s(u){for(var c=/([^=?#&]+)=?([^&]*)/g,h={},d;d=c.exec(u);){var p=t(d[1]),g=t(d[2]);p===null||g===null||p in h||(h[p]=g)}return h}function o(u,c){c=c||"";var h=[],d,p;typeof c!="string"&&(c="?");for(p in u)if(r.call(u,p)){if(d=u[p],!d&&(d===null||d===e||isNaN(d))&&(d=""),p=n(p),d=n(d),p===null||d===null)continue;h.push(p+"="+d)}return h.length?c+h.join("&"):""}return Gm.stringify=o,Gm.parse=s,Gm}var by,U_;function b5(){if(U_)return by;U_=1;var r=mI(),e=gI(),t=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,n=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function h(C){return(C||"").toString().replace(t,"")}var d=[["#","hash"],["?","query"],function(R,N){return b(N.protocol)?R.replace(/\\/g,"/"):R},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function g(C){var R;typeof window<"u"?R=window:typeof globalThis<"u"?R=globalThis:typeof self<"u"?R=self:R={};var N=R.location||{};C=C||N;var L={},H=typeof C,F;if(C.protocol==="blob:")L=new E(unescape(C.pathname),{});else if(H==="string"){L=new E(C,{});for(F in p)delete L[F]}else if(H==="object"){for(F in C)F in p||(L[F]=C[F]);L.slashes===void 0&&(L.slashes=s.test(C.href))}return L}function b(C){return C==="file:"||C==="ftp:"||C==="http:"||C==="https:"||C==="ws:"||C==="wss:"}function w(C,R){C=h(C),C=C.replace(n,""),R=R||{};var N=u.exec(C),L=N[1]?N[1].toLowerCase():"",H=!!N[2],F=!!N[3],U=0,q;return H?F?(q=N[2]+N[3]+N[4],U=N[2].length+N[3].length):(q=N[2]+N[4],U=N[2].length):F?(q=N[3]+N[4],U=N[3].length):q=N[4],L==="file:"?U>=2&&(q=q.slice(2)):b(L)?q=N[4]:L?H&&(q=q.slice(2)):U>=2&&b(R.protocol)&&(q=N[4]),{protocol:L,slashes:H||b(L),slashesCount:U,rest:q}}function S(C,R){if(C==="")return R;for(var N=(R||"/").split("/").slice(0,-1).concat(C.split("/")),L=N.length,H=N[L-1],F=!1,U=0;L--;)N[L]==="."?N.splice(L,1):N[L]===".."?(N.splice(L,1),U++):U&&(L===0&&(F=!0),N.splice(L,1),U--);return F&&N.unshift(""),(H==="."||H==="..")&&N.push(""),N.join("/")}function E(C,R,N){if(C=h(C),C=C.replace(n,""),!(this instanceof E))return new E(C,R,N);var L,H,F,U,q,te,V=d.slice(),ee=typeof R,Y=this,oe=0;for(ee!=="object"&&ee!=="string"&&(N=R,R=null),N&&typeof N!="function"&&(N=e.parse),R=g(R),H=w(C||"",R),L=!H.protocol&&!H.slashes,Y.slashes=H.slashes||L&&R.slashes,Y.protocol=H.protocol||R.protocol||"",C=H.rest,(H.protocol==="file:"&&(H.slashesCount!==2||c.test(C))||!H.slashes&&(H.protocol||H.slashesCount<2||!b(Y.protocol)))&&(V[3]=[/(.*)/,"pathname"]);oe<V.length;oe++){if(U=V[oe],typeof U=="function"){C=U(C,Y);continue}F=U[0],te=U[1],F!==F?Y[te]=C:typeof F=="string"?(q=F==="@"?C.lastIndexOf(F):C.indexOf(F),~q&&(typeof U[2]=="number"?(Y[te]=C.slice(0,q),C=C.slice(q+U[2])):(Y[te]=C.slice(q),C=C.slice(0,q)))):(q=F.exec(C))&&(Y[te]=q[1],C=C.slice(0,q.index)),Y[te]=Y[te]||L&&U[3]&&R[te]||"",U[4]&&(Y[te]=Y[te].toLowerCase())}N&&(Y.query=N(Y.query)),L&&R.slashes&&Y.pathname.charAt(0)!=="/"&&(Y.pathname!==""||R.pathname!=="")&&(Y.pathname=S(Y.pathname,R.pathname)),Y.pathname.charAt(0)!=="/"&&b(Y.protocol)&&(Y.pathname="/"+Y.pathname),r(Y.port,Y.protocol)||(Y.host=Y.hostname,Y.port=""),Y.username=Y.password="",Y.auth&&(q=Y.auth.indexOf(":"),~q?(Y.username=Y.auth.slice(0,q),Y.username=encodeURIComponent(decodeURIComponent(Y.username)),Y.password=Y.auth.slice(q+1),Y.password=encodeURIComponent(decodeURIComponent(Y.password))):Y.username=encodeURIComponent(decodeURIComponent(Y.auth)),Y.auth=Y.password?Y.username+":"+Y.password:Y.username),Y.origin=Y.protocol!=="file:"&&b(Y.protocol)&&Y.host?Y.protocol+"//"+Y.host:"null",Y.href=Y.toString()}function D(C,R,N){var L=this;switch(C){case"query":typeof R=="string"&&R.length&&(R=(N||e.parse)(R)),L[C]=R;break;case"port":L[C]=R,r(R,L.protocol)?R&&(L.host=L.hostname+":"+R):(L.host=L.hostname,L[C]="");break;case"hostname":L[C]=R,L.port&&(R+=":"+L.port),L.host=R;break;case"host":L[C]=R,o.test(R)?(R=R.split(":"),L.port=R.pop(),L.hostname=R.join(":")):(L.hostname=R,L.port="");break;case"protocol":L.protocol=R.toLowerCase(),L.slashes=!N;break;case"pathname":case"hash":if(R){var H=C==="pathname"?"/":"#";L[C]=R.charAt(0)!==H?H+R:R}else L[C]=R;break;case"username":case"password":L[C]=encodeURIComponent(R);break;case"auth":var F=R.indexOf(":");~F?(L.username=R.slice(0,F),L.username=encodeURIComponent(decodeURIComponent(L.username)),L.password=R.slice(F+1),L.password=encodeURIComponent(decodeURIComponent(L.password))):L.username=encodeURIComponent(decodeURIComponent(R))}for(var U=0;U<d.length;U++){var q=d[U];q[4]&&(L[q[1]]=L[q[1]].toLowerCase())}return L.auth=L.password?L.username+":"+L.password:L.username,L.origin=L.protocol!=="file:"&&b(L.protocol)&&L.host?L.protocol+"//"+L.host:"null",L.href=L.toString(),L}function A(C){(!C||typeof C!="function")&&(C=e.stringify);var R,N=this,L=N.host,H=N.protocol;H&&H.charAt(H.length-1)!==":"&&(H+=":");var F=H+(N.protocol&&N.slashes||b(N.protocol)?"//":"");return N.username?(F+=N.username,N.password&&(F+=":"+N.password),F+="@"):N.password?(F+=":"+N.password,F+="@"):N.protocol!=="file:"&&b(N.protocol)&&!L&&N.pathname!=="/"&&(F+="@"),(L[L.length-1]===":"||o.test(N.hostname)&&!N.port)&&(L+=":"),F+=L+N.pathname,R=typeof N.query=="object"?C(N.query):N.query,R&&(F+=R.charAt(0)!=="?"?"?"+R:R),N.hash&&(F+=N.hash),F}return E.prototype={set:D,toString:A},E.extractProtocol=w,E.location=g,E.trimLeft=h,E.qs=e,by=E,by}var xy,z_;function ns(){if(z_)return xy;z_=1;var r=b5();return xy={getOrigin:function(e){if(!e)return null;var t=new r(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},xy}var Vm={exports:{}},q_;function tt(){return q_||(q_=1,typeof Object.create=="function"?Vm.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Vm.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Vm.exports}var wy={},Sy,G_;function x5(){if(G_)return Sy;G_=1;function r(){this._listeners={}}return r.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n},r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var s=n.indexOf(t);if(s!==-1){n.length>1?this._listeners[e]=n.slice(0,s).concat(n.slice(s+1)):delete this._listeners[e];return}}},r.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var s=this._listeners[t],o=0;o<s.length;o++)s[o].apply(this,n)},Sy=r,Sy}var V_;function Zn(){if(V_)return wy;V_=1;var r=tt(),e=x5();function t(){e.call(this)}return r(t,e),t.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}},t.prototype.once=function(n,s){var o=this,u=!1;function c(){o.removeListener(n,c),u||(u=!0,s.apply(this,arguments))}this.on(n,c)},t.prototype.emit=function(){var n=arguments[0],s=this._listeners[n];if(s){for(var o=arguments.length,u=new Array(o-1),c=1;c<o;c++)u[c-1]=arguments[c];for(var h=0;h<s.length;h++)s[h].apply(this,u)}},t.prototype.on=t.prototype.addListener=e.prototype.addEventListener,t.prototype.removeListener=e.prototype.removeEventListener,wy.EventEmitter=t,wy}var $m={exports:{}},$_;function vI(){if($_)return $m.exports;$_=1;var r=globalThis.WebSocket||globalThis.MozWebSocket;return r?$m.exports=function(t){return new r(t)}:$m.exports=void 0,$m.exports}var Ey,Y_;function yI(){if(Y_)return Ey;Y_=1;var r=go(),e=ns(),t=tt(),n=Zn().EventEmitter,s=vI(),o=function(){};function u(c,h,d){if(!u.enabled())throw new Error("Transport created when disabled");n.call(this);var p=this,g=e.addPath(c,"/websocket");g.slice(0,5)==="https"?g="wss"+g.slice(5):g="ws"+g.slice(4),this.url=g,this.ws=new s(this.url,[],d),this.ws.onmessage=function(b){o("message event",b.data),p.emit("message",b.data)},this.unloadRef=r.unloadAdd(function(){p.ws.close()}),this.ws.onclose=function(b){o("close event",b.code,b.reason),p.emit("close",b.code,b.reason),p._cleanup()},this.ws.onerror=function(b){p.emit("close",1006,"WebSocket connection broken"),p._cleanup()}}return t(u,n),u.prototype.send=function(c){var h="["+c+"]";this.ws.send(h)},u.prototype.close=function(){var c=this.ws;this._cleanup(),c&&c.close()},u.prototype._cleanup=function(){var c=this.ws;c&&(c.onmessage=c.onclose=c.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},u.enabled=function(){return!!s},u.transportName="websocket",u.roundTrips=2,Ey=u,Ey}var Ay,X_;function bI(){if(X_)return Ay;X_=1;var r=tt(),e=Zn().EventEmitter,t=function(){};function n(s,o){e.call(this),this.sendBuffer=[],this.sender=o,this.url=s}return r(n,e),n.prototype.send=function(s){this.sendBuffer.push(s),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){var s=this,o;this.sendStop=function(){s.sendStop=null,clearTimeout(o)},o=setTimeout(function(){s.sendStop=null,s.sendSchedule()},25)},n.prototype.sendSchedule=function(){t("sendSchedule",this.sendBuffer.length);var s=this;if(this.sendBuffer.length>0){var o="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,o,function(u){s.sendStop=null,u?(s.emit("close",u.code||1006,"Sending error: "+u),s.close()):s.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Ay=n,Ay}var Ty,W_;function xI(){if(W_)return Ty;W_=1;var r=tt(),e=Zn().EventEmitter,t=function(){};function n(s,o,u){e.call(this),this.Receiver=s,this.receiveUrl=o,this.AjaxObject=u,this._scheduleReceiver()}return r(n,e),n.prototype._scheduleReceiver=function(){var s=this,o=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);o.on("message",function(u){s.emit("message",u)}),o.once("close",function(u,c){t("close",u,c,s.pollIsClosing),s.poll=o=null,s.pollIsClosing||(c==="network"?s._scheduleReceiver():(s.emit("close",u||1006,c),s.removeAllListeners()))})},n.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Ty=n,Ty}var _y,Q_;function w5(){if(Q_)return _y;Q_=1;var r=tt(),e=ns(),t=bI(),n=xI();function s(o,u,c,h,d){var p=e.addPath(o,u),g=this;t.call(this,o,c),this.poll=new n(h,p,d),this.poll.on("message",function(b){g.emit("message",b)}),this.poll.once("close",function(b,w){g.poll=null,g.emit("close",b,w),g.close()})}return r(s,t),s.prototype.close=function(){t.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},_y=s,_y}var Cy,K_;function lh(){if(K_)return Cy;K_=1;var r=tt(),e=ns(),t=w5();function n(o){return function(u,c,h){var d={};typeof c=="string"&&(d.headers={"Content-type":"text/plain"});var p=e.addPath(u,"/xhr_send"),g=new o("POST",p,c,d);return g.once("finish",function(b){if(g=null,b!==200&&b!==204)return h(new Error("http status "+b));h()}),function(){g.close(),g=null;var b=new Error("Aborted");b.code=1e3,h(b)}}}function s(o,u,c,h){t.call(this,o,u,n(h),c,h)}return r(s,t),Cy=s,Cy}var Ny,Z_;function y0(){if(Z_)return Ny;Z_=1;var r=tt(),e=Zn().EventEmitter;function t(n,s){e.call(this);var o=this;this.bufferPosition=0,this.xo=new s("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(u,c){o._chunkHandler(u,c),o.xo=null;var h=u===200?"network":"permanent";o.emit("close",null,h),o._cleanup()})}return r(t,e),t.prototype._chunkHandler=function(n,s){if(!(n!==200||!s))for(var o=-1;;this.bufferPosition+=o+1){var u=s.slice(this.bufferPosition);if(o=u.indexOf(`
`),o===-1)break;var c=u.slice(0,o);c&&this.emit("message",c)}},t.prototype._cleanup=function(){this.removeAllListeners()},t.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Ny=t,Ny}var Ry,J_;function S5(){if(J_)return Ry;J_=1;var r=Zn().EventEmitter,e=tt(),t=go(),n=ns(),s=globalThis.XMLHttpRequest,o=function(){};function u(d,p,g,b){var w=this;r.call(this),setTimeout(function(){w._start(d,p,g,b)},0)}e(u,r),u.prototype._start=function(d,p,g,b){var w=this;try{this.xhr=new s}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}p=n.addQuery(p,"t="+ +new Date),this.unloadRef=t.unloadAdd(function(){w._cleanup(!0)});try{this.xhr.open(d,p,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o("xhr timeout"),w.emit("finish",0,""),w._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!b||!b.noCredentials)&&u.supportsCORS&&(this.xhr.withCredentials=!0),b&&b.headers)for(var S in b.headers)this.xhr.setRequestHeader(S,b.headers[S]);this.xhr.onreadystatechange=function(){if(w.xhr){var E=w.xhr,D,A;switch(o("readyState",E.readyState),E.readyState){case 3:try{A=E.status,D=E.responseText}catch{}A===1223&&(A=204),A===200&&D&&D.length>0&&w.emit("chunk",A,D);break;case 4:A=E.status,A===1223&&(A=204),(A===12005||A===12029)&&(A=0),o("finish",A,E.responseText),w.emit("finish",A,E.responseText),w._cleanup(!1);break}}};try{w.xhr.send(g)}catch{w.emit("finish",0,""),w._cleanup(!1)}},u.prototype._cleanup=function(d){if(this.xhr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),d)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},u.prototype.close=function(){this._cleanup(!0)},u.enabled=!!s;var c=["Active"].concat("Object").join("X");!u.enabled&&c in globalThis&&(s=function(){try{return new globalThis[c]("Microsoft.XMLHTTP")}catch{return null}},u.enabled=!!new s);var h=!1;try{h="withCredentials"in new s}catch{}return u.supportsCORS=h,Ry=u,Ry}var My,e3;function b0(){if(e3)return My;e3=1;var r=tt(),e=S5();function t(n,s,o,u){e.call(this,n,s,o,u)}return r(t,e),t.enabled=e.enabled&&e.supportsCORS,My=t,My}var Dy,t3;function pp(){if(t3)return Dy;t3=1;var r=tt(),e=S5();function t(n,s,o){e.call(this,n,s,o,{noCredentials:!0})}return r(t,e),t.enabled=e.enabled,Dy=t,Dy}var Ly,n3;function mp(){return n3||(n3=1,Ly={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}}),Ly}var Oy,i3;function wI(){if(i3)return Oy;i3=1;var r=tt(),e=lh(),t=y0(),n=b0(),s=pp(),o=mp();function u(c){if(!s.enabled&&!n.enabled)throw new Error("Transport created when disabled");e.call(this,c,"/xhr_streaming",t,n)}return r(u,e),u.enabled=function(c){return c.nullOrigin||o.isOpera()?!1:n.enabled},u.transportName="xhr-streaming",u.roundTrips=2,u.needBody=!!globalThis.document,Oy=u,Oy}var ky,s3;function pw(){if(s3)return ky;s3=1;var r=Zn().EventEmitter,e=tt(),t=go(),n=mp(),s=ns(),o=function(){};function u(c,h,d){var p=this;r.call(this),setTimeout(function(){p._start(c,h,d)},0)}return e(u,r),u.prototype._start=function(c,h,d){var p=this,g=new globalThis.XDomainRequest;h=s.addQuery(h,"t="+ +new Date),g.onerror=function(){p._error()},g.ontimeout=function(){p._error()},g.onprogress=function(){o("progress",g.responseText),p.emit("chunk",200,g.responseText)},g.onload=function(){p.emit("finish",200,g.responseText),p._cleanup(!1)},this.xdr=g,this.unloadRef=t.unloadAdd(function(){p._cleanup(!0)});try{this.xdr.open(c,h),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(d)}catch{this._error()}},u.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},u.prototype._cleanup=function(c){if(this.xdr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,c)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},u.prototype.close=function(){this._cleanup(!0)},u.enabled=!!(globalThis.XDomainRequest&&n.hasDomain()),ky=u,ky}var jy,r3;function E5(){if(r3)return jy;r3=1;var r=tt(),e=lh(),t=y0(),n=pw();function s(o){if(!n.enabled)throw new Error("Transport created when disabled");e.call(this,o,"/xhr_streaming",t,n)}return r(s,e),s.enabled=function(o){return o.cookie_needed||o.nullOrigin?!1:n.enabled&&o.sameScheme},s.transportName="xdr-streaming",s.roundTrips=2,jy=s,jy}var Py,a3;function A5(){return a3||(a3=1,Py=globalThis.EventSource),Py}var Iy,o3;function SI(){if(o3)return Iy;o3=1;var r=tt(),e=Zn().EventEmitter,t=A5(),n=function(){};function s(o){e.call(this);var u=this,c=this.es=new t(o);c.onmessage=function(h){n("message",h.data),u.emit("message",decodeURI(h.data))},c.onerror=function(h){n("error",c.readyState);var d=c.readyState!==2?"network":"permanent";u._cleanup(),u._close(d)}}return r(s,e),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){var o=this.es;o&&(o.onmessage=o.onerror=null,o.close(),this.es=null)},s.prototype._close=function(o){var u=this;setTimeout(function(){u.emit("close",null,o),u.removeAllListeners()},200)},Iy=s,Iy}var Fy,l3;function c3(){if(l3)return Fy;l3=1;var r=tt(),e=lh(),t=SI(),n=b0(),s=A5();function o(u){if(!o.enabled())throw new Error("Transport created when disabled");e.call(this,u,"/eventsource",t,n)}return r(o,e),o.enabled=function(){return!!s},o.transportName="eventsource",o.roundTrips=2,Fy=o,Fy}var By,u3;function T5(){return u3||(u3=1,By="1.6.1"),By}var Hy={exports:{}},h3;function gp(){return h3||(h3=1,function(r){var e=go(),t=mp();r.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){r.exports.WPrefix in globalThis||(globalThis[r.exports.WPrefix]={})},postMessage:function(n,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:r.exports.currentWindowId,type:n,data:s||""}),"*")},createIframe:function(n,s){var o=globalThis.document.createElement("iframe"),u,c,h=function(){clearTimeout(u);try{o.onload=null}catch{}o.onerror=null},d=function(){o&&(h(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),e.unloadDel(c))},p=function(b){o&&(d(),s(b))},g=function(b,w){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(b,w)}catch{}},0)};return o.src=n,o.style.display="none",o.style.position="absolute",o.onerror=function(){p("onerror")},o.onload=function(){clearTimeout(u),u=setTimeout(function(){p("onload timeout")},2e3)},globalThis.document.body.appendChild(o),u=setTimeout(function(){p("timeout")},15e3),c=e.unloadAdd(d),{post:g,cleanup:d,loaded:h}},createHtmlfile:function(n,s){var o=["Active"].concat("Object").join("X"),u=new globalThis[o]("htmlfile"),c,h,d,p=function(){clearTimeout(c),d.onerror=null},g=function(){u&&(p(),e.unloadDel(h),d.parentNode.removeChild(d),d=u=null,CollectGarbage())},b=function(E){u&&(g(),s(E))},w=function(E,D){try{setTimeout(function(){d&&d.contentWindow&&d.contentWindow.postMessage(E,D)},0)}catch{}};u.open(),u.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),u.close(),u.parentWindow[r.exports.WPrefix]=globalThis[r.exports.WPrefix];var S=u.createElement("div");return u.body.appendChild(S),d=u.createElement("iframe"),S.appendChild(d),d.src=n,d.onerror=function(){b("onerror")},c=setTimeout(function(){b("timeout")},15e3),h=e.unloadAdd(g),{post:w,cleanup:g,loaded:p}}},r.exports.iframeEnabled=!1,globalThis.document&&(r.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!t.isKonqueror())}(Hy)),Hy.exports}var Uy,d3;function _5(){if(d3)return Uy;d3=1;var r=tt(),e=Zn().EventEmitter,t=T5(),n=ns(),s=gp(),o=go(),u=oh(),c=function(){};function h(d,p,g){if(!h.enabled())throw new Error("Transport created when disabled");e.call(this);var b=this;this.origin=n.getOrigin(g),this.baseUrl=g,this.transUrl=p,this.transport=d,this.windowId=u.string(8);var w=n.addPath(g,"/iframe.html")+"#"+this.windowId;this.iframeObj=s.createIframe(w,function(S){b.emit("close",1006,"Unable to load an iframe ("+S+")"),b.close()}),this.onmessageCallback=this._message.bind(this),o.attachEvent("message",this.onmessageCallback)}return r(h,e),h.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){o.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},h.prototype._message=function(d){if(c("message",d.data),!n.isOriginEqual(d.origin,this.origin)){c("not same origin",d.origin,this.origin);return}var p;try{p=JSON.parse(d.data)}catch{c("bad json",d.data);return}if(p.windowId!==this.windowId){c("mismatched window id",p.windowId,this.windowId);return}switch(p.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([t,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",p.data);break;case"c":var g;try{g=JSON.parse(p.data)}catch{c("bad json",p.data);return}this.emit("close",g[0],g[1]),this.close();break}},h.prototype.postMessage=function(d,p){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:d,data:p||""}),this.origin)},h.prototype.send=function(d){this.postMessage("m",d)},h.enabled=function(){return s.iframeEnabled},h.transportName="iframe",h.roundTrips=2,Uy=h,Uy}var zy,f3;function mw(){return f3||(f3=1,zy={isObject:function(r){var e=typeof r;return e==="function"||e==="object"&&!!r},extend:function(r){if(!this.isObject(r))return r;for(var e,t,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r}}),zy}var qy,p3;function Gy(){if(p3)return qy;p3=1;var r=tt(),e=_5(),t=mw();return qy=function(n){function s(o,u){e.call(this,n.transportName,o,u)}return r(s,e),s.enabled=function(o,u){if(!globalThis.document)return!1;var c=t.extend({},u);return c.sameOrigin=!0,n.enabled(c)&&e.enabled()},s.transportName="iframe-"+n.transportName,s.needBody=!0,s.roundTrips=e.roundTrips+n.roundTrips-1,s.facadeTransport=n,s},qy}var Vy,m3;function EI(){if(m3)return Vy;m3=1;var r=tt(),e=gp(),t=ns(),n=Zn().EventEmitter,s=oh(),o=function(){};function u(h){n.call(this);var d=this;e.polluteGlobalNamespace(),this.id="a"+s.string(6),h=t.addQuery(h,"c="+decodeURIComponent(e.WPrefix+"."+this.id)),o("using htmlfile",u.htmlfileEnabled);var p=u.htmlfileEnabled?e.createHtmlfile:e.createIframe;globalThis[e.WPrefix][this.id]={start:function(){d.iframeObj.loaded()},message:function(g){d.emit("message",g)},stop:function(){d._cleanup(),d._close("network")}},this.iframeObj=p(h,function(){d._cleanup(),d._close("permanent")})}r(u,n),u.prototype.abort=function(){this._cleanup(),this._close("user")},u.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[e.WPrefix][this.id]},u.prototype._close=function(h){this.emit("close",null,h),this.removeAllListeners()},u.htmlfileEnabled=!1;var c=["Active"].concat("Object").join("X");if(c in globalThis)try{u.htmlfileEnabled=!!new globalThis[c]("htmlfile")}catch{}return u.enabled=u.htmlfileEnabled||e.iframeEnabled,Vy=u,Vy}var $y,g3;function v3(){if(g3)return $y;g3=1;var r=tt(),e=EI(),t=pp(),n=lh();function s(o){if(!e.enabled)throw new Error("Transport created when disabled");n.call(this,o,"/htmlfile",e,t)}return r(s,n),s.enabled=function(o){return e.enabled&&o.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,$y=s,$y}var Yy,y3;function b3(){if(y3)return Yy;y3=1;var r=tt(),e=lh(),t=y0(),n=b0(),s=pp();function o(u){if(!s.enabled&&!n.enabled)throw new Error("Transport created when disabled");e.call(this,u,"/xhr",t,n)}return r(o,e),o.enabled=function(u){return u.nullOrigin?!1:s.enabled&&u.sameOrigin?!0:n.enabled},o.transportName="xhr-polling",o.roundTrips=2,Yy=o,Yy}var Xy,x3;function AI(){if(x3)return Xy;x3=1;var r=tt(),e=lh(),t=E5(),n=y0(),s=pw();function o(u){if(!s.enabled)throw new Error("Transport created when disabled");e.call(this,u,"/xhr",n,s)}return r(o,e),o.enabled=t.enabled,o.transportName="xdr-polling",o.roundTrips=2,Xy=o,Xy}var Wy,w3;function TI(){if(w3)return Wy;w3=1;var r=gp(),e=oh(),t=mp(),n=ns(),s=tt(),o=Zn().EventEmitter,u=function(){};function c(h){var d=this;o.call(this),r.polluteGlobalNamespace(),this.id="a"+e.string(6);var p=n.addQuery(h,"c="+encodeURIComponent(r.WPrefix+"."+this.id));globalThis[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(p),this.timeoutId=setTimeout(function(){d._abort(new Error("JSONP script loaded abnormally (timeout)"))},c.timeout)}return s(c,o),c.prototype.abort=function(){if(globalThis[r.WPrefix][this.id]){var h=new Error("JSONP user aborted read");h.code=1e3,this._abort(h)}},c.timeout=35e3,c.scriptErrorTimeout=1e3,c.prototype._callback=function(h){this._cleanup(),!this.aborting&&(h&&this.emit("message",h),this.emit("close",null,"network"),this.removeAllListeners())},c.prototype._abort=function(h){this._cleanup(),this.aborting=!0,this.emit("close",h.code,h.message),this.removeAllListeners()},c.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var h=this.script;h.parentNode.removeChild(h),h.onreadystatechange=h.onerror=h.onload=h.onclick=null,this.script=null}delete globalThis[r.WPrefix][this.id]},c.prototype._scriptError=function(){var h=this;this.errorTimer||(this.errorTimer=setTimeout(function(){h.loadedOkay||h._abort(new Error("JSONP script loaded abnormally (onerror)"))},c.scriptErrorTimeout))},c.prototype._createScript=function(h){var d=this,p=this.script=globalThis.document.createElement("script"),g;if(p.id="a"+e.string(8),p.src=h,p.type="text/javascript",p.charset="UTF-8",p.onerror=this._scriptError.bind(this),p.onload=function(){d._abort(new Error("JSONP script loaded abnormally (onload)"))},p.onreadystatechange=function(){if(u("onreadystatechange",p.readyState),/loaded|closed/.test(p.readyState)){if(p&&p.htmlFor&&p.onclick){d.loadedOkay=!0;try{p.onclick()}catch{}}p&&d._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof p.async>"u"&&globalThis.document.attachEvent)if(t.isOpera())g=this.script2=globalThis.document.createElement("script"),g.text="try{var a = document.getElementById('"+p.id+"'); if(a)a.onerror();}catch(x){};",p.async=g.async=!1;else{try{p.htmlFor=p.id,p.event="onclick"}catch{}p.async=!0}typeof p.async<"u"&&(p.async=!0);var b=globalThis.document.getElementsByTagName("head")[0];b.insertBefore(p,b.firstChild),g&&b.insertBefore(g,b.firstChild)},Wy=c,Wy}var Qy,S3;function _I(){if(S3)return Qy;S3=1;var r=oh(),e=ns(),t=function(){},n,s;function o(c){try{return globalThis.document.createElement('<iframe name="'+c+'">')}catch{var h=globalThis.document.createElement("iframe");return h.name=c,h}}function u(){n=globalThis.document.createElement("form"),n.style.display="none",n.style.position="absolute",n.method="POST",n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",s=globalThis.document.createElement("textarea"),s.name="d",n.appendChild(s),globalThis.document.body.appendChild(n)}return Qy=function(c,h,d){n||u();var p="a"+r.string(8);n.target=p,n.action=e.addQuery(e.addPath(c,"/jsonp_send"),"i="+p);var g=o(p);g.id=p,g.style.display="none",n.appendChild(g);try{s.value=h}catch{}n.submit();var b=function(w){g.onerror&&(g.onreadystatechange=g.onerror=g.onload=null,setTimeout(function(){g.parentNode.removeChild(g),g=null},500),s.value="",d(w))};return g.onerror=function(){b()},g.onload=function(){b()},g.onreadystatechange=function(w){t("onreadystatechange",p,g.readyState),g.readyState==="complete"&&b()},function(){b(new Error("Aborted"))}},Qy}var Ky,E3;function CI(){if(E3)return Ky;E3=1;var r=tt(),e=w5(),t=TI(),n=_I();function s(o){if(!s.enabled())throw new Error("Transport created when disabled");e.call(this,o,"/jsonp",n,t)}return r(s,e),s.enabled=function(){return!!globalThis.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,Ky=s,Ky}var Zy,A3;function NI(){return A3||(A3=1,Zy=[yI(),wI(),E5(),c3(),Gy()(c3()),v3(),Gy()(v3()),b3(),AI(),Gy()(b3()),CI()]),Zy}var T3={},_3;function RI(){if(_3)return T3;_3=1;var r=Array.prototype,e=Object.prototype,t=Function.prototype,n=String.prototype,s=r.slice,o=e.toString,u=function(F){return e.toString.call(F)==="[object Function]"},c=function(U){return o.call(U)==="[object Array]"},h=function(U){return o.call(U)==="[object String]"},d=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),p;d?p=function(F,U,q,te){!te&&U in F||Object.defineProperty(F,U,{configurable:!0,enumerable:!1,writable:!0,value:q})}:p=function(F,U,q,te){!te&&U in F||(F[U]=q)};var g=function(F,U,q){for(var te in U)e.hasOwnProperty.call(U,te)&&p(F,te,U[te],q)},b=function(F){if(F==null)throw new TypeError("can't convert "+F+" to object");return Object(F)};function w(F){var U=+F;return U!==U?U=0:U!==0&&U!==1/0&&U!==-1/0&&(U=(U>0||-1)*Math.floor(Math.abs(U))),U}function S(F){return F>>>0}function E(){}g(t,{bind:function(U){var q=this;if(!u(q))throw new TypeError("Function.prototype.bind called on incompatible "+q);for(var te=s.call(arguments,1),V=function(){if(this instanceof de){var W=q.apply(this,te.concat(s.call(arguments)));return Object(W)===W?W:this}else return q.apply(U,te.concat(s.call(arguments)))},ee=Math.max(0,q.length-te.length),Y=[],oe=0;oe<ee;oe++)Y.push("$"+oe);var de=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this, arguments); }")(V);return q.prototype&&(E.prototype=q.prototype,de.prototype=new E,E.prototype=null),de}}),g(Array,{isArray:c});var D=Object("a"),A=D[0]!=="a"||!(0 in D),C=function(U){var q=!0,te=!0;return U&&(U.call("foo",function(V,ee,Y){typeof Y!="object"&&(q=!1)}),U.call([1],function(){te=typeof this=="string"},"x")),!!U&&q&&te};g(r,{forEach:function(U){var q=b(this),te=A&&h(this)?this.split(""):q,V=arguments[1],ee=-1,Y=te.length>>>0;if(!u(U))throw new TypeError;for(;++ee<Y;)ee in te&&U.call(V,te[ee],ee,q)}},!C(r.forEach));var R=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;g(r,{indexOf:function(U){var q=A&&h(this)?this.split(""):b(this),te=q.length>>>0;if(!te)return-1;var V=0;for(arguments.length>1&&(V=w(arguments[1])),V=V>=0?V:Math.max(0,te+V);V<te;V++)if(V in q&&q[V]===U)return V;return-1}},R);var N=n.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var F=/()??/.exec("")[1]===void 0;n.split=function(U,q){var te=this;if(U===void 0&&q===0)return[];if(o.call(U)!=="[object RegExp]")return N.call(this,U,q);var V=[],ee=(U.ignoreCase?"i":"")+(U.multiline?"m":"")+(U.extended?"x":"")+(U.sticky?"y":""),Y=0,oe,de,W,ie;for(U=new RegExp(U.source,ee+"g"),te+="",F||(oe=new RegExp("^"+U.source+"$(?!\\s)",ee)),q=q===void 0?-1>>>0:S(q);(de=U.exec(te))&&(W=de.index+de[0].length,!(W>Y&&(V.push(te.slice(Y,de.index)),!F&&de.length>1&&de[0].replace(oe,function(){for(var ce=1;ce<arguments.length-2;ce++)arguments[ce]===void 0&&(de[ce]=void 0)}),de.length>1&&de.index<te.length&&r.push.apply(V,de.slice(1)),ie=de[0].length,Y=W,V.length>=q)));)U.lastIndex===de.index&&U.lastIndex++;return Y===te.length?(ie||!U.test(""))&&V.push(""):V.push(te.slice(Y)),V.length>q?V.slice(0,q):V}}():"0".split(void 0,0).length&&(n.split=function(U,q){return U===void 0&&q===0?[]:N.call(this,U,q)});var L=n.substr,H="".substr&&"0b".substr(-1)!=="b";return g(n,{substr:function(U,q){return L.call(this,U<0&&(U=this.length+U)<0?0:U,q)}},H),T3}var Jy,C3;function MI(){if(C3)return Jy;C3=1;var r=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,e,t=function(n){var s,o={},u=[];for(s=0;s<65536;s++)u.push(String.fromCharCode(s));return n.lastIndex=0,u.join("").replace(n,function(c){return o[c]="\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,o};return Jy={quote:function(n){var s=JSON.stringify(n);return r.lastIndex=0,r.test(s)?(e||(e=t(r)),s.replace(r,function(o){return e[o]})):s}},Jy}var eb,N3;function DI(){if(N3)return eb;N3=1;var r=function(){};return eb=function(e){return{filterToEnabled:function(t,n){var s={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(o){if(o&&!(o.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(o.transportName)===-1){r("not in whitelist",o.transportName);return}o.enabled(n)?(r("enabled",o.transportName),s.main.push(o),o.facadeTransport&&s.facade.push(o.facadeTransport)):r("disabled",o.transportName)}}),s}}},eb}var tb,R3;function LI(){if(R3)return tb;R3=1;var r={};return["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}r[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:r.log}),tb=r,tb}var nb,M3;function gw(){if(M3)return nb;M3=1;function r(e){this.type=e}return r.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,nb=r,nb}var ib,D3;function C5(){return D3||(D3=1,ib=globalThis.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),ib}var sb,L3;function OI(){if(L3)return sb;L3=1;var r=tt(),e=gw();function t(){e.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return r(t,e),sb=t,sb}var rb,O3;function kI(){if(O3)return rb;O3=1;var r=tt(),e=gw();function t(n){e.call(this),this.initEvent("message",!1,!1),this.data=n}return r(t,e),rb=t,rb}var ab,k3;function jI(){if(k3)return ab;k3=1;var r=Zn().EventEmitter,e=tt();function t(){var n=this;r.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},t.timeout)}return e(t,r),t.prototype.close=function(){clearTimeout(this.to)},t.timeout=2e3,ab=t,ab}var ob,j3;function N5(){if(j3)return ob;j3=1;var r=Zn().EventEmitter,e=tt(),t=mw();function n(s,o){r.call(this);var u=this,c=+new Date;this.xo=new o("GET",s),this.xo.once("finish",function(h,d){var p,g;if(h===200){if(g=+new Date-c,d)try{p=JSON.parse(d)}catch{}t.isObject(p)||(p={})}u.emit("finish",p,g),u.removeAllListeners()})}return e(n,r),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},ob=n,ob}var lb,P3;function R5(){if(P3)return lb;P3=1;var r=tt(),e=Zn().EventEmitter,t=pp(),n=N5();function s(o){var u=this;e.call(this),this.ir=new n(o,t),this.ir.once("finish",function(c,h){u.ir=null,u.emit("message",JSON.stringify([c,h]))})}return r(s,e),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},lb=s,lb}var cb,I3;function PI(){if(I3)return cb;I3=1;var r=Zn().EventEmitter,e=tt(),t=go(),n=_5(),s=R5();function o(u,c){var h=this;r.call(this);var d=function(){var p=h.ifr=new n(s.transportName,c,u);p.once("message",function(g){if(g){var b;try{b=JSON.parse(g)}catch{h.emit("finish"),h.close();return}var w=b[0],S=b[1];h.emit("finish",w,S)}h.close()}),p.once("close",function(){h.emit("finish"),h.close()})};globalThis.document.body?d():t.attachEvent("load",d)}return e(o,r),o.enabled=function(){return n.enabled()},o.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},cb=o,cb}var ub,F3;function II(){if(F3)return ub;F3=1;var r=Zn().EventEmitter,e=tt(),t=ns(),n=pw(),s=b0(),o=pp(),u=jI(),c=PI(),h=N5();function d(p,g){var b=this;r.call(this),setTimeout(function(){b.doXhr(p,g)},0)}return e(d,r),d._getReceiver=function(p,g,b){return b.sameOrigin?new h(g,o):s.enabled?new h(g,s):n.enabled&&b.sameScheme?new h(g,n):c.enabled()?new c(p,g):new h(g,u)},d.prototype.doXhr=function(p,g){var b=this,w=t.addPath(p,"/info");this.xo=d._getReceiver(p,w,g),this.timeoutRef=setTimeout(function(){b._cleanup(!1),b.emit("finish")},d.timeout),this.xo.once("finish",function(S,E){b._cleanup(!0),b.emit("finish",S,E)})},d.prototype._cleanup=function(p){clearTimeout(this.timeoutRef),this.timeoutRef=null,!p&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,ub=d,ub}var hb,B3;function FI(){if(B3)return hb;B3=1;var r=gp();function e(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(t,n){r.postMessage("c",JSON.stringify([t,n]))},e.prototype._transportMessage=function(t){r.postMessage("t",t)},e.prototype._send=function(t){this._transport.send(t)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},hb=e,hb}var db,H3;function BI(){if(H3)return db;H3=1;var r=ns(),e=go(),t=FI(),n=R5(),s=gp(),o=C5(),u=function(){};return db=function(c,h){var d={};h.forEach(function(g){g.facadeTransport&&(d[g.facadeTransport.transportName]=g.facadeTransport)}),d[n.transportName]=n;var p;c.bootstrap_iframe=function(){var g;s.currentWindowId=o.hash.slice(1);var b=function(w){if(w.source===parent&&(typeof p>"u"&&(p=w.origin),w.origin===p)){var S;try{S=JSON.parse(w.data)}catch{u("bad json",w.data);return}if(S.windowId===s.currentWindowId)switch(S.type){case"s":var E;try{E=JSON.parse(S.data)}catch{u("bad json",S.data);break}var D=E[0],A=E[1],C=E[2],R=E[3];if(D!==c.version)throw new Error('Incompatible SockJS! Main site uses: "'+D+'", the iframe: "'+c.version+'".');if(!r.isOriginEqual(C,o.href)||!r.isOriginEqual(R,o.href))throw new Error("Can't connect to different domain from within an iframe. ("+o.href+", "+C+", "+R+")");g=new t(new d[A](C,R));break;case"m":g._send(S.data);break;case"c":g&&g._close(),g=null;break}}};e.attachEvent("message",b),s.postMessage("s")}},db}var fb,U3;function HI(){if(U3)return fb;U3=1,RI();var r=b5(),e=tt(),t=oh(),n=MI(),s=ns(),o=go(),u=DI(),c=mw(),h=mp(),d=LI(),p=gw(),g=x5(),b=C5(),w=OI(),S=kI(),E=II(),D=function(){},A;function C(N,L,H){if(!(this instanceof C))return new C(N,L,H);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");g.call(this),this.readyState=C.CONNECTING,this.extensions="",this.protocol="",H=H||{},H.protocols_whitelist&&d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=H.transports,this._transportOptions=H.transportOptions||{},this._timeout=H.timeout||0;var F=H.sessionId||8;if(typeof F=="function")this._generateSessionId=F;else if(typeof F=="number")this._generateSessionId=function(){return t.string(F)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=H.server||t.numberString(1e3);var U=new r(N);if(!U.host||!U.protocol)throw new SyntaxError("The URL '"+N+"' is invalid");if(U.hash)throw new SyntaxError("The URL must not contain a fragment");if(U.protocol!=="http:"&&U.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+U.protocol+"' is not allowed.");var q=U.protocol==="https:";if(b.protocol==="https:"&&!q&&!s.isLoopbackAddr(U.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");L?Array.isArray(L)||(L=[L]):L=[];var te=L.sort();te.forEach(function(ee,Y){if(!ee)throw new SyntaxError("The protocols entry '"+ee+"' is invalid.");if(Y<te.length-1&&ee===te[Y+1])throw new SyntaxError("The protocols entry '"+ee+"' is duplicated.")});var V=s.getOrigin(b.href);this._origin=V?V.toLowerCase():null,U.set("pathname",U.pathname.replace(/\/+$/,"")),this.url=U.href,D("using url",this.url),this._urlInfo={nullOrigin:!h.hasDomain(),sameOrigin:s.isOriginEqual(this.url,b.href),sameScheme:s.isSchemeEqual(this.url,b.href)},this._ir=new E(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}e(C,g);function R(N){return N===1e3||N>=3e3&&N<=4999}return C.prototype.close=function(N,L){if(N&&!R(N))throw new Error("InvalidAccessError: Invalid code");if(L&&L.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===C.CLOSING||this.readyState===C.CLOSED)){var H=!0;this._close(N||1e3,L||"Normal closure",H)}},C.prototype.send=function(N){if(typeof N!="string"&&(N=""+N),this.readyState===C.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===C.OPEN&&this._transport.send(n.quote(N))},C.version=T5(),C.CONNECTING=0,C.OPEN=1,C.CLOSING=2,C.CLOSED=3,C.prototype._receiveInfo=function(N,L){if(this._ir=null,!N){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(L),this._transUrl=N.base_url?N.base_url:this.url,N=c.extend(N,this._urlInfo);var H=A.filterToEnabled(this._transportsWhitelist,N);this._transports=H.main,D(this._transports.length+" enabled transports"),this._connect()},C.prototype._connect=function(){for(var N=this._transports.shift();N;N=this._transports.shift()){if(D("attempt",N.transportName),N.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(N),o.attachEvent("load",this._connect.bind(this));return}var L=Math.max(this._timeout,this._rto*N.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),L);var H=s.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),F=this._transportOptions[N.transportName],U=new N(H,this._transUrl,F);U.on("message",this._transportMessage.bind(this)),U.once("close",this._transportClose.bind(this)),U.transportName=N.transportName,this._transport=U;return}this._close(2e3,"All transports failed",!1)},C.prototype._transportTimeout=function(){this.readyState===C.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},C.prototype._transportMessage=function(N){var L=this,H=N.slice(0,1),F=N.slice(1),U;switch(H){case"o":this._open();return;case"h":this.dispatchEvent(new p("heartbeat")),D("heartbeat",this.transport);return}if(F)try{U=JSON.parse(F)}catch{}if(!(typeof U>"u"))switch(H){case"a":Array.isArray(U)&&U.forEach(function(q){D("message",L.transport),L.dispatchEvent(new S(q))});break;case"m":D("message",this.transport),this.dispatchEvent(new S(U));break;case"c":Array.isArray(U)&&U.length===2&&this._close(U[0],U[1],!0);break}},C.prototype._transportClose=function(N,L){if(D("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!R(N)&&N!==2e3&&this.readyState===C.CONNECTING){this._connect();return}this._close(N,L)},C.prototype._open=function(){D("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===C.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=C.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new p("open")),D("connected",this.transport)):this._close(1006,"Server lost session")},C.prototype._close=function(N,L,H){D("_close",this.transport,N,L,H,this.readyState);var F=!1;if(this._ir&&(F=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===C.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=C.CLOSING,setTimeout((function(){this.readyState=C.CLOSED,F&&this.dispatchEvent(new p("error"));var U=new w("close");U.wasClean=H||!1,U.code=N||1e3,U.reason=L,this.dispatchEvent(U),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},C.prototype.countRTO=function(N){return N>100?4*N:300+N},fb=function(N){return A=u(N),BI()(C,N),C},fb}var pb,z3;function UI(){if(z3)return pb;z3=1;var r=NI();return pb=HI()(r),"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1),pb}var zI=UI();const qI=nh(zI),GI=()=>{const[r,e]=B.useState([]);return B.useEffect(()=>{const t=new qI("http://localhost:8080/ws"),n=new fI({webSocketFactory:()=>t,connectHeaders:{Authorization:"Bearer "+localStorage.getItem("authToken")},onConnect:()=>{n.subscribe("/topic/updates",s=>{e(o=>[...o,s.body])})}});return n.activate(),()=>n.deactivate()},[]),y.jsxs("div",{children:[y.jsx("h1",{children:"Live Updates"}),y.jsx("ul",{children:r.map((t,n)=>y.jsx("li",{children:t},n))})]})};function VI(){return B.useEffect(()=>{$I()},[]),y.jsx("div",{children:"Hi"})}async function $I(){if("serviceWorker"in navigator&&"PushManager"in window){const r=await navigator.serviceWorker.ready;if(await window.Notification.requestPermission()!=="granted")return;const t=await r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bO});await fetch("http://localhost:8080/api/subscribe",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`,"Content-Type":"application/json"},body:JSON.stringify(t)})}}function YI(){const{phoneOrSSN:r}=x8(),[e,t]=B.useState(null);return B.useEffect(()=>{r&&fetch(`http://localhost:8080/findpatient/${r}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(async n=>{if(!n.ok)throw new Error("Not found");const s=await n.json();t(s)}).catch(()=>t(null))},[r]),y.jsx("div",{children:e&&y.jsxs("div",{className:"max-w-5xl mx-auto my-10 bg-white p-6 md:p-10 rounded-xl shadow-lg text-gray-800",children:[y.jsx("h1",{className:"text-3xl font-bold text-center text-blue-900 mb-8",children:"Medication Profile Report"}),y.jsxs("section",{className:"mb-10",children:[y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Patient Information"}),y.jsxs("p",{children:[y.jsx("strong",{children:"Full Name:"})," ",e.fullName]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Date of Birth:"})," ",e.dateOfBirth]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Gender:"})," ",e.gender]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Phone number:"})," ",e.phoneNumber]}),y.jsxs("p",{children:[y.jsx("strong",{children:"SSN:"})," ",e.nationalId]})]}),y.jsxs("section",{className:"mb-10 overflow-x-auto",children:[y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Active Medications"}),y.jsxs("table",{className:"min-w-full text-sm table-auto border ",children:[y.jsx("thead",{className:"bg-blue-500 text-white",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2",children:"Medication Name"}),y.jsx("th",{className:"px-4 py-2",children:"Dosage"}),y.jsx("th",{className:"px-4 py-2",children:"Route"}),y.jsx("th",{className:"px-4 py-2",children:"Frequency"}),y.jsx("th",{className:"px-4 py-2",children:"duration"}),y.jsx("th",{className:"px-4 py-2",children:"Prescribing Physician"})]})}),y.jsx("tbody",{children:e.drugHistory.map((n,s)=>y.jsxs("tr",{className:s%2===0?"bg-blue-50":"",children:[y.jsx("td",{className:"border px-4 py-2",children:n.drugName},s),y.jsx("td",{className:"border px-4 py-2",children:n.dosage},s),y.jsx("td",{className:"border px-4 py-2",children:n.route},s),y.jsx("td",{className:"border px-4 py-2",children:n.frequency},s),y.jsx("td",{className:"border px-4 py-2",children:n.duration},s),y.jsx("td",{className:"border px-4 py-2",children:n.prescribingPhysician},s)]}))})]})]}),y.jsxs("section",{className:"mb-10 overflow-x-auto",children:[y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Allergies"}),y.jsxs("table",{className:"min-w-full text-sm table-auto border ",children:[y.jsx("thead",{className:"bg-blue-500 text-white",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2",children:"Allergen"}),y.jsx("th",{className:"px-4 py-2",children:"Reaction"}),y.jsx("th",{className:"px-4 py-2",children:"Severity"})]})}),y.jsx("tbody",{children:e.allergy.map((n,s)=>y.jsxs("tr",{className:s%2===0?"bg-blue-50":"",children:[y.jsx("td",{className:"border px-4 py-2",children:n.allergy},s),y.jsx("td",{className:"border px-4 py-2",children:n.reaction},s),y.jsx("td",{className:"border px-4 py-2",children:n.severity},s)]},s))})]})]}),y.jsxs("section",{className:"mb-10 overflow-x-auto",children:[y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Medical History"}),y.jsxs("table",{className:"min-w-full text-sm table-auto border ",children:[y.jsx("thead",{className:"bg-blue-500 text-white ",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2",children:"Condition"}),y.jsx("th",{className:"px-4 py-2",children:"Diagnosis Year"})]})}),y.jsx("tbody",{children:e.medicalHistory.map((n,s)=>y.jsxs("tr",{className:s%2===0?"bg-blue-50":"",children:[y.jsx("td",{className:"border px-4 py-2",children:n.description},s),y.jsx("td",{className:"border px-4 py-2",children:n.date},s)]},s))})]})]}),y.jsxs("section",{className:"mb-10",children:[y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Chronic Diseases"}),y.jsx("ul",{className:"list-disc list-inside space-y-2",children:e.chronicDiseases.map((n,s)=>y.jsx("li",{children:n.name}))})]}),y.jsxs("section",{className:"mb-10 overflow-x-auto",children:[y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Physician Contacts"}),y.jsxs("table",{className:"min-w-full text-sm table-auto border ",children:[y.jsx("thead",{className:"bg-blue-500 text-white",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-2",children:"Physician Name"}),y.jsx("th",{className:"px-4 py-2",children:"Specialty"}),y.jsx("th",{className:"px-4 py-2",children:"Contact Number"})]})}),y.jsx("tbody",{children:[["Dr. Alice Monroe","Endocrinologist","(555) 123-4567"],["Dr. Robert Smith","Cardiologist","(555) 234-5678"],["Dr. Emily Clark","Pulmonologist","(555) 345-6789"]].map((n,s)=>y.jsx("tr",{className:s%2===0?"bg-blue-50":"",children:n.map((o,u)=>y.jsx("td",{className:"border px-4 py-2",children:o},u))},s))})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-2xl font-semibold border-b-2 border-blue-500 pb-1 mb-4",children:"Emergency Contact"}),y.jsxs("p",{children:[y.jsx("strong",{children:"Name:"})," Jane Doe"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Relationship:"})," Spouse"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Phone:"})," (555) 987-6543"]})]})]})})}function q3({children:r,setIndex:e,Index:t,currentIndex:n,setDoctorsList:s,setUserList:o}){const u=t===n;return y.jsx("div",{className:"flex flex-row items-center gap-3",children:y.jsx("button",{onClick:async()=>{e(t)},className:`inline-flex w-full px-4 py-2 text-gray-800 hover:bg-blue-100 cursor-pointer ${u?"bg-gradient-custom":""}`,children:r})})}function XI(){const[r,e]=B.useState(0),t=80,[n,s]=B.useState([]),[o,u]=B.useState([]);return B.useEffect(()=>{(async()=>{if(r===0){await ft.GetDoctorsList();const h=JSON.parse(localStorage.getItem("DoctorsList")||"[]");s(h)}if(r===1){await ft.GetAllUsers();const h=JSON.parse(localStorage.getItem("allUsers"));u(h)}})()},[r]),y.jsxs(y.Fragment,{children:[y.jsx(g0,{}),y.jsxs("div",{className:"flex flex-row  justify-center space-x-10 @container",children:[y.jsxs("div",{className:"flex-col bg-white border-gray-200  rounded-lg pt-5 @max-[800px]:hidden ",children:[y.jsxs(q3,{setIndex:e,Index:0,currentIndex:r,setDoctorsList:s,children:[y.jsx("svg",{height:"24px",width:"24px",fill:"#000000",viewBox:"0 -960 960 960",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"})}),y.jsx("p",{children:"DoctorsList"})]}),y.jsxs(q3,{setIndex:e,Index:1,currentIndex:r,setUserList:u,children:[y.jsx("svg",{height:"24px",width:"24px",fill:"#000000",viewBox:"0 -960 960 960",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z"})}),y.jsx("p",{children:"PatientList"})]})]}),y.jsx("div",{className:`flex-col w-[${t}vw] bg-white border-gray-200 border-1 rounded-lg p-10`,children:r===0?n.map((c,h)=>y.jsxs("div",{className:"border p-4 mb-2 rounded shadow",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Name:"})," ",c.fullName]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Status:"})," ",c.status]}),c.status==="Pending"&&y.jsxs("div",{className:"flex gap-3 mt-2",children:[y.jsx("button",{className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-300",onClick:async()=>{console.log("Approving doctor:",c.doctorId),await ft.UpdateDoctorStatus(c.doctorId,"Confirmed"),await ft.GetDoctorsByStatus("Pending");const d=JSON.parse(localStorage.getItem("DoctorsList")||"[]");s(d),alert("Doctor approved")},children:"Approve"}),y.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-300",onClick:async()=>{console.log("Rejecting Doctor:",c.doctorId),await ft.UpdateDoctorStatus(c.doctorId,"Rejected"),await ft.GetDoctorsByStatus("Pending");const d=JSON.parse(localStorage.getItem("DoctorsList")||"[]");s(d),alert("Doctor rejected")},children:"Reject"})]})]},h)):r===1?o.map((c,h)=>y.jsx("div",{children:c.fullName},h)):y.jsx("div",{className:"text-red-500",children:"Error: Index does not exist"})})]})]})}function WI(){const[e,t]=B.useState([]),[n,s]=B.useState(0);rh();const[o,u]=B.useState(JSON.parse(localStorage.getItem("userData")));return B.useEffect(()=>{if(e.length===0){for(let c=1;c<=12;c++)c<10?e.push({key:"0"+c+":00 AM",value:"0"+c+":00 AM"}):e.push({key:c+":00 AM",value:c+":00 AM"});for(let c=1;c<=12;c++)c<10?e.push({key:"0"+c+":00 PM",value:"0"+c+":00 PM"}):e.push({key:c+":00 PM",value:c+":00 PM"});t(e)}},[e]),y.jsxs(y.Fragment,{children:[y.jsx(g0,{}),y.jsxs("div",{className:"flex flex-row  justify-center space-x-10 @container",children:[y.jsxs("div",{className:"flex-col bg-white border-gray-200  rounded-lg pt-5 @max-[800px]:hidden ",children:[y.jsxs(G3,{setIndex:s,Index:0,currentIndex:n,children:[y.jsx("svg",{height:"24px",width:"24px",fill:"#000000",viewBox:"0 -960 960 960",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"})}),y.jsx("p",{children:"Dashboard"})]}),y.jsxs(G3,{setIndex:s,Index:1,currentIndex:n,children:[y.jsx("svg",{height:"24px",width:"24px",fill:"#000000",viewBox:"0 -960 960 960",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z"})}),y.jsx("p",{children:"Password Settings"})]})]}),y.jsx("div",{className:"flex-col w-[80vw] bg-white border-gray-200 border-1 rounded-lg p-10",children:n===0?y.jsx(QI,{workingHours:e,user:o,setUser:u}):y.jsx("div",{className:"text-red-500",children:"Error: Index does not exist"})})]})]})}function QI({workingHours:r,user:e,setUser:t}){const[n,s]=B.useState([]),[o,u]=B.useState(!1),[c,h]=B.useState(new Date),[d,p]=B.useState(!1),[g,b]=B.useState({workingDays:e.doctor.workingDays,vacations:e.doctor.vacations,startTime:e.doctor.startTime,endTime:e.doctor.endTime}),[w,S]=B.useState({totalPatients:0,newPatients:0,revenue:0,todayRemaining:0,rating:0}),[E,D]=B.useState(!1),[A,C]=B.useState(0);B.useEffect(()=>{(async()=>{const ee=JSON.parse(localStorage.getItem("DoctorReservations"));try{await ft.DoctorReservations(),s(ee.filter(Y=>Y.status==="Pending")),R(ee.filter(Y=>Y.status==="Pending"))}catch(Y){console.error("Error fetching appointments:",Y)}})()},[]);const R=V=>{const ee=new Date;ee.setHours(0,0,0,0);const oe=V.filter(G=>{const se=new Date(G.date);return se.setHours(0,0,0,0),se.getTime()===ee.getTime()&&G.status!=="Canceled"}).filter(G=>G.status!=="Completed").length,de=[...new Set(V.map(G=>G.patientId))],W=new Date;W.setMonth(W.getMonth()-1);const ie=V.filter(G=>new Date(G.date)>=W).reduce((G,se)=>(G.includes(se.patientId)||G.push(se.patientId),G),[]).length,ce=V.filter(G=>G.status==="Completed").length*250,be=(4+Math.random()).toFixed(1);S({totalPatients:de.length,newPatients:ie,revenue:ce,todayRemaining:oe,rating:be})},N=async(V,ee)=>{try{return await ft.UpdateAppointmentStatus(V,ee),await ft.DoctorReservations(),s(JSON.parse(localStorage.getItem("DoctorReservations")).filter(Y=>Y.status==="Pending")),R(JSON.parse(localStorage.getItem("DoctorReservations")).filter(Y=>Y.status==="Pending")),!0}catch(Y){return console.error("Error updating appointment:",Y),!1}},L=JSON.parse(localStorage.getItem("DoctorReservations")||"[]"),H=()=>{const V=new Date(c);return V.setHours(0,0,0,0),n.filter(ee=>{const Y=new Date(ee.date);return Y.setHours(0,0,0,0),Y.getTime()===V.getTime()}).sort((ee,Y)=>new Date(ee.date).getTime()-new Date(Y.date).getTime())},F=()=>{const V=new Date;return c.getDate()===V.getDate()&&c.getMonth()===V.getMonth()&&c.getFullYear()===V.getFullYear()},[U,q]=B.useState(H());if(B.useEffect(()=>{q(H())},[n,c]),o)return y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"}),y.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Loading appointments..."})]})});const te=(e==null?void 0:e.fullName)||"Doctor";return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-10",children:[y.jsxs("div",{className:"bg-[#e8e8d4] p-4 sm:p-6 rounded-lg shadow-sm mb-6 relative",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-blue-800",children:["Welcome ",te,"!"]}),y.jsxs("p",{className:"text-base sm:text-lg mt-1",children:["you have ",w.todayRemaining," patients remaining today!"]}),y.jsxs("p",{className:"text-base sm:text-lg",children:["your Todays Rating is ",y.jsx("span",{className:"font-bold",children:w.rating})]})]}),y.jsx("div",{className:"relative sm:absolute right-8 top-4 sm:top-1/2 sm:transform sm:-translate-y-1/2 mt-4 sm:mt-0",children:y.jsx("img",{src:"/api/placeholder/150/100",alt:"Stethoscope",className:"opacity-80 w-32 sm:w-auto"})})]}),y.jsxs("div",{className:"absolute top-4 right-4 text-gray-600 hidden sm:block",children:[y.jsx("p",{children:new Date().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),y.jsx("p",{className:"text-right",children:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})})]}),y.jsxs("div",{className:"block sm:hidden mt-4 text-gray-600",children:[y.jsx("p",{children:new Date().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),y.jsx("p",{children:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})})]})]}),y.jsxs("div",{className:"px-2 sm:px-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 max-w-7xl mx-auto",children:[y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsx("h3",{className:"text-gray-600 font-medium mb-2 bg-gray-800 text-white inline-block px-4 py-1 rounded",children:"Revenue"}),y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"text-3xl font-bold",children:[w.revenue," EGP"]}),y.jsx("p",{className:"text-sm text-gray-500",children:"Per day"})]}),y.jsxs("div",{className:"flex items-center text-green-500",children:[y.jsx("span",{className:"text-xs mr-1",children:"↑"}),y.jsx("span",{className:"text-sm",children:"2%"})]})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsx("h3",{className:"text-gray-600 font-medium mb-2 bg-gray-800 text-white inline-block px-4 py-1 rounded",children:"Total patients"}),y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-3xl font-bold",children:w.totalPatients}),y.jsx("p",{className:"text-sm text-gray-500",children:" "})]}),y.jsxs("div",{className:"flex items-center text-green-500",children:[y.jsx("span",{className:"text-xs mr-1",children:"↑"}),y.jsx("span",{className:"text-sm",children:"3%"})]})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[y.jsx("h3",{className:"text-gray-600 font-medium mb-2 bg-gray-800 text-white inline-block px-4 py-1 rounded",children:"New patients"}),y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-3xl font-bold",children:w.newPatients}),y.jsx("p",{className:"text-sm text-gray-500",children:"Per month"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-xs mr-1",children:" "}),y.jsx("span",{className:"text-sm",children:" "})]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-6 max-w-[1700px] mx-auto",children:[y.jsx("div",{className:`@container ${E?"lg:col-span-3 ":"lg:col-span-4 "} `,children:y.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-gray-100 p-4 border-b",children:[y.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:"Reservations"}),y.jsx("div",{className:"flex items-center space-x-2 mt-2 sm:mt-0",children:y.jsxs("span",{className:"font-medium",children:[c.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),F()?" (Today)":""]})})]}),y.jsx("div",{className:"divide-y divide-gray-100",children:U.length>0?U.map((V,ee)=>(L.find(Y=>Y.id===V.user.userId)||""+V.patientId,y.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${ee===0&&"bg-[#E7F0EE]/42"}`,children:y.jsxs("div",{className:`flex items-start ${ee===0&&"h-35"}`,children:[y.jsxs("div",{className:"flex",children:[y.jsx("img",{src:V.user.imageUrl!=null?V.user.imageUrl:e.gender==="male"?ta:ea,alt:"Patient",className:"h-22 w-22 rounded-full object-cover z-1 ml-1"}),ee==0&&y.jsxs("div",{className:"w-[50cqw] md:w-[75cqw] bg-[#ABD1DD]/47 rounded-xl z-0 mt-15 absolute px-5 py-7 text-black/70",children:[y.jsx("p",{className:"max-[1700px]:w-[50cqw] overflow-hidden text-ellipsis whitespace-nowrap",children:V.visitPurpose}),y.jsx("button",{type:"button",onClick:()=>{C(ee),D(!E)},className:"absolute right-0 bottom-0 font-[Poppins] bg-[#FFFFFF]/47 rounded-xl px-4 py-2 mr-2 mb-2 text-xs",children:"More Details"})]})]}),y.jsx("div",{className:"flex-grow",children:y.jsxs("div",{className:"flex justify-between items-start  ml-5",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsxs("div",{className:"flex flex-row",children:[y.jsx("h3",{className:"font-medium font-[Poppins]",children:V.user.fullName}),y.jsx("p",{className:"text-sm text-gray-500 ml-4",children:V.status==="New Patient"?"New Patient":"Return Visit"})]}),ee!==0&&y.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[y.jsx(kP,{size:14,className:"mr-1"}),y.jsx("span",{children:new Date(V.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),y.jsxs("div",{className:"flex flex-col space-y-2",children:[V.status!=="Canceled"&&V.status!=="Completed"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded text-sm",onClick:()=>{},children:"Reschedule"}),y.jsxs("button",{className:"bg-gray-100 text-gray-700 hover:bg-gray-200 px-3 py-1 rounded text-sm flex items-center",onClick:async()=>{await N(V.id,"Completed")},children:[y.jsx(DP,{size:14,className:"mr-1"})," Dismiss"]}),ee===0&&y.jsxs("div",{className:"flex flex-col bg-orange-100 text-orange-700 px-3 py-0.5 rounded text-xs w-30 mt-5 items-center",children:[y.jsx("p",{children:"Next patient in"}),y.jsx("p",{children:"30min"})]})]}),V.status==="Completed"&&y.jsx("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded text-sm",children:"Completed"}),V.status==="Canceled"&&y.jsx("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded text-sm",children:"Canceled"})]})]})})]})},ee))):y.jsxs("div",{className:"py-8 text-center text-gray-500",children:[y.jsx(f5,{className:"mx-auto mb-2 h-8 w-8 text-gray-400"}),y.jsxs("p",{children:["No appointments scheduled for ",F()?"today":"this date","."]})]})})]})}),E===!0?y.jsx("div",{className:"lg:col-span-3",children:y.jsx(VP,{appointment:U,Index:A,user:e,setUser:t})}):y.jsxs("div",{className:" lg:col-span-2",children:[y.jsx(EP,{appointments:n,onDateSelect:V=>h(V),user:e,formData:g,setFormData:b,enableVacation:d,setEnableVacation:p}),y.jsx(KI,{workingHours:r,user:e,setUser:t,formData:g,setFormData:b,enableVacation:d,setEnableVacation:p})]})]}),y.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow overflow-hidden",children:[y.jsx("div",{className:"bg-gray-100 p-4 border-b",children:y.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:"All Patient Appointments"})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient Name"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n&&n.length>0?n.map((V,ee)=>{const Y=L.find(oe=>oe.id===V.patientId)||{fullName:"Patient #"+V.patientId,phone:"Not available"};return y.jsxs("tr",{className:`
                          ${V.status==="Canceled"?"bg-red-50":V.status==="Completed"?"bg-green-50":V.status==="Confirmed"?"bg-blue-50":""}
                      hover:bg-gray-50
                          `,children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"flex items-center",children:y.jsxs("div",{className:"ml-4",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.fullName}),y.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",V.patientId]})]})})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm text-gray-900",children:V.email}),y.jsx("div",{className:"text-sm text-gray-500",children:Y.phone})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                            ${V.status==="Canceled"?"bg-red-100 text-red-800":V.status==="Completed"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}
                          `,children:V.status})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(V.date).toLocaleDateString()}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(V.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[V.status!=="Canceled"&&V.status!=="Completed"&&y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:async()=>{await N(V.id,"Completed")},children:"Complete"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:async()=>{window.confirm("Are you sure you want to cancel this appointment?")&&await N(V.id,"Canceled")&&alert("Appointment canceled successfully.")},children:"Cancel"})]}),V.status==="Completed"&&y.jsx("span",{className:"text-green-600",children:"✓ Completed"}),V.status==="Canceled"&&y.jsx("span",{className:"text-red-600",children:"✗ Canceled"})]})]},ee)}):y.jsx("tr",{children:y.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No appointments found. Your scheduled appointments will appear here."})})})]})})]})]})]})}function G3({children:r,setIndex:e,Index:t,currentIndex:n}){const s=t===n;return y.jsx("div",{className:"flex flex-row items-center gap-3",children:y.jsx("button",{onClick:()=>{e(t),console.log(t)},className:`inline-flex w-full px-4 py-2 text-gray-800 hover:bg-blue-100 cursor-pointer ${s?"bg-gradient-custom":""}`,children:r})})}function KI({workingHours:r,user:e,setUser:t,formData:n,setFormData:s,enableVacation:o,setEnableVacation:u}){B.useEffect(()=>{(async()=>{console.log("From USEeffect",n.workingDays),await ft.UpdateOrCreateDoctorInfo(n),await ft.GetCurrentUser(),t(JSON.parse(localStorage.getItem("userData")))})()},[n,t]);function c({e:d}){const{name:p,value:g}=d.target;console.log(p,g),s({...n,[p]:ZI(g)})}function h({name:d}){n.workingDays.includes(d)?(s({...n,workingDays:n.workingDays.filter(p=>p!==d)}),console.log("Remove",n.workingDays)):(s({...n,workingDays:[...n.workingDays,d]}),console.log("ADD",n.workingDays))}return y.jsxs(y.Fragment,{children:[y.jsx("div",{children:"working days"}),y.jsxs("div",{className:"flex flex-row space-x-2 ",children:[y.jsx("button",{type:"button",onClick:()=>{h({name:"SUN"})},className:`${n.workingDays.includes("SUN")?"bg-blue-100":"bg-gray-100 text-gray-500"} p-2`,children:"sun"}),y.jsx("button",{type:"button",onClick:()=>{h({name:"MON"})},className:`${n.workingDays.includes("MON")?"bg-blue-100":"bg-gray-100 text-gray-500"} p-2`,children:"MON"}),y.jsx("button",{type:"button",onClick:()=>{h({name:"TUE"})},className:`${n.workingDays.includes("TUE")?"bg-blue-100":"bg-gray-100 text-gray-500"} p-2`,children:"TUE"}),y.jsx("button",{type:"button",onClick:()=>{h({name:"WED"})},className:`${n.workingDays.includes("WED")?"bg-blue-100":"bg-gray-100 text-gray-500"} p-2`,children:"WED"}),y.jsx("button",{type:"button",onClick:()=>{h({name:"THU"})},className:`${n.workingDays.includes("THU")?"bg-blue-100":"bg-gray-100 text-gray-500"} p-2`,children:"THU"}),y.jsx("button",{type:"button",onClick:()=>{h({name:"FRI"})},className:`${n.workingDays.includes("FRI")?"bg-blue-100":"bg-gray-100 text-gray-500"} p-2`,children:"FRI"}),y.jsx("button",{type:"button",onClick:()=>{h({name:"SAT"})},className:`${n.workingDays.includes("SAT")?"bg-blue-100":"bg-gray-100 text-gray-500"} p-2`,children:"SAT"})]}),y.jsxs("div",{className:"flex flex-row space-x-10",children:[y.jsx("div",{children:"vacations"}),y.jsx("button",{type:"button",onClick:()=>{u(!o)},className:`${o?"bg-green-300":"bg-blue-100"} rounded-lg p-2`,children:"EDIT"})]}),y.jsx("div",{children:"working hours"}),y.jsxs("div",{className:"flex flex-row space-x-10 ",children:[y.jsx("select",{name:"startTime",value:V3(n.startTime),onChange:d=>{c({e:d})},children:r.map(({key:d,value:p},g)=>y.jsxs("option",{value:p,children:[" ",d]},g))}),y.jsx("p",{children:"to"}),y.jsx("select",{name:"endTime",value:V3(n.endTime),onChange:d=>{c({e:d})},children:r.map(({key:d,value:p},g)=>y.jsxs("option",{value:p,children:[" ",d]},g))})]})]})}function V3(r){const[e,t]=r.split(":");let n=parseInt(e,10);const s=n>=12?"PM":"AM";return n=n%12||12,`${n.toString().padStart(2,"0")}:${t} ${s}`}function ZI(r){const[e,t]=r.split(" ");let[n,s]=e.split(":").map(Number);return t==="PM"&&n!==12&&(n+=12),t==="AM"&&n===12&&(n=0),`${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:00.000000`}function JI(){return y.jsxs(j8,{children:[y.jsx(as,{path:"/",element:y.jsx(xP,{})}),y.jsx(as,{path:"/admin",element:y.jsx(XI,{})}),y.jsx(as,{path:"/dashboard",element:y.jsx(WI,{})}),y.jsx(as,{path:"/signup",element:y.jsx(SP,{})}),y.jsx(as,{path:"/settings",element:y.jsx(k_,{})}),y.jsx(as,{path:"/doctor",element:y.jsx(k_,{})}),y.jsx(as,{path:"/websocket",element:y.jsx(GI,{})}),y.jsx(as,{path:"/notification",element:y.jsx(VI,{})}),y.jsx(as,{path:"/findpatient/:phoneOrSSN",element:y.jsx(YI,{})}),y.jsx(as,{path:"/login",element:y.jsx(W4,{})})]})}window.Buffer=W6.Buffer;window.process=Z6;window.global=window;nw.workerSrc=jL;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"})});qL.createRoot(document.getElementById("root")).render(y.jsx(Pj,{children:y.jsx(rO,{children:y.jsx(JI,{})})}));
